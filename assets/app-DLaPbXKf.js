(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=a(l);fetch(l.href,c)}})();var qd={exports:{}},Kr={};var Ny;function _w(){if(Ny)return Kr;Ny=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,l,c){var u=null;if(c!==void 0&&(u=""+c),l.key!==void 0&&(u=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:n,type:r,key:u,ref:l!==void 0?l:null,props:c}}return Kr.Fragment=t,Kr.jsx=a,Kr.jsxs=a,Kr}var By;function Tw(){return By||(By=1,qd.exports=_w()),qd.exports}var h=Tw(),Gd={exports:{}},we={};var Ly;function kw(){if(Ly)return we;Ly=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),b=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,R={};function A(O,H,X){this.props=O,this.context=H,this.refs=R,this.updater=X||_}A.prototype.isReactComponent={},A.prototype.setState=function(O,H){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,H,"setState")},A.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function C(){}C.prototype=A.prototype;function k(O,H,X){this.props=O,this.context=H,this.refs=R,this.updater=X||_}var L=k.prototype=new C;L.constructor=k,j(L,A.prototype),L.isPureReactComponent=!0;var V=Array.isArray;function Y(){}var F={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function te(O,H,X){var Z=X.ref;return{$$typeof:n,type:O,key:H,ref:Z!==void 0?Z:null,props:X}}function he(O,H){return te(O.type,H,O.props)}function ke(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function ye(O){var H={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(X){return H[X]})}var ot=/\/+/g;function vt(O,H){return typeof O=="object"&&O!==null&&O.key!=null?ye(""+O.key):H.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Y,Y):(O.status="pending",O.then(function(H){O.status==="pending"&&(O.status="fulfilled",O.value=H)},function(H){O.status==="pending"&&(O.status="rejected",O.reason=H)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function P(O,H,X,Z,de){var Q=typeof O;(Q==="undefined"||Q==="boolean")&&(O=null);var le=!1;if(O===null)le=!0;else switch(Q){case"bigint":case"string":case"number":le=!0;break;case"object":switch(O.$$typeof){case n:case t:le=!0;break;case y:return le=O._init,P(le(O._payload),H,X,Z,de)}}if(le)return de=de(O),le=Z===""?"."+vt(O,0):Z,V(de)?(X="",le!=null&&(X=le.replace(ot,"$&/")+"/"),P(de,H,X,"",function(be){return be})):de!=null&&(ke(de)&&(de=he(de,X+(de.key==null||O&&O.key===de.key?"":(""+de.key).replace(ot,"$&/")+"/")+le)),H.push(de)),1;le=0;var St=Z===""?".":Z+":";if(V(O))for(var st=0;st<O.length;st++)Z=O[st],Q=St+vt(Z,st),le+=P(Z,H,X,Q,de);else if(st=S(O),typeof st=="function")for(O=st.call(O),st=0;!(Z=O.next()).done;)Z=Z.value,Q=St+vt(Z,st++),le+=P(Z,H,X,Q,de);else if(Q==="object"){if(typeof O.then=="function")return P(Ie(O),H,X,Z,de);throw H=String(O),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return le}function K(O,H,X){if(O==null)return O;var Z=[],de=0;return P(O,Z,"","",function(Q){return H.call(X,Q,de++)}),Z}function J(O){if(O._status===-1){var H=O._result;H=H(),H.then(function(X){(O._status===0||O._status===-1)&&(O._status=1,O._result=X)},function(X){(O._status===0||O._status===-1)&&(O._status=2,O._result=X)}),O._status===-1&&(O._status=0,O._result=H)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ve={map:K,forEach:function(O,H,X){K(O,function(){H.apply(this,arguments)},X)},count:function(O){var H=0;return K(O,function(){H++}),H},toArray:function(O){return K(O,function(H){return H})||[]},only:function(O){if(!ke(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return we.Activity=x,we.Children=ve,we.Component=A,we.Fragment=a,we.Profiler=l,we.PureComponent=k,we.StrictMode=r,we.Suspense=m,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,we.__COMPILER_RUNTIME={__proto__:null,c:function(O){return F.H.useMemoCache(O)}},we.cache=function(O){return function(){return O.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(O,H,X){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=j({},O.props),de=O.key;if(H!=null)for(Q in H.key!==void 0&&(de=""+H.key),H)!q.call(H,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&H.ref===void 0||(Z[Q]=H[Q]);var Q=arguments.length-2;if(Q===1)Z.children=X;else if(1<Q){for(var le=Array(Q),St=0;St<Q;St++)le[St]=arguments[St+2];Z.children=le}return te(O.type,de,Z)},we.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},we.createElement=function(O,H,X){var Z,de={},Q=null;if(H!=null)for(Z in H.key!==void 0&&(Q=""+H.key),H)q.call(H,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=H[Z]);var le=arguments.length-2;if(le===1)de.children=X;else if(1<le){for(var St=Array(le),st=0;st<le;st++)St[st]=arguments[st+2];de.children=St}if(O&&O.defaultProps)for(Z in le=O.defaultProps,le)de[Z]===void 0&&(de[Z]=le[Z]);return te(O,Q,de)},we.createRef=function(){return{current:null}},we.forwardRef=function(O){return{$$typeof:p,render:O}},we.isValidElement=ke,we.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:J}},we.memo=function(O,H){return{$$typeof:g,type:O,compare:H===void 0?null:H}},we.startTransition=function(O){var H=F.T,X={};F.T=X;try{var Z=O(),de=F.S;de!==null&&de(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Y,ge)}catch(Q){ge(Q)}finally{H!==null&&X.types!==null&&(H.types=X.types),F.T=H}},we.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},we.use=function(O){return F.H.use(O)},we.useActionState=function(O,H,X){return F.H.useActionState(O,H,X)},we.useCallback=function(O,H){return F.H.useCallback(O,H)},we.useContext=function(O){return F.H.useContext(O)},we.useDebugValue=function(){},we.useDeferredValue=function(O,H){return F.H.useDeferredValue(O,H)},we.useEffect=function(O,H){return F.H.useEffect(O,H)},we.useEffectEvent=function(O){return F.H.useEffectEvent(O)},we.useId=function(){return F.H.useId()},we.useImperativeHandle=function(O,H,X){return F.H.useImperativeHandle(O,H,X)},we.useInsertionEffect=function(O,H){return F.H.useInsertionEffect(O,H)},we.useLayoutEffect=function(O,H){return F.H.useLayoutEffect(O,H)},we.useMemo=function(O,H){return F.H.useMemo(O,H)},we.useOptimistic=function(O,H){return F.H.useOptimistic(O,H)},we.useReducer=function(O,H,X){return F.H.useReducer(O,H,X)},we.useRef=function(O){return F.H.useRef(O)},we.useState=function(O){return F.H.useState(O)},we.useSyncExternalStore=function(O,H,X){return F.H.useSyncExternalStore(O,H,X)},we.useTransition=function(){return F.H.useTransition()},we.version="19.2.4",we}var Uy;function rf(){return Uy||(Uy=1,Gd.exports=kw()),Gd.exports}var T=rf(),Fd={exports:{}},Xr={},Wd={exports:{}},Yd={};var Py;function jw(){return Py||(Py=1,(function(n){function t(P,K){var J=P.length;P.push(K);e:for(;0<J;){var ge=J-1>>>1,ve=P[ge];if(0<l(ve,K))P[ge]=K,P[J]=ve,J=ge;else break e}}function a(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var K=P[0],J=P.pop();if(J!==K){P[0]=J;e:for(var ge=0,ve=P.length,O=ve>>>1;ge<O;){var H=2*(ge+1)-1,X=P[H],Z=H+1,de=P[Z];if(0>l(X,J))Z<ve&&0>l(de,X)?(P[ge]=de,P[Z]=J,ge=Z):(P[ge]=X,P[H]=J,ge=H);else if(Z<ve&&0>l(de,J))P[ge]=de,P[Z]=J,ge=Z;else break e}}return K}function l(P,K){var J=P.sortIndex-K.sortIndex;return J!==0?J:P.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var m=[],g=[],y=1,x=null,b=3,S=!1,_=!1,j=!1,R=!1,A=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function L(P){for(var K=a(g);K!==null;){if(K.callback===null)r(g);else if(K.startTime<=P)r(g),K.sortIndex=K.expirationTime,t(m,K);else break;K=a(g)}}function V(P){if(j=!1,L(P),!_)if(a(m)!==null)_=!0,Y||(Y=!0,ye());else{var K=a(g);K!==null&&Ie(V,K.startTime-P)}}var Y=!1,F=-1,q=5,te=-1;function he(){return R?!0:!(n.unstable_now()-te<q)}function ke(){if(R=!1,Y){var P=n.unstable_now();te=P;var K=!0;try{e:{_=!1,j&&(j=!1,C(F),F=-1),S=!0;var J=b;try{t:{for(L(P),x=a(m);x!==null&&!(x.expirationTime>P&&he());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,b=x.priorityLevel;var ve=ge(x.expirationTime<=P);if(P=n.unstable_now(),typeof ve=="function"){x.callback=ve,L(P),K=!0;break t}x===a(m)&&r(m),L(P)}else r(m);x=a(m)}if(x!==null)K=!0;else{var O=a(g);O!==null&&Ie(V,O.startTime-P),K=!1}}break e}finally{x=null,b=J,S=!1}K=void 0}}finally{K?ye():Y=!1}}}var ye;if(typeof k=="function")ye=function(){k(ke)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,vt=ot.port2;ot.port1.onmessage=ke,ye=function(){vt.postMessage(null)}}else ye=function(){A(ke,0)};function Ie(P,K){F=A(function(){P(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(P){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var J=b;b=K;try{return P()}finally{b=J}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var J=b;b=P;try{return K()}finally{b=J}},n.unstable_scheduleCallback=function(P,K,J){var ge=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ge+J:ge):J=ge,P){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=J+ve,P={id:y++,callback:K,priorityLevel:P,startTime:J,expirationTime:ve,sortIndex:-1},J>ge?(P.sortIndex=J,t(g,P),a(m)===null&&P===a(g)&&(j?(C(F),F=-1):j=!0,Ie(V,J-ge))):(P.sortIndex=ve,t(m,P),_||S||(_=!0,Y||(Y=!0,ye()))),P},n.unstable_shouldYield=he,n.unstable_wrapCallback=function(P){var K=b;return function(){var J=b;b=K;try{return P.apply(this,arguments)}finally{b=J}}}})(Yd)),Yd}var Iy;function Aw(){return Iy||(Iy=1,Wd.exports=jw()),Wd.exports}var Kd={exports:{}},tn={};var Vy;function Ew(){if(Vy)return tn;Vy=1;var n=rf();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,g,y){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:m,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(m,g,null,y)},tn.flushSync=function(m){var g=u.T,y=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=g,r.p=y,r.d.f()}},tn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},tn.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},tn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,x=p(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:b,fetchPriority:S}):y==="script"&&r.d.X(m,{crossOrigin:x,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},tn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=p(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},tn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,x=p(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},tn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=p(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},tn.requestFormReset=function(m){r.d.r(m)},tn.unstable_batchedUpdates=function(m,g){return m(g)},tn.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},tn.version="19.2.4",tn}var $y;function Cw(){if($y)return Kd.exports;$y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Kd.exports=Ew(),Kd.exports}var Hy;function Rw(){if(Hy)return Xr;Hy=1;var n=Aw(),t=rf(),a=Cw();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function u(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(r(188))}function g(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,o=i;;){var d=s.return;if(d===null)break;var f=d.alternate;if(f===null){if(o=d.return,o!==null){s=o;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===s)return m(d),e;if(f===o)return m(d),i;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=d,o=f;else{for(var v=!1,w=d.child;w;){if(w===s){v=!0,s=d,o=f;break}if(w===o){v=!0,o=d,s=f;break}w=w.sibling}if(!v){for(w=f.child;w;){if(w===s){v=!0,s=f,o=d;break}if(w===o){v=!0,o=f,s=d;break}w=w.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),k=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function ye(e){return e===null||typeof e!="object"?null:(e=ke&&e[ke]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Symbol.for("react.client.reference");function vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ot?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case A:return"Profiler";case R:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case k:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case L:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return i=e.displayName||null,i!==null?i:vt(e.type)||"Memo";case q:i=e._payload,e=e._init;try{return vt(e(i))}catch{}}return null}var Ie=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},ge=[],ve=-1;function O(e){return{current:e}}function H(e){0>ve||(e.current=ge[ve],ge[ve]=null,ve--)}function X(e,i){ve++,ge[ve]=e.current,e.current=i}var Z=O(null),de=O(null),Q=O(null),le=O(null);function St(e,i){switch(X(Q,i),X(de,e),X(Z,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?ay(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=ay(i),e=sy(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(Z),X(Z,e)}function st(){H(Z),H(de),H(Q)}function be(e){e.memoizedState!==null&&X(le,e);var i=Z.current,s=sy(i,e.type);i!==s&&(X(de,e),X(Z,s))}function se(e){de.current===e&&(H(Z),H(de)),le.current===e&&(H(le),Gr._currentValue=J)}var Ke,Jt;function Lt(e){if(Ke===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ke=i&&i[1]||"",Jt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ke+e+Jt}var ht=!1;function Ze(e,i){if(!e||ht)return"";ht=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(I){var U=I}Reflect.construct(e,[],W)}else{try{W.call()}catch(I){U=I}e.call(W.prototype)}}else{try{throw Error()}catch(I){U=I}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(I){if(I&&U&&typeof I.stack=="string")return[I.stack,U.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],w=f[1];if(v&&w){var E=v.split(`
`),N=w.split(`
`);for(d=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;d<N.length&&!N[d].includes("DetermineComponentFrameRoot");)d++;if(o===E.length||d===N.length)for(o=E.length-1,d=N.length-1;1<=o&&0<=d&&E[o]!==N[d];)d--;for(;1<=o&&0<=d;o--,d--)if(E[o]!==N[d]){if(o!==1||d!==1)do if(o--,d--,0>d||E[o]!==N[d]){var $=`
`+E[o].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=o&&0<=d);break}}}finally{ht=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Lt(s):""}function Zt(e,i){switch(e.tag){case 26:case 27:case 5:return Lt(e.type);case 16:return Lt("Lazy");case 13:return e.child!==i&&i!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return Ze(e.type,!1);case 11:return Ze(e.type.render,!1);case 1:return Ze(e.type,!0);case 31:return Lt("Activity");default:return""}}function ca(e){try{var i="",s=null;do i+=Zt(e,s),s=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var an=Object.prototype.hasOwnProperty,sn=n.unstable_scheduleCallback,Ln=n.unstable_cancelCallback,Ai=n.unstable_shouldYield,Wa=n.unstable_requestPaint,Ut=n.unstable_now,ua=n.unstable_getCurrentPriorityLevel,Ei=n.unstable_ImmediatePriority,Ci=n.unstable_UserBlockingPriority,Yn=n.unstable_NormalPriority,Ya=n.unstable_LowPriority,Ri=n.unstable_IdlePriority,Kn=n.log,da=n.unstable_setDisableYieldValue,Xn=null,jt=null;function ce(e){if(typeof Kn=="function"&&da(e),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(Xn,e)}catch{}}var Ee=Math.clz32?Math.clz32:ft,Ce=Math.log,Ge=Math.LN2;function ft(e){return e>>>=0,e===0?32:31-(Ce(e)/Ge|0)|0}var pt=256,_e=262144,Ct=4194304;function Ht(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ka(e,i,s){var o=e.pendingLanes;if(o===0)return 0;var d=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~f,o!==0?d=Ht(o):(v&=w,v!==0?d=Ht(v):s||(s=w&~e,s!==0&&(d=Ht(s))))):(w=o&~f,w!==0?d=Ht(w):v!==0?d=Ht(v):s||(s=o&~e,s!==0&&(d=Ht(s)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,s=i&-i,f>=s||f===32&&(s&4194048)!==0)?i:d}function ha(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Eo(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Co(){var e=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),e}function fa(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function Oi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ro(e,i,s,o,d,f){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,E=e.expirationTimes,N=e.hiddenUpdates;for(s=v&~s;0<s;){var $=31-Ee(s),W=1<<$;w[$]=0,E[$]=-1;var U=N[$];if(U!==null)for(N[$]=null,$=0;$<U.length;$++){var I=U[$];I!==null&&(I.lane&=-536870913)}s&=~W}o!==0&&ir(e,o,0),f!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function ir(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Ee(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Di(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var o=31-Ee(s),d=1<<o;d&i|e[o]&i&&(e[o]|=i),s&=~d}}function ar(e,i){var s=i&-i;return s=(s&42)!==0?1:sr(s),(s&(e.suspendedLanes|i))!==0?0:s}function sr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Un(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Ey(e.type))}function pa(e,i){var s=K.p;try{return K.p=e,i()}finally{K.p=s}}var B=Math.random().toString(36).slice(2),ee="__reactFiber$"+B,ne="__reactProps$"+B,Oe="__reactContainer$"+B,Se="__reactEvents$"+B,lt="__reactListeners$"+B,mt="__reactHandles$"+B,qt="__reactResources$"+B,$e="__reactMarker$"+B;function xe(e){delete e[ee],delete e[ne],delete e[Se],delete e[lt],delete e[mt]}function Fe(e){var i=e[ee];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Oe]||s[ee]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=hy(e);e!==null;){if(s=e[ee])return s;e=hy(e)}return i}e=s,s=e.parentNode}return null}function De(e){if(e=e[ee]||e[Oe]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function Xe(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function bt(e){var i=e[qt];return i||(i=e[qt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ye(e){e[$e]=!0}var en=new Set,je={};function Ve(e,i){gt(e,i),gt(e+"Capture",i)}function gt(e,i){for(je[e]=i,e=0;e<i.length;e++)en.add(i[e])}var ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rt={},Oo={};function or(e){return an.call(Oo,e)?!0:an.call(Rt,e)?!1:ct.test(e)?Oo[e]=!0:(Rt[e]=!0,!1)}function Do(e,i,s){if(or(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function Mo(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function si(e,i,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+o)}}function kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xf(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function gx(e,i,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(v){s=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Lc(e){if(!e._valueTracker){var i=Xf(e)?"checked":"value";e._valueTracker=gx(e,i,""+e[i])}}function Qf(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),o="";return e&&(o=Xf(e)?e.checked?"true":"false":e.value),e=o,e!==s?(i.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yx=/[\n"\\]/g;function jn(e){return e.replace(yx,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Uc(e,i,s,o,d,f,v,w){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+kn(i)):e.value!==""+kn(i)&&(e.value=""+kn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Pc(e,v,kn(i)):s!=null?Pc(e,v,kn(s)):o!=null&&e.removeAttribute("value"),d==null&&f!=null&&(e.defaultChecked=!!f),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+kn(w):e.removeAttribute("name")}function Jf(e,i,s,o,d,f,v,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Lc(e);return}s=s!=null?""+kn(s):"",i=i!=null?""+kn(i):s,w||i===e.value||(e.value=i),e.defaultValue=i}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),Lc(e)}function Pc(e,i,s){i==="number"&&zo(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Xa(e,i,s,o){if(e=e.options,i){i={};for(var d=0;d<s.length;d++)i["$"+s[d]]=!0;for(s=0;s<e.length;s++)d=i.hasOwnProperty("$"+e[s].value),e[s].selected!==d&&(e[s].selected=d),d&&o&&(e[s].defaultSelected=!0)}else{for(s=""+kn(s),i=null,d=0;d<e.length;d++){if(e[d].value===s){e[d].selected=!0,o&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function Zf(e,i,s){if(i!=null&&(i=""+kn(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+kn(s):""}function ep(e,i,s,o){if(i==null){if(o!=null){if(s!=null)throw Error(r(92));if(Ie(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),i=s}s=kn(i),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Lc(e)}function Qa(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var vx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(e,i,s){var o=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,s):typeof s!="number"||s===0||vx.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function np(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var d in i)o=i[d],i.hasOwnProperty(d)&&s[d]!==o&&tp(e,d,o)}else for(var f in i)i.hasOwnProperty(f)&&tp(e,f,i[f])}function Ic(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function No(e){return xx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ri(){}var Vc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ja=null,Za=null;function ip(e){var i=De(e);if(i&&(e=i.stateNode)){var s=e[ne]||null;e:switch(e=i.stateNode,i.type){case"input":if(Uc(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+jn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var o=s[i];if(o!==e&&o.form===e.form){var d=o[ne]||null;if(!d)throw Error(r(90));Uc(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<s.length;i++)o=s[i],o.form===e.form&&Qf(o)}break e;case"textarea":Zf(e,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Xa(e,!!s.multiple,i,!1)}}}var Hc=!1;function ap(e,i,s){if(Hc)return e(i,s);Hc=!0;try{var o=e(i);return o}finally{if(Hc=!1,(Ja!==null||Za!==null)&&(wl(),Ja&&(i=Ja,e=Za,Za=Ja=null,ip(i),e)))for(i=0;i<e.length;i++)ip(e[i])}}function lr(e,i){var s=e.stateNode;if(s===null)return null;var o=s[ne]||null;if(o===null)return null;s=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qc=!1;if(oi)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){qc=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{qc=!1}var Mi=null,Gc=null,Bo=null;function sp(){if(Bo)return Bo;var e,i=Gc,s=i.length,o,d="value"in Mi?Mi.value:Mi.textContent,f=d.length;for(e=0;e<s&&i[e]===d[e];e++);var v=s-e;for(o=1;o<=v&&i[s-o]===d[f-o];o++);return Bo=d.slice(e,1<o?1-o:void 0)}function Lo(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Uo(){return!0}function rp(){return!1}function un(e){function i(s,o,d,f,v){this._reactName=s,this._targetInst=d,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Uo:rp,this.isPropagationStopped=rp,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Uo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Uo)},persist:function(){},isPersistent:Uo}),i}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=un(ma),ur=x({},ma,{view:0,detail:0}),Sx=un(ur),Fc,Wc,dr,Io=x({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(Fc=e.screenX-dr.screenX,Wc=e.screenY-dr.screenY):Wc=Fc=0,dr=e),Fc)},movementY:function(e){return"movementY"in e?e.movementY:Wc}}),op=un(Io),wx=x({},Io,{dataTransfer:0}),_x=un(wx),Tx=x({},ur,{relatedTarget:0}),Yc=un(Tx),kx=x({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=un(kx),Ax=x({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ex=un(Ax),Cx=x({},ma,{data:0}),lp=un(Cx),Rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ox={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mx(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Dx[e])?!!i[e]:!1}function Kc(){return Mx}var zx=x({},ur,{key:function(e){if(e.key){var i=Rx[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ox[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(e){return e.type==="keypress"?Lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nx=un(zx),Bx=x({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=un(Bx),Lx=x({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),Ux=un(Lx),Px=x({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ix=un(Px),Vx=x({},Io,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$x=un(Vx),Hx=x({},ma,{newState:0,oldState:0}),qx=un(Hx),Gx=[9,13,27,32],Xc=oi&&"CompositionEvent"in window,hr=null;oi&&"documentMode"in document&&(hr=document.documentMode);var Fx=oi&&"TextEvent"in window&&!hr,up=oi&&(!Xc||hr&&8<hr&&11>=hr),dp=" ",hp=!1;function fp(e,i){switch(e){case"keyup":return Gx.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var es=!1;function Wx(e,i){switch(e){case"compositionend":return pp(i);case"keypress":return i.which!==32?null:(hp=!0,dp);case"textInput":return e=i.data,e===dp&&hp?null:e;default:return null}}function Yx(e,i){if(es)return e==="compositionend"||!Xc&&fp(e,i)?(e=sp(),Bo=Gc=Mi=null,es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return up&&i.locale!=="ko"?null:i.data;default:return null}}var Kx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Kx[e.type]:i==="textarea"}function gp(e,i,s,o){Ja?Za?Za.push(o):Za=[o]:Ja=o,i=Cl(i,"onChange"),0<i.length&&(s=new Po("onChange","change",null,s,o),e.push({event:s,listeners:i}))}var fr=null,pr=null;function Xx(e){Jg(e,0)}function Vo(e){var i=Xe(e);if(Qf(i))return e}function yp(e,i){if(e==="change")return i}var vp=!1;if(oi){var Qc;if(oi){var Jc="oninput"in document;if(!Jc){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),Jc=typeof bp.oninput=="function"}Qc=Jc}else Qc=!1;vp=Qc&&(!document.documentMode||9<document.documentMode)}function xp(){fr&&(fr.detachEvent("onpropertychange",Sp),pr=fr=null)}function Sp(e){if(e.propertyName==="value"&&Vo(pr)){var i=[];gp(i,pr,e,$c(e)),ap(Xx,i)}}function Qx(e,i,s){e==="focusin"?(xp(),fr=i,pr=s,fr.attachEvent("onpropertychange",Sp)):e==="focusout"&&xp()}function Jx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vo(pr)}function Zx(e,i){if(e==="click")return Vo(i)}function eS(e,i){if(e==="input"||e==="change")return Vo(i)}function tS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var gn=typeof Object.is=="function"?Object.is:tS;function mr(e,i){if(gn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),o=Object.keys(i);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var d=s[o];if(!an.call(i,d)||!gn(e[d],i[d]))return!1}return!0}function wp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,i){var s=wp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=i&&o>=i)return{node:s,offset:i-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=wp(s)}}function Tp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Tp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=zo(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=zo(e.document)}return i}function Zc(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var nS=oi&&"documentMode"in document&&11>=document.documentMode,ts=null,eu=null,gr=null,tu=!1;function jp(e,i,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tu||ts==null||ts!==zo(o)||(o=ts,"selectionStart"in o&&Zc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),gr&&mr(gr,o)||(gr=o,o=Cl(eu,"onSelect"),0<o.length&&(i=new Po("onSelect","select",null,i,s),e.push({event:i,listeners:o}),i.target=ts)))}function ga(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var ns={animationend:ga("Animation","AnimationEnd"),animationiteration:ga("Animation","AnimationIteration"),animationstart:ga("Animation","AnimationStart"),transitionrun:ga("Transition","TransitionRun"),transitionstart:ga("Transition","TransitionStart"),transitioncancel:ga("Transition","TransitionCancel"),transitionend:ga("Transition","TransitionEnd")},nu={},Ap={};oi&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function ya(e){if(nu[e])return nu[e];if(!ns[e])return e;var i=ns[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ap)return nu[e]=i[s];return e}var Ep=ya("animationend"),Cp=ya("animationiteration"),Rp=ya("animationstart"),iS=ya("transitionrun"),aS=ya("transitionstart"),sS=ya("transitioncancel"),Op=ya("transitionend"),Dp=new Map,iu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");iu.push("scrollEnd");function Pn(e,i){Dp.set(e,i),Ve(i,[e])}var $o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],is=0,au=0;function Ho(){for(var e=is,i=au=is=0;i<e;){var s=An[i];An[i++]=null;var o=An[i];An[i++]=null;var d=An[i];An[i++]=null;var f=An[i];if(An[i++]=null,o!==null&&d!==null){var v=o.pending;v===null?d.next=d:(d.next=v.next,v.next=d),o.pending=d}f!==0&&Mp(s,d,f)}}function qo(e,i,s,o){An[is++]=e,An[is++]=i,An[is++]=s,An[is++]=o,au|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function su(e,i,s,o){return qo(e,i,s,o),Go(e)}function va(e,i){return qo(e,null,null,i),Go(e)}function Mp(e,i,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var d=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(d=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,d&&i!==null&&(d=31-Ee(s),e=f.hiddenUpdates,o=e[d],o===null?e[d]=[i]:o.push(i),i.lane=s|536870912),f):null}function Go(e){if(50<Ur)throw Ur=0,pd=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var as={};function rS(e,i,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,i,s,o){return new rS(e,i,s,o)}function ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function li(e,i){var s=e.alternate;return s===null?(s=yn(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function zp(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Fo(e,i,s,o,d,f){var v=0;if(o=e,typeof e=="function")ru(e)&&(v=1);else if(typeof e=="string")v=dw(e,s,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=yn(31,s,i,d),e.elementType=te,e.lanes=f,e;case j:return ba(s.children,d,f,i);case R:v=8,d|=24;break;case A:return e=yn(12,s,i,d|2),e.elementType=A,e.lanes=f,e;case V:return e=yn(13,s,i,d),e.elementType=V,e.lanes=f,e;case Y:return e=yn(19,s,i,d),e.elementType=Y,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:v=10;break e;case C:v=9;break e;case L:v=11;break e;case F:v=14;break e;case q:v=16,o=null;break e}v=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return i=yn(v,s,i,d),i.elementType=e,i.type=o,i.lanes=f,i}function ba(e,i,s,o){return e=yn(7,e,o,i),e.lanes=s,e}function ou(e,i,s){return e=yn(6,e,null,i),e.lanes=s,e}function Np(e){var i=yn(18,null,null,0);return i.stateNode=e,i}function lu(e,i,s){return i=yn(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Bp=new WeakMap;function En(e,i){if(typeof e=="object"&&e!==null){var s=Bp.get(e);return s!==void 0?s:(i={value:e,source:i,stack:ca(i)},Bp.set(e,i),i)}return{value:e,source:i,stack:ca(i)}}var ss=[],rs=0,Wo=null,yr=0,Cn=[],Rn=0,zi=null,Qn=1,Jn="";function ci(e,i){ss[rs++]=yr,ss[rs++]=Wo,Wo=e,yr=i}function Lp(e,i,s){Cn[Rn++]=Qn,Cn[Rn++]=Jn,Cn[Rn++]=zi,zi=e;var o=Qn;e=Jn;var d=32-Ee(o)-1;o&=~(1<<d),s+=1;var f=32-Ee(i)+d;if(30<f){var v=d-d%5;f=(o&(1<<v)-1).toString(32),o>>=v,d-=v,Qn=1<<32-Ee(i)+d|s<<d|o,Jn=f+e}else Qn=1<<f|s<<d|o,Jn=e}function cu(e){e.return!==null&&(ci(e,1),Lp(e,1,0))}function uu(e){for(;e===Wo;)Wo=ss[--rs],ss[rs]=null,yr=ss[--rs],ss[rs]=null;for(;e===zi;)zi=Cn[--Rn],Cn[Rn]=null,Jn=Cn[--Rn],Cn[Rn]=null,Qn=Cn[--Rn],Cn[Rn]=null}function Up(e,i){Cn[Rn++]=Qn,Cn[Rn++]=Jn,Cn[Rn++]=zi,Qn=i.id,Jn=i.overflow,zi=e}var Gt=null,ut=null,Ue=!1,Ni=null,On=!1,du=Error(r(519));function Bi(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vr(En(i,e)),du}function Pp(e){var i=e.stateNode,s=e.type,o=e.memoizedProps;switch(i[ee]=e,i[ne]=o,s){case"dialog":ze("cancel",i),ze("close",i);break;case"iframe":case"object":case"embed":ze("load",i);break;case"video":case"audio":for(s=0;s<Ir.length;s++)ze(Ir[s],i);break;case"source":ze("error",i);break;case"img":case"image":case"link":ze("error",i),ze("load",i);break;case"details":ze("toggle",i);break;case"input":ze("invalid",i),Jf(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",i);break;case"textarea":ze("invalid",i),ep(i,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||o.suppressHydrationWarning===!0||ny(i.textContent,s)?(o.popover!=null&&(ze("beforetoggle",i),ze("toggle",i)),o.onScroll!=null&&ze("scroll",i),o.onScrollEnd!=null&&ze("scrollend",i),o.onClick!=null&&(i.onclick=ri),i=!0):i=!1,i||Bi(e,!0)}function Ip(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Gt=Gt.return}}function os(e){if(e!==Gt)return!1;if(!Ue)return Ip(e),Ue=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Cd(e.type,e.memoizedProps)),s=!s),s&&ut&&Bi(e),Ip(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ut=dy(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ut=dy(e)}else i===27?(i=ut,Xi(e.type)?(e=zd,zd=null,ut=e):ut=i):ut=Gt?Mn(e.stateNode.nextSibling):null;return!0}function xa(){ut=Gt=null,Ue=!1}function hu(){var e=Ni;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),Ni=null),e}function vr(e){Ni===null?Ni=[e]:Ni.push(e)}var fu=O(null),Sa=null,ui=null;function Li(e,i,s){X(fu,i._currentValue),i._currentValue=s}function di(e){e._currentValue=fu.current,H(fu)}function pu(e,i,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===s)break;e=e.return}}function mu(e,i,s,o){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var f=d.dependencies;if(f!==null){var v=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var E=0;E<i.length;E++)if(w.context===i[E]){f.lanes|=s,w=f.alternate,w!==null&&(w.lanes|=s),pu(f.return,s,e),o||(v=null);break e}f=w.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(r(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),pu(v,s,e),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===e){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function ls(e,i,s,o){e=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var w=d.type;gn(d.pendingProps.value,v.value)||(e!==null?e.push(w):e=[w])}}else if(d===le.current){if(v=d.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Gr):e=[Gr])}d=d.return}e!==null&&mu(i,e,s,o),i.flags|=262144}function Yo(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wa(e){Sa=e,ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ft(e){return Vp(Sa,e)}function Ko(e,i){return Sa===null&&wa(e),Vp(e,i)}function Vp(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},ui===null){if(e===null)throw Error(r(308));ui=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else ui=ui.next=i;return s}var oS=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},lS=n.unstable_scheduleCallback,cS=n.unstable_NormalPriority,Ot={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gu(){return{controller:new oS,data:new Map,refCount:0}}function br(e){e.refCount--,e.refCount===0&&lS(cS,function(){e.controller.abort()})}var xr=null,yu=0,cs=0,us=null;function uS(e,i){if(xr===null){var s=xr=[];yu=0,cs=xd(),us={status:"pending",value:void 0,then:function(o){s.push(o)}}}return yu++,i.then($p,$p),i}function $p(){if(--yu===0&&xr!==null){us!==null&&(us.status="fulfilled");var e=xr;xr=null,cs=0,us=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function dS(e,i){var s=[],o={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var d=0;d<s.length;d++)(0,s[d])(i)},function(d){for(o.status="rejected",o.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),o}var Hp=P.S;P.S=function(e,i){jg=Ut(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&uS(e,i),Hp!==null&&Hp(e,i)};var _a=O(null);function vu(){var e=_a.current;return e!==null?e:it.pooledCache}function Xo(e,i){i===null?X(_a,_a.current):X(_a,i.pool)}function qp(){var e=vu();return e===null?null:{parent:Ot._currentValue,pool:e}}var ds=Error(r(460)),bu=Error(r(474)),Qo=Error(r(542)),Jo={then:function(){}};function Gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fp(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(ri,ri),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e;default:if(typeof i.status=="string")i.then(ri,ri);else{if(e=it,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=o}},function(o){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Yp(e),e}throw ka=i,ds}}function Ta(e){try{var i=e._init;return i(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ka=s,ds):s}}var ka=null;function Wp(){if(ka===null)throw Error(r(459));var e=ka;return ka=null,e}function Yp(e){if(e===ds||e===Qo)throw Error(r(483))}var hs=null,Sr=0;function Zo(e){var i=Sr;return Sr+=1,hs===null&&(hs=[]),Fp(hs,e,i)}function wr(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function el(e,i){throw i.$$typeof===b?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Kp(e){function i(M,D){if(e){var z=M.deletions;z===null?(M.deletions=[D],M.flags|=16):z.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)i(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function d(M,D){return M=li(M,D),M.index=0,M.sibling=null,M}function f(M,D,z){return M.index=z,e?(z=M.alternate,z!==null?(z=z.index,z<D?(M.flags|=67108866,D):z):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,D,z,G){return D===null||D.tag!==6?(D=ou(z,M.mode,G),D.return=M,D):(D=d(D,z),D.return=M,D)}function E(M,D,z,G){var ue=z.type;return ue===j?$(M,D,z.props.children,G,z.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===q&&Ta(ue)===D.type)?(D=d(D,z.props),wr(D,z),D.return=M,D):(D=Fo(z.type,z.key,z.props,null,M.mode,G),wr(D,z),D.return=M,D)}function N(M,D,z,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=lu(z,M.mode,G),D.return=M,D):(D=d(D,z.children||[]),D.return=M,D)}function $(M,D,z,G,ue){return D===null||D.tag!==7?(D=ba(z,M.mode,G,ue),D.return=M,D):(D=d(D,z),D.return=M,D)}function W(M,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=ou(""+D,M.mode,z),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case S:return z=Fo(D.type,D.key,D.props,null,M.mode,z),wr(z,D),z.return=M,z;case _:return D=lu(D,M.mode,z),D.return=M,D;case q:return D=Ta(D),W(M,D,z)}if(Ie(D)||ye(D))return D=ba(D,M.mode,z,null),D.return=M,D;if(typeof D.then=="function")return W(M,Zo(D),z);if(D.$$typeof===k)return W(M,Ko(M,D),z);el(M,D)}return null}function U(M,D,z,G){var ue=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ue!==null?null:w(M,D,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===ue?E(M,D,z,G):null;case _:return z.key===ue?N(M,D,z,G):null;case q:return z=Ta(z),U(M,D,z,G)}if(Ie(z)||ye(z))return ue!==null?null:$(M,D,z,G,null);if(typeof z.then=="function")return U(M,D,Zo(z),G);if(z.$$typeof===k)return U(M,D,Ko(M,z),G);el(M,z)}return null}function I(M,D,z,G,ue){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(z)||null,w(D,M,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case S:return M=M.get(G.key===null?z:G.key)||null,E(D,M,G,ue);case _:return M=M.get(G.key===null?z:G.key)||null,N(D,M,G,ue);case q:return G=Ta(G),I(M,D,z,G,ue)}if(Ie(G)||ye(G))return M=M.get(z)||null,$(D,M,G,ue,null);if(typeof G.then=="function")return I(M,D,z,Zo(G),ue);if(G.$$typeof===k)return I(M,D,z,Ko(D,G),ue);el(D,G)}return null}function ie(M,D,z,G){for(var ue=null,He=null,re=D,Ae=D=0,Le=null;re!==null&&Ae<z.length;Ae++){re.index>Ae?(Le=re,re=null):Le=re.sibling;var qe=U(M,re,z[Ae],G);if(qe===null){re===null&&(re=Le);break}e&&re&&qe.alternate===null&&i(M,re),D=f(qe,D,Ae),He===null?ue=qe:He.sibling=qe,He=qe,re=Le}if(Ae===z.length)return s(M,re),Ue&&ci(M,Ae),ue;if(re===null){for(;Ae<z.length;Ae++)re=W(M,z[Ae],G),re!==null&&(D=f(re,D,Ae),He===null?ue=re:He.sibling=re,He=re);return Ue&&ci(M,Ae),ue}for(re=o(re);Ae<z.length;Ae++)Le=I(re,M,Ae,z[Ae],G),Le!==null&&(e&&Le.alternate!==null&&re.delete(Le.key===null?Ae:Le.key),D=f(Le,D,Ae),He===null?ue=Le:He.sibling=Le,He=Le);return e&&re.forEach(function(ta){return i(M,ta)}),Ue&&ci(M,Ae),ue}function fe(M,D,z,G){if(z==null)throw Error(r(151));for(var ue=null,He=null,re=D,Ae=D=0,Le=null,qe=z.next();re!==null&&!qe.done;Ae++,qe=z.next()){re.index>Ae?(Le=re,re=null):Le=re.sibling;var ta=U(M,re,qe.value,G);if(ta===null){re===null&&(re=Le);break}e&&re&&ta.alternate===null&&i(M,re),D=f(ta,D,Ae),He===null?ue=ta:He.sibling=ta,He=ta,re=Le}if(qe.done)return s(M,re),Ue&&ci(M,Ae),ue;if(re===null){for(;!qe.done;Ae++,qe=z.next())qe=W(M,qe.value,G),qe!==null&&(D=f(qe,D,Ae),He===null?ue=qe:He.sibling=qe,He=qe);return Ue&&ci(M,Ae),ue}for(re=o(re);!qe.done;Ae++,qe=z.next())qe=I(re,M,Ae,qe.value,G),qe!==null&&(e&&qe.alternate!==null&&re.delete(qe.key===null?Ae:qe.key),D=f(qe,D,Ae),He===null?ue=qe:He.sibling=qe,He=qe);return e&&re.forEach(function(ww){return i(M,ww)}),Ue&&ci(M,Ae),ue}function nt(M,D,z,G){if(typeof z=="object"&&z!==null&&z.type===j&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var ue=z.key;D!==null;){if(D.key===ue){if(ue=z.type,ue===j){if(D.tag===7){s(M,D.sibling),G=d(D,z.props.children),G.return=M,M=G;break e}}else if(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===q&&Ta(ue)===D.type){s(M,D.sibling),G=d(D,z.props),wr(G,z),G.return=M,M=G;break e}s(M,D);break}else i(M,D);D=D.sibling}z.type===j?(G=ba(z.props.children,M.mode,G,z.key),G.return=M,M=G):(G=Fo(z.type,z.key,z.props,null,M.mode,G),wr(G,z),G.return=M,M=G)}return v(M);case _:e:{for(ue=z.key;D!==null;){if(D.key===ue)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){s(M,D.sibling),G=d(D,z.children||[]),G.return=M,M=G;break e}else{s(M,D);break}else i(M,D);D=D.sibling}G=lu(z,M.mode,G),G.return=M,M=G}return v(M);case q:return z=Ta(z),nt(M,D,z,G)}if(Ie(z))return ie(M,D,z,G);if(ye(z)){if(ue=ye(z),typeof ue!="function")throw Error(r(150));return z=ue.call(z),fe(M,D,z,G)}if(typeof z.then=="function")return nt(M,D,Zo(z),G);if(z.$$typeof===k)return nt(M,D,Ko(M,z),G);el(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(s(M,D.sibling),G=d(D,z),G.return=M,M=G):(s(M,D),G=ou(z,M.mode,G),G.return=M,M=G),v(M)):s(M,D)}return function(M,D,z,G){try{Sr=0;var ue=nt(M,D,z,G);return hs=null,ue}catch(re){if(re===ds||re===Qo)throw re;var He=yn(29,re,null,M.mode);return He.lanes=G,He.return=M,He}}}var ja=Kp(!0),Xp=Kp(!1),Ui=!1;function xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Su(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(e,i,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var d=o.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),o.pending=i,i=Go(e),Mp(e,null,s),i}return qo(e,o,i,s),Go(e)}function _r(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Di(e,s)}}function wu(e,i){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var d=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?d=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?d=f=i:f=f.next=i}else d=f=i;s={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var _u=!1;function Tr(){if(_u){var e=us;if(e!==null)throw e}}function kr(e,i,s,o){_u=!1;var d=e.updateQueue;Ui=!1;var f=d.firstBaseUpdate,v=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var E=w,N=E.next;E.next=null,v===null?f=N:v.next=N,v=E;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==v&&(w===null?$.firstBaseUpdate=N:w.next=N,$.lastBaseUpdate=E))}if(f!==null){var W=d.baseState;v=0,$=N=E=null,w=f;do{var U=w.lane&-536870913,I=U!==w.lane;if(I?(Be&U)===U:(o&U)===U){U!==0&&U===cs&&(_u=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ie=e,fe=w;U=i;var nt=s;switch(fe.tag){case 1:if(ie=fe.payload,typeof ie=="function"){W=ie.call(nt,W,U);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=fe.payload,U=typeof ie=="function"?ie.call(nt,W,U):ie,U==null)break e;W=x({},W,U);break e;case 2:Ui=!0}}U=w.callback,U!==null&&(e.flags|=64,I&&(e.flags|=8192),I=d.callbacks,I===null?d.callbacks=[U]:I.push(U))}else I={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(N=$=I,E=W):$=$.next=I,v|=U;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;I=w,w=I.next,I.next=null,d.lastBaseUpdate=I,d.shared.pending=null}}while(!0);$===null&&(E=W),d.baseState=E,d.firstBaseUpdate=N,d.lastBaseUpdate=$,f===null&&(d.shared.lanes=0),Gi|=v,e.lanes=v,e.memoizedState=W}}function Qp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Jp(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qp(s[e],i)}var fs=O(null),tl=O(0);function Zp(e,i){e=xi,X(tl,e),X(fs,i),xi=e|i.baseLanes}function Tu(){X(tl,xi),X(fs,fs.current)}function ku(){xi=tl.current,H(fs),H(tl)}var vn=O(null),Dn=null;function Vi(e){var i=e.alternate;X(At,At.current&1),X(vn,e),Dn===null&&(i===null||fs.current!==null||i.memoizedState!==null)&&(Dn=e)}function ju(e){X(At,At.current),X(vn,e),Dn===null&&(Dn=e)}function em(e){e.tag===22?(X(At,At.current),X(vn,e),Dn===null&&(Dn=e)):$i()}function $i(){X(At,At.current),X(vn,vn.current)}function bn(e){H(vn),Dn===e&&(Dn=null),H(At)}var At=O(0);function nl(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dd(s)||Md(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var hi=0,Te=null,et=null,Dt=null,il=!1,ps=!1,Aa=!1,al=0,jr=0,ms=null,hS=0;function wt(){throw Error(r(321))}function Au(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!gn(e[s],i[s]))return!1;return!0}function Eu(e,i,s,o,d,f){return hi=f,Te=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,P.H=e===null||e.memoizedState===null?Lm:Hu,Aa=!1,f=s(o,d),Aa=!1,ps&&(f=nm(i,s,o,d)),tm(e),f}function tm(e){P.H=Cr;var i=et!==null&&et.next!==null;if(hi=0,Dt=et=Te=null,il=!1,jr=0,ms=null,i)throw Error(r(300));e===null||Mt||(e=e.dependencies,e!==null&&Yo(e)&&(Mt=!0))}function nm(e,i,s,o){Te=e;var d=0;do{if(ps&&(ms=null),jr=0,ps=!1,25<=d)throw Error(r(301));if(d+=1,Dt=et=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}P.H=Um,f=i(s,o)}while(ps);return f}function fS(){var e=P.H,i=e.useState()[0];return i=typeof i.then=="function"?Ar(i):i,e=e.useState()[0],(et!==null?et.memoizedState:null)!==e&&(Te.flags|=1024),i}function Cu(){var e=al!==0;return al=0,e}function Ru(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function Ou(e){if(il){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}il=!1}hi=0,Dt=et=Te=null,ps=!1,jr=al=0,ms=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Te.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Et(){if(et===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=et.next;var i=Dt===null?Te.memoizedState:Dt.next;if(i!==null)Dt=i,et=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));et=e,e={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Dt===null?Te.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function sl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ar(e){var i=jr;return jr+=1,ms===null&&(ms=[]),e=Fp(ms,e,i),i=Te,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,P.H=i===null||i.memoizedState===null?Lm:Hu),e}function rl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ar(e);if(e.$$typeof===k)return Ft(e)}throw Error(r(438,String(e)))}function Du(e){var i=null,s=Te.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var o=Te.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=sl(),Te.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),o=0;o<e;o++)s[o]=he;return i.index++,s}function fi(e,i){return typeof i=="function"?i(e):i}function ol(e){var i=Et();return Mu(i,et,e)}function Mu(e,i,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var d=e.baseQueue,f=o.pending;if(f!==null){if(d!==null){var v=d.next;d.next=f.next,f.next=v}i.baseQueue=d=f,o.pending=null}if(f=e.baseState,d===null)e.memoizedState=f;else{i=d.next;var w=v=null,E=null,N=i,$=!1;do{var W=N.lane&-536870913;if(W!==N.lane?(Be&W)===W:(hi&W)===W){var U=N.revertLane;if(U===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),W===cs&&($=!0);else if((hi&U)===U){N=N.next,U===cs&&($=!0);continue}else W={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(w=E=W,v=f):E=E.next=W,Te.lanes|=U,Gi|=U;W=N.action,Aa&&s(f,W),f=N.hasEagerState?N.eagerState:s(f,W)}else U={lane:W,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(w=E=U,v=f):E=E.next=U,Te.lanes|=W,Gi|=W;N=N.next}while(N!==null&&N!==i);if(E===null?v=f:E.next=w,!gn(f,e.memoizedState)&&(Mt=!0,$&&(s=us,s!==null)))throw s;e.memoizedState=f,e.baseState=v,e.baseQueue=E,o.lastRenderedState=f}return d===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function zu(e){var i=Et(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,d=s.pending,f=i.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do f=e(f,v.action),v=v.next;while(v!==d);gn(f,i.memoizedState)||(Mt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),s.lastRenderedState=f}return[f,o]}function im(e,i,s){var o=Te,d=Et(),f=Ue;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=i();var v=!gn((et||d).memoizedState,s);if(v&&(d.memoizedState=s,Mt=!0),d=d.queue,Lu(rm.bind(null,o,d,e),[e]),d.getSnapshot!==i||v||Dt!==null&&Dt.memoizedState.tag&1){if(o.flags|=2048,gs(9,{destroy:void 0},sm.bind(null,o,d,s,i),null),it===null)throw Error(r(349));f||(hi&127)!==0||am(o,i,s)}return s}function am(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=Te.updateQueue,i===null?(i=sl(),Te.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function sm(e,i,s,o){i.value=s,i.getSnapshot=o,om(i)&&lm(e)}function rm(e,i,s){return s(function(){om(i)&&lm(e)})}function om(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!gn(e,s)}catch{return!0}}function lm(e){var i=va(e,2);i!==null&&mn(i,e,2)}function Nu(e){var i=rn();if(typeof e=="function"){var s=e;if(e=s(),Aa){ce(!0);try{s()}finally{ce(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},i}function cm(e,i,s,o){return e.baseState=s,Mu(e,et,typeof o=="function"?o:fi)}function pS(e,i,s,o,d){if(ul(e))throw Error(r(485));if(e=i.action,e!==null){var f={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};P.T!==null?s(!0):f.isTransition=!1,o(f),s=i.pending,s===null?(f.next=i.pending=f,um(i,f)):(f.next=s.next,i.pending=s.next=f)}}function um(e,i){var s=i.action,o=i.payload,d=e.state;if(i.isTransition){var f=P.T,v={};P.T=v;try{var w=s(d,o),E=P.S;E!==null&&E(v,w),dm(e,i,w)}catch(N){Bu(e,i,N)}finally{f!==null&&v.types!==null&&(f.types=v.types),P.T=f}}else try{f=s(d,o),dm(e,i,f)}catch(N){Bu(e,i,N)}}function dm(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hm(e,i,o)},function(o){return Bu(e,i,o)}):hm(e,i,s)}function hm(e,i,s){i.status="fulfilled",i.value=s,fm(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,um(e,s)))}function Bu(e,i,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=s,fm(i),i=i.next;while(i!==o)}e.action=null}function fm(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function pm(e,i){return i}function mm(e,i){if(Ue){var s=it.formState;if(s!==null){e:{var o=Te;if(Ue){if(ut){t:{for(var d=ut,f=On;d.nodeType!==8;){if(!f){d=null;break t}if(d=Mn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){ut=Mn(d.nextSibling),o=d.data==="F!";break e}}Bi(o)}o=!1}o&&(i=s[0])}}return s=rn(),s.memoizedState=s.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pm,lastRenderedState:i},s.queue=o,s=zm.bind(null,Te,o),o.dispatch=s,o=Nu(!1),f=$u.bind(null,Te,!1,o.queue),o=rn(),d={state:i,dispatch:null,action:e,pending:null},o.queue=d,s=pS.bind(null,Te,d,f,s),d.dispatch=s,o.memoizedState=e,[i,s,!1]}function gm(e){var i=Et();return ym(i,et,e)}function ym(e,i,s){if(i=Mu(e,i,pm)[0],e=ol(fi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Ar(i)}catch(v){throw v===ds?Qo:v}else o=i;i=Et();var d=i.queue,f=d.dispatch;return s!==i.memoizedState&&(Te.flags|=2048,gs(9,{destroy:void 0},mS.bind(null,d,s),null)),[o,f,e]}function mS(e,i){e.action=i}function vm(e){var i=Et(),s=et;if(s!==null)return ym(i,s,e);Et(),i=i.memoizedState,s=Et();var o=s.queue.dispatch;return s.memoizedState=e,[i,o,!1]}function gs(e,i,s,o){return e={tag:e,create:s,deps:o,inst:i,next:null},i=Te.updateQueue,i===null&&(i=sl(),Te.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,i.lastEffect=e),e}function bm(){return Et().memoizedState}function ll(e,i,s,o){var d=rn();Te.flags|=e,d.memoizedState=gs(1|i,{destroy:void 0},s,o===void 0?null:o)}function cl(e,i,s,o){var d=Et();o=o===void 0?null:o;var f=d.memoizedState.inst;et!==null&&o!==null&&Au(o,et.memoizedState.deps)?d.memoizedState=gs(i,f,s,o):(Te.flags|=e,d.memoizedState=gs(1|i,f,s,o))}function xm(e,i){ll(8390656,8,e,i)}function Lu(e,i){cl(2048,8,e,i)}function gS(e){Te.flags|=4;var i=Te.updateQueue;if(i===null)i=sl(),Te.updateQueue=i,i.events=[e];else{var s=i.events;s===null?i.events=[e]:s.push(e)}}function Sm(e){var i=Et().memoizedState;return gS({ref:i,nextImpl:e}),function(){if((We&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function wm(e,i){return cl(4,2,e,i)}function _m(e,i){return cl(4,4,e,i)}function Tm(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function km(e,i,s){s=s!=null?s.concat([e]):null,cl(4,4,Tm.bind(null,i,e),s)}function Uu(){}function jm(e,i){var s=Et();i=i===void 0?null:i;var o=s.memoizedState;return i!==null&&Au(i,o[1])?o[0]:(s.memoizedState=[e,i],e)}function Am(e,i){var s=Et();i=i===void 0?null:i;var o=s.memoizedState;if(i!==null&&Au(i,o[1]))return o[0];if(o=e(),Aa){ce(!0);try{e()}finally{ce(!1)}}return s.memoizedState=[o,i],o}function Pu(e,i,s){return s===void 0||(hi&1073741824)!==0&&(Be&261930)===0?e.memoizedState=i:(e.memoizedState=s,e=Eg(),Te.lanes|=e,Gi|=e,s)}function Em(e,i,s,o){return gn(s,i)?s:fs.current!==null?(e=Pu(e,s,o),gn(e,i)||(Mt=!0),e):(hi&42)===0||(hi&1073741824)!==0&&(Be&261930)===0?(Mt=!0,e.memoizedState=s):(e=Eg(),Te.lanes|=e,Gi|=e,i)}function Cm(e,i,s,o,d){var f=K.p;K.p=f!==0&&8>f?f:8;var v=P.T,w={};P.T=w,$u(e,!1,i,s);try{var E=d(),N=P.S;if(N!==null&&N(w,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var $=dS(E,o);Er(e,i,$,wn(e))}else Er(e,i,o,wn(e))}catch(W){Er(e,i,{then:function(){},status:"rejected",reason:W},wn())}finally{K.p=f,v!==null&&w.types!==null&&(v.types=w.types),P.T=v}}function yS(){}function Iu(e,i,s,o){if(e.tag!==5)throw Error(r(476));var d=Rm(e).queue;Cm(e,d,i,J,s===null?yS:function(){return Om(e),s(o)})}function Rm(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:J},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Om(e){var i=Rm(e);i.next===null&&(i=e.alternate.memoizedState),Er(e,i.next.queue,{},wn())}function Vu(){return Ft(Gr)}function Dm(){return Et().memoizedState}function Mm(){return Et().memoizedState}function vS(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=wn();e=Pi(s);var o=Ii(i,e,s);o!==null&&(mn(o,i,s),_r(o,i,s)),i={cache:gu()},e.payload=i;return}i=i.return}}function bS(e,i,s){var o=wn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ul(e)?Nm(i,s):(s=su(e,i,s,o),s!==null&&(mn(s,e,o),Bm(s,i,o)))}function zm(e,i,s){var o=wn();Er(e,i,s,o)}function Er(e,i,s,o){var d={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ul(e))Nm(i,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,w=f(v,s);if(d.hasEagerState=!0,d.eagerState=w,gn(w,v))return qo(e,i,d,0),it===null&&Ho(),!1}catch{}if(s=su(e,i,d,o),s!==null)return mn(s,e,o),Bm(s,i,o),!0}return!1}function $u(e,i,s,o){if(o={lane:2,revertLane:xd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ul(e)){if(i)throw Error(r(479))}else i=su(e,s,o,2),i!==null&&mn(i,e,2)}function ul(e){var i=e.alternate;return e===Te||i!==null&&i===Te}function Nm(e,i){ps=il=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function Bm(e,i,s){if((s&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,s|=o,i.lanes=s,Di(e,s)}}var Cr={readContext:Ft,use:rl,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt};Cr.useEffectEvent=wt;var Lm={readContext:Ft,use:rl,useCallback:function(e,i){return rn().memoizedState=[e,i===void 0?null:i],e},useContext:Ft,useEffect:xm,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,ll(4194308,4,Tm.bind(null,i,e),s)},useLayoutEffect:function(e,i){return ll(4194308,4,e,i)},useInsertionEffect:function(e,i){ll(4,2,e,i)},useMemo:function(e,i){var s=rn();i=i===void 0?null:i;var o=e();if(Aa){ce(!0);try{e()}finally{ce(!1)}}return s.memoizedState=[o,i],o},useReducer:function(e,i,s){var o=rn();if(s!==void 0){var d=s(i);if(Aa){ce(!0);try{s(i)}finally{ce(!1)}}}else d=i;return o.memoizedState=o.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},o.queue=e,e=e.dispatch=bS.bind(null,Te,e),[o.memoizedState,e]},useRef:function(e){var i=rn();return e={current:e},i.memoizedState=e},useState:function(e){e=Nu(e);var i=e.queue,s=zm.bind(null,Te,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Uu,useDeferredValue:function(e,i){var s=rn();return Pu(s,e,i)},useTransition:function(){var e=Nu(!1);return e=Cm.bind(null,Te,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var o=Te,d=rn();if(Ue){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),it===null)throw Error(r(349));(Be&127)!==0||am(o,i,s)}d.memoizedState=s;var f={value:s,getSnapshot:i};return d.queue=f,xm(rm.bind(null,o,f,e),[e]),o.flags|=2048,gs(9,{destroy:void 0},sm.bind(null,o,f,s,i),null),s},useId:function(){var e=rn(),i=it.identifierPrefix;if(Ue){var s=Jn,o=Qn;s=(o&~(1<<32-Ee(o)-1)).toString(32)+s,i="_"+i+"R_"+s,s=al++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=hS++,i="_"+i+"r_"+s.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Vu,useFormState:mm,useActionState:mm,useOptimistic:function(e){var i=rn();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=$u.bind(null,Te,!0,s),s.dispatch=i,[e,i]},useMemoCache:Du,useCacheRefresh:function(){return rn().memoizedState=vS.bind(null,Te)},useEffectEvent:function(e){var i=rn(),s={impl:e};return i.memoizedState=s,function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},Hu={readContext:Ft,use:rl,useCallback:jm,useContext:Ft,useEffect:Lu,useImperativeHandle:km,useInsertionEffect:wm,useLayoutEffect:_m,useMemo:Am,useReducer:ol,useRef:bm,useState:function(){return ol(fi)},useDebugValue:Uu,useDeferredValue:function(e,i){var s=Et();return Em(s,et.memoizedState,e,i)},useTransition:function(){var e=ol(fi)[0],i=Et().memoizedState;return[typeof e=="boolean"?e:Ar(e),i]},useSyncExternalStore:im,useId:Dm,useHostTransitionStatus:Vu,useFormState:gm,useActionState:gm,useOptimistic:function(e,i){var s=Et();return cm(s,et,e,i)},useMemoCache:Du,useCacheRefresh:Mm};Hu.useEffectEvent=Sm;var Um={readContext:Ft,use:rl,useCallback:jm,useContext:Ft,useEffect:Lu,useImperativeHandle:km,useInsertionEffect:wm,useLayoutEffect:_m,useMemo:Am,useReducer:zu,useRef:bm,useState:function(){return zu(fi)},useDebugValue:Uu,useDeferredValue:function(e,i){var s=Et();return et===null?Pu(s,e,i):Em(s,et.memoizedState,e,i)},useTransition:function(){var e=zu(fi)[0],i=Et().memoizedState;return[typeof e=="boolean"?e:Ar(e),i]},useSyncExternalStore:im,useId:Dm,useHostTransitionStatus:Vu,useFormState:vm,useActionState:vm,useOptimistic:function(e,i){var s=Et();return et!==null?cm(s,et,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Du,useCacheRefresh:Mm};Um.useEffectEvent=Sm;function qu(e,i,s,o){i=e.memoizedState,s=s(o,i),s=s==null?i:x({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gu={enqueueSetState:function(e,i,s){e=e._reactInternals;var o=wn(),d=Pi(o);d.payload=i,s!=null&&(d.callback=s),i=Ii(e,d,o),i!==null&&(mn(i,e,o),_r(i,e,o))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var o=wn(),d=Pi(o);d.tag=1,d.payload=i,s!=null&&(d.callback=s),i=Ii(e,d,o),i!==null&&(mn(i,e,o),_r(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=wn(),o=Pi(s);o.tag=2,i!=null&&(o.callback=i),i=Ii(e,o,s),i!==null&&(mn(i,e,s),_r(i,e,s))}};function Pm(e,i,s,o,d,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!mr(s,o)||!mr(d,f):!0}function Im(e,i,s,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,o),i.state!==e&&Gu.enqueueReplaceState(i,i.state,null)}function Ea(e,i){var s=i;if("ref"in i){s={};for(var o in i)o!=="ref"&&(s[o]=i[o])}if(e=e.defaultProps){s===i&&(s=x({},s));for(var d in e)s[d]===void 0&&(s[d]=e[d])}return s}function Vm(e){$o(e)}function $m(e){console.error(e)}function Hm(e){$o(e)}function dl(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function qm(e,i,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Fu(e,i,s){return s=Pi(s),s.tag=3,s.payload={element:null},s.callback=function(){dl(e,i)},s}function Gm(e){return e=Pi(e),e.tag=3,e}function Fm(e,i,s,o){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;e.payload=function(){return d(f)},e.callback=function(){qm(i,s,o)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){qm(i,s,o),typeof d!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function xS(e,i,s,o,d){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=s.alternate,i!==null&&ls(i,s,d,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?_l():s.alternate===null&&_t===0&&(_t=3),s.flags&=-257,s.flags|=65536,s.lanes=d,o===Jo?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([o]):i.add(o),yd(e,o,d)),!1;case 22:return s.flags|=65536,o===Jo?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([o]):s.add(o)),yd(e,o,d)),!1}throw Error(r(435,s.tag))}return yd(e,o,d),_l(),!1}if(Ue)return i=vn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,o!==du&&(e=Error(r(422),{cause:o}),vr(En(e,s)))):(o!==du&&(i=Error(r(423),{cause:o}),vr(En(i,s))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,o=En(o,s),d=Fu(e.stateNode,o,d),wu(e,d),_t!==4&&(_t=2)),!1;var f=Error(r(520),{cause:o});if(f=En(f,s),Lr===null?Lr=[f]:Lr.push(f),_t!==4&&(_t=2),i===null)return!0;o=En(o,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=d&-d,s.lanes|=e,e=Fu(s.stateNode,o,e),wu(s,e),!1;case 1:if(i=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fi===null||!Fi.has(f))))return s.flags|=65536,d&=-d,s.lanes|=d,d=Gm(d),Fm(d,e,s,o),wu(s,d),!1}s=s.return}while(s!==null);return!1}var Wu=Error(r(461)),Mt=!1;function Wt(e,i,s,o){i.child=e===null?Xp(i,null,s,o):ja(i,e.child,s,o)}function Wm(e,i,s,o,d){s=s.render;var f=i.ref;if("ref"in o){var v={};for(var w in o)w!=="ref"&&(v[w]=o[w])}else v=o;return wa(i),o=Eu(e,i,s,v,f,d),w=Cu(),e!==null&&!Mt?(Ru(e,i,d),pi(e,i,d)):(Ue&&w&&cu(i),i.flags|=1,Wt(e,i,o,d),i.child)}function Ym(e,i,s,o,d){if(e===null){var f=s.type;return typeof f=="function"&&!ru(f)&&f.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=f,Km(e,i,f,o,d)):(e=Fo(s.type,null,o,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!td(e,d)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:mr,s(v,o)&&e.ref===i.ref)return pi(e,i,d)}return i.flags|=1,e=li(f,o),e.ref=i.ref,e.return=i,i.child=e}function Km(e,i,s,o,d){if(e!==null){var f=e.memoizedProps;if(mr(f,o)&&e.ref===i.ref)if(Mt=!1,i.pendingProps=o=f,td(e,d))(e.flags&131072)!==0&&(Mt=!0);else return i.lanes=e.lanes,pi(e,i,d)}return Yu(e,i,s,o,d)}function Xm(e,i,s,o){var d=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=i.child=e.child,d=0;o!==null;)d=d|o.lanes|o.childLanes,o=o.sibling;o=d&~f}else o=0,i.child=null;return Qm(e,i,f,s,o)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xo(i,f!==null?f.cachePool:null),f!==null?Zp(i,f):Tu(),em(i);else return o=i.lanes=536870912,Qm(e,i,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Xo(i,f.cachePool),Zp(i,f),$i(),i.memoizedState=null):(e!==null&&Xo(i,null),Tu(),$i());return Wt(e,i,d,s),i.child}function Rr(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Qm(e,i,s,o,d){var f=vu();return f=f===null?null:{parent:Ot._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},e!==null&&Xo(i,null),Tu(),em(i),e!==null&&ls(e,i,o,!0),i.childLanes=d,null}function hl(e,i){return i=pl({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Jm(e,i,s){return ja(i,e.child,null,s),e=hl(i,i.pendingProps),e.flags|=2,bn(i),i.memoizedState=null,e}function SS(e,i,s){var o=i.pendingProps,d=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Ue){if(o.mode==="hidden")return e=hl(i,o),i.lanes=536870912,Rr(null,e);if(ju(i),(e=ut)?(e=uy(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:zi!==null?{id:Qn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=i,i.child=s,Gt=i,ut=null)):e=null,e===null)throw Bi(i);return i.lanes=536870912,null}return hl(i,o)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(ju(i),d)if(i.flags&256)i.flags&=-257,i=Jm(e,i,s);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Mt||ls(e,i,s,!1),d=(s&e.childLanes)!==0,Mt||d){if(o=it,o!==null&&(v=ar(o,s),v!==0&&v!==f.retryLane))throw f.retryLane=v,va(e,v),mn(o,e,v),Wu;_l(),i=Jm(e,i,s)}else e=f.treeContext,ut=Mn(v.nextSibling),Gt=i,Ue=!0,Ni=null,On=!1,e!==null&&Up(i,e),i=hl(i,o),i.flags|=4096;return i}return e=li(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function fl(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function Yu(e,i,s,o,d){return wa(i),s=Eu(e,i,s,o,void 0,d),o=Cu(),e!==null&&!Mt?(Ru(e,i,d),pi(e,i,d)):(Ue&&o&&cu(i),i.flags|=1,Wt(e,i,s,d),i.child)}function Zm(e,i,s,o,d,f){return wa(i),i.updateQueue=null,s=nm(i,o,s,d),tm(e),o=Cu(),e!==null&&!Mt?(Ru(e,i,f),pi(e,i,f)):(Ue&&o&&cu(i),i.flags|=1,Wt(e,i,s,f),i.child)}function eg(e,i,s,o,d){if(wa(i),i.stateNode===null){var f=as,v=s.contextType;typeof v=="object"&&v!==null&&(f=Ft(v)),f=new s(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gu,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},xu(i),v=s.contextType,f.context=typeof v=="object"&&v!==null?Ft(v):as,f.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(qu(i,s,v,o),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Gu.enqueueReplaceState(f,f.state,null),kr(i,o,f,d),Tr(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var w=i.memoizedProps,E=Ea(s,w);f.props=E;var N=f.context,$=s.contextType;v=as,typeof $=="object"&&$!==null&&(v=Ft($));var W=s.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||N!==v)&&Im(i,f,o,v),Ui=!1;var U=i.memoizedState;f.state=U,kr(i,o,f,d),Tr(),N=i.memoizedState,w||U!==N||Ui?(typeof W=="function"&&(qu(i,s,W,o),N=i.memoizedState),(E=Ui||Pm(i,s,E,o,U,N,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=N),f.props=o,f.state=N,f.context=v,o=E):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,Su(e,i),v=i.memoizedProps,$=Ea(s,v),f.props=$,W=i.pendingProps,U=f.context,N=s.contextType,E=as,typeof N=="object"&&N!==null&&(E=Ft(N)),w=s.getDerivedStateFromProps,(N=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||U!==E)&&Im(i,f,o,E),Ui=!1,U=i.memoizedState,f.state=U,kr(i,o,f,d),Tr();var I=i.memoizedState;v!==W||U!==I||Ui||e!==null&&e.dependencies!==null&&Yo(e.dependencies)?(typeof w=="function"&&(qu(i,s,w,o),I=i.memoizedState),($=Ui||Pm(i,s,$,o,U,I,E)||e!==null&&e.dependencies!==null&&Yo(e.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,I,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,I,E)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=I),f.props=o,f.state=I,f.context=E,o=$):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&U===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,fl(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ja(i,e.child,null,d),i.child=ja(i,null,s,d)):Wt(e,i,s,d),i.memoizedState=f.state,e=i.child):e=pi(e,i,d),e}function tg(e,i,s,o){return xa(),i.flags|=256,Wt(e,i,s,o),i.child}var Ku={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(e){return{baseLanes:e,cachePool:qp()}}function Qu(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Sn),e}function ng(e,i,s){var o=i.pendingProps,d=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),v&&(d=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Ue){if(d?Vi(i):$i(),(e=ut)?(e=uy(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:zi!==null?{id:Qn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=i,i.child=s,Gt=i,ut=null)):e=null,e===null)throw Bi(i);return Md(e)?i.lanes=32:i.lanes=536870912,null}var w=o.children;return o=o.fallback,d?($i(),d=i.mode,w=pl({mode:"hidden",children:w},d),o=ba(o,d,s,null),w.return=i,o.return=i,w.sibling=o,i.child=w,o=i.child,o.memoizedState=Xu(s),o.childLanes=Qu(e,v,s),i.memoizedState=Ku,Rr(null,o)):(Vi(i),Ju(i,w))}var E=e.memoizedState;if(E!==null&&(w=E.dehydrated,w!==null)){if(f)i.flags&256?(Vi(i),i.flags&=-257,i=Zu(e,i,s)):i.memoizedState!==null?($i(),i.child=e.child,i.flags|=128,i=null):($i(),w=o.fallback,d=i.mode,o=pl({mode:"visible",children:o.children},d),w=ba(w,d,s,null),w.flags|=2,o.return=i,w.return=i,o.sibling=w,i.child=o,ja(i,e.child,null,s),o=i.child,o.memoizedState=Xu(s),o.childLanes=Qu(e,v,s),i.memoizedState=Ku,i=Rr(null,o));else if(Vi(i),Md(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var N=v.dgst;v=N,o=Error(r(419)),o.stack="",o.digest=v,vr({value:o,source:null,stack:null}),i=Zu(e,i,s)}else if(Mt||ls(e,i,s,!1),v=(s&e.childLanes)!==0,Mt||v){if(v=it,v!==null&&(o=ar(v,s),o!==0&&o!==E.retryLane))throw E.retryLane=o,va(e,o),mn(v,e,o),Wu;Dd(w)||_l(),i=Zu(e,i,s)}else Dd(w)?(i.flags|=192,i.child=e.child,i=null):(e=E.treeContext,ut=Mn(w.nextSibling),Gt=i,Ue=!0,Ni=null,On=!1,e!==null&&Up(i,e),i=Ju(i,o.children),i.flags|=4096);return i}return d?($i(),w=o.fallback,d=i.mode,E=e.child,N=E.sibling,o=li(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,N!==null?w=li(N,w):(w=ba(w,d,s,null),w.flags|=2),w.return=i,o.return=i,o.sibling=w,i.child=o,Rr(null,o),o=i.child,w=e.child.memoizedState,w===null?w=Xu(s):(d=w.cachePool,d!==null?(E=Ot._currentValue,d=d.parent!==E?{parent:E,pool:E}:d):d=qp(),w={baseLanes:w.baseLanes|s,cachePool:d}),o.memoizedState=w,o.childLanes=Qu(e,v,s),i.memoizedState=Ku,Rr(e.child,o)):(Vi(i),s=e.child,e=s.sibling,s=li(s,{mode:"visible",children:o.children}),s.return=i,s.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=s,i.memoizedState=null,s)}function Ju(e,i){return i=pl({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function pl(e,i){return e=yn(22,e,null,i),e.lanes=0,e}function Zu(e,i,s){return ja(i,e.child,null,s),e=Ju(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function ig(e,i,s){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),pu(e.return,i,s)}function ed(e,i,s,o,d,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:d,treeForkCount:f}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=o,v.tail=s,v.tailMode=d,v.treeForkCount=f)}function ag(e,i,s){var o=i.pendingProps,d=o.revealOrder,f=o.tail;o=o.children;var v=At.current,w=(v&2)!==0;if(w?(v=v&1|2,i.flags|=128):v&=1,X(At,v),Wt(e,i,o,s),o=Ue?yr:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ig(e,s,i);else if(e.tag===19)ig(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(s=i.child,d=null;s!==null;)e=s.alternate,e!==null&&nl(e)===null&&(d=s),s=s.sibling;s=d,s===null?(d=i.child,i.child=null):(d=s.sibling,s.sibling=null),ed(i,!1,d,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&nl(e)===null){i.child=d;break}e=d.sibling,d.sibling=s,s=d,d=e}ed(i,!0,s,null,f,o);break;case"together":ed(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function pi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Gi|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(ls(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=li(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=li(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function td(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Yo(e)))}function wS(e,i,s){switch(i.tag){case 3:St(i,i.stateNode.containerInfo),Li(i,Ot,e.memoizedState.cache),xa();break;case 27:case 5:be(i);break;case 4:St(i,i.stateNode.containerInfo);break;case 10:Li(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ju(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Vi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?ng(e,i,s):(Vi(i),e=pi(e,i,s),e!==null?e.sibling:null);Vi(i);break;case 19:var d=(e.flags&128)!==0;if(o=(s&i.childLanes)!==0,o||(ls(e,i,s,!1),o=(s&i.childLanes)!==0),d){if(o)return ag(e,i,s);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),X(At,At.current),o)break;return null;case 22:return i.lanes=0,Xm(e,i,s,i.pendingProps);case 24:Li(i,Ot,e.memoizedState.cache)}return pi(e,i,s)}function sg(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)Mt=!0;else{if(!td(e,s)&&(i.flags&128)===0)return Mt=!1,wS(e,i,s);Mt=(e.flags&131072)!==0}else Mt=!1,Ue&&(i.flags&1048576)!==0&&Lp(i,yr,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(e=Ta(i.elementType),i.type=e,typeof e=="function")ru(e)?(o=Ea(e,o),i.tag=1,i=eg(null,i,e,o,s)):(i.tag=0,i=Yu(null,i,e,o,s));else{if(e!=null){var d=e.$$typeof;if(d===L){i.tag=11,i=Wm(null,i,e,o,s);break e}else if(d===F){i.tag=14,i=Ym(null,i,e,o,s);break e}}throw i=vt(e)||e,Error(r(306,i,""))}}return i;case 0:return Yu(e,i,i.type,i.pendingProps,s);case 1:return o=i.type,d=Ea(o,i.pendingProps),eg(e,i,o,d,s);case 3:e:{if(St(i,i.stateNode.containerInfo),e===null)throw Error(r(387));o=i.pendingProps;var f=i.memoizedState;d=f.element,Su(e,i),kr(i,o,null,s);var v=i.memoizedState;if(o=v.cache,Li(i,Ot,o),o!==f.cache&&mu(i,[Ot],s,!0),Tr(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=tg(e,i,o,s);break e}else if(o!==d){d=En(Error(r(424)),i),vr(d),i=tg(e,i,o,s);break e}else for(e=i.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ut=Mn(e.firstChild),Gt=i,Ue=!0,Ni=null,On=!0,s=Xp(i,null,o,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(xa(),o===d){i=pi(e,i,s);break e}Wt(e,i,o,s)}i=i.child}return i;case 26:return fl(e,i),e===null?(s=gy(i.type,null,i.pendingProps,null))?i.memoizedState=s:Ue||(s=i.type,e=i.pendingProps,o=Rl(Q.current).createElement(s),o[ee]=i,o[ne]=e,Yt(o,s,e),Ye(o),i.stateNode=o):i.memoizedState=gy(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return be(i),e===null&&Ue&&(o=i.stateNode=fy(i.type,i.pendingProps,Q.current),Gt=i,On=!0,d=ut,Xi(i.type)?(zd=d,ut=Mn(o.firstChild)):ut=d),Wt(e,i,i.pendingProps.children,s),fl(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Ue&&((d=o=ut)&&(o=JS(o,i.type,i.pendingProps,On),o!==null?(i.stateNode=o,Gt=i,ut=Mn(o.firstChild),On=!1,d=!0):d=!1),d||Bi(i)),be(i),d=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,Cd(d,f)?o=null:v!==null&&Cd(d,v)&&(i.flags|=32),i.memoizedState!==null&&(d=Eu(e,i,fS,null,null,s),Gr._currentValue=d),fl(e,i),Wt(e,i,o,s),i.child;case 6:return e===null&&Ue&&((e=s=ut)&&(s=ZS(s,i.pendingProps,On),s!==null?(i.stateNode=s,Gt=i,ut=null,e=!0):e=!1),e||Bi(i)),null;case 13:return ng(e,i,s);case 4:return St(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ja(i,null,o,s):Wt(e,i,o,s),i.child;case 11:return Wm(e,i,i.type,i.pendingProps,s);case 7:return Wt(e,i,i.pendingProps,s),i.child;case 8:return Wt(e,i,i.pendingProps.children,s),i.child;case 12:return Wt(e,i,i.pendingProps.children,s),i.child;case 10:return o=i.pendingProps,Li(i,i.type,o.value),Wt(e,i,o.children,s),i.child;case 9:return d=i.type._context,o=i.pendingProps.children,wa(i),d=Ft(d),o=o(d),i.flags|=1,Wt(e,i,o,s),i.child;case 14:return Ym(e,i,i.type,i.pendingProps,s);case 15:return Km(e,i,i.type,i.pendingProps,s);case 19:return ag(e,i,s);case 31:return SS(e,i,s);case 22:return Xm(e,i,s,i.pendingProps);case 24:return wa(i),o=Ft(Ot),e===null?(d=vu(),d===null&&(d=it,f=gu(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=s),d=f),i.memoizedState={parent:o,cache:d},xu(i),Li(i,Ot,d)):((e.lanes&s)!==0&&(Su(e,i),kr(i,null,null,s),Tr()),d=e.memoizedState,f=i.memoizedState,d.parent!==o?(d={parent:o,cache:o},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Li(i,Ot,o)):(o=f.cache,Li(i,Ot,o),o!==d.cache&&mu(i,[Ot],s,!0))),Wt(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function mi(e){e.flags|=4}function nd(e,i,s,o,d){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Dg())e.flags|=8192;else throw ka=Jo,bu}else e.flags&=-16777217}function rg(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sy(i))if(Dg())e.flags|=8192;else throw ka=Jo,bu}function ml(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Co():536870912,e.lanes|=i,xs|=i)}function Or(e,i){if(!Ue)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function dt(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(i)for(var d=e.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)s|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=o,e.childLanes=s,i}function _S(e,i,s){var o=i.pendingProps;switch(uu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return s=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),di(Ot),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(os(i)?mi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hu())),dt(i),null;case 26:var d=i.type,f=i.memoizedState;return e===null?(mi(i),f!==null?(dt(i),rg(i,f)):(dt(i),nd(i,d,null,o,s))):f?f!==e.memoizedState?(mi(i),dt(i),rg(i,f)):(dt(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&mi(i),dt(i),nd(i,d,e,o,s)),null;case 27:if(se(i),s=Q.current,d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&mi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return dt(i),null}e=Z.current,os(i)?Pp(i):(e=fy(d,o,s),i.stateNode=e,mi(i))}return dt(i),null;case 5:if(se(i),d=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&mi(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return dt(i),null}if(f=Z.current,os(i))Pp(i);else{var v=Rl(Q.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?v.createElement("select",{is:o.is}):v.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?v.createElement(d,{is:o.is}):v.createElement(d)}}f[ee]=i,f[ne]=o;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=f;e:switch(Yt(f,d,o),d){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&mi(i)}}return dt(i),nd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,s),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&mi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(e=Q.current,os(i)){if(e=i.stateNode,s=i.memoizedProps,o=null,d=Gt,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}e[ee]=i,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||ny(e.nodeValue,s)),e||Bi(i,!0)}else e=Rl(e).createTextNode(o),e[ee]=i,i.stateNode=e}return dt(i),null;case 31:if(s=i.memoizedState,e===null||e.memoizedState!==null){if(o=os(i),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ee]=i}else xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),e=!1}else s=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return dt(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=os(i),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[ee]=i}else xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),d=!1}else d=hu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=s,i):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=i.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==d&&(o.flags|=2048)),s!==e&&s&&(i.child.flags|=8192),ml(i,i.updateQueue),dt(i),null);case 4:return st(),e===null&&Td(i.stateNode.containerInfo),dt(i),null;case 10:return di(i.type),dt(i),null;case 19:if(H(At),o=i.memoizedState,o===null)return dt(i),null;if(d=(i.flags&128)!==0,f=o.rendering,f===null)if(d)Or(o,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=nl(e),f!==null){for(i.flags|=128,Or(o,!1),e=f.updateQueue,i.updateQueue=e,ml(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)zp(s,e),s=s.sibling;return X(At,At.current&1|2),Ue&&ci(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&Ut()>xl&&(i.flags|=128,d=!0,Or(o,!1),i.lanes=4194304)}else{if(!d)if(e=nl(f),e!==null){if(i.flags|=128,d=!0,e=e.updateQueue,i.updateQueue=e,ml(i,e),Or(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ue)return dt(i),null}else 2*Ut()-o.renderingStartTime>xl&&s!==536870912&&(i.flags|=128,d=!0,Or(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ut(),e.sibling=null,s=At.current,X(At,d?s&1|2:s&1),Ue&&ci(i,o.treeForkCount),e):(dt(i),null);case 22:case 23:return bn(i),ku(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(s&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),s=i.updateQueue,s!==null&&ml(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==s&&(i.flags|=2048),e!==null&&H(_a),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),di(Ot),dt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function TS(e,i){switch(uu(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return di(Ot),st(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return se(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(r(340));xa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(bn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));xa()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return H(At),null;case 4:return st(),null;case 10:return di(i.type),null;case 22:case 23:return bn(i),ku(),e!==null&&H(_a),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return di(Ot),null;case 25:return null;default:return null}}function og(e,i){switch(uu(i),i.tag){case 3:di(Ot),st();break;case 26:case 27:case 5:se(i);break;case 4:st();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:H(At);break;case 10:di(i.type);break;case 22:case 23:bn(i),ku(),e!==null&&H(_a);break;case 24:di(Ot)}}function Dr(e,i){try{var s=i.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var d=o.next;s=d;do{if((s.tag&e)===e){o=void 0;var f=s.create,v=s.inst;o=f(),v.destroy=o}s=s.next}while(s!==d)}}catch(w){Je(i,i.return,w)}}function Hi(e,i,s){try{var o=i.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var f=d.next;o=f;do{if((o.tag&e)===e){var v=o.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,d=i;var E=s,N=w;try{N()}catch($){Je(d,E,$)}}}o=o.next}while(o!==f)}}catch($){Je(i,i.return,$)}}function lg(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Jp(i,s)}catch(o){Je(e,e.return,o)}}}function cg(e,i,s){s.props=Ea(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Je(e,i,o)}}function Mr(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(d){Je(e,i,d)}}function Zn(e,i){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(d){Je(e,i,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Je(e,i,d)}else s.current=null}function ug(e){var i=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(d){Je(e,e.return,d)}}function id(e,i,s){try{var o=e.stateNode;FS(o,e.type,s,i),o[ne]=i}catch(d){Je(e,e.return,d)}}function dg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xi(e.type)||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sd(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=ri));else if(o!==4&&(o===27&&Xi(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(sd(e,i,s),e=e.sibling;e!==null;)sd(e,i,s),e=e.sibling}function gl(e,i,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(o!==4&&(o===27&&Xi(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(gl(e,i,s),e=e.sibling;e!==null;)gl(e,i,s),e=e.sibling}function hg(e){var i=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);Yt(i,o,s),i[ee]=e,i[ne]=s}catch(f){Je(e,e.return,f)}}var gi=!1,zt=!1,rd=!1,fg=typeof WeakSet=="function"?WeakSet:Set,$t=null;function kS(e,i){if(e=e.containerInfo,Ad=Ll,e=kp(e),Zc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var d=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var v=0,w=-1,E=-1,N=0,$=0,W=e,U=null;t:for(;;){for(var I;W!==s||d!==0&&W.nodeType!==3||(w=v+d),W!==f||o!==0&&W.nodeType!==3||(E=v+o),W.nodeType===3&&(v+=W.nodeValue.length),(I=W.firstChild)!==null;)U=W,W=I;for(;;){if(W===e)break t;if(U===s&&++N===d&&(w=v),U===f&&++$===o&&(E=v),(I=W.nextSibling)!==null)break;W=U,U=W.parentNode}W=I}s=w===-1||E===-1?null:{start:w,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:e,selectionRange:s},Ll=!1,$t=i;$t!==null;)if(i=$t,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,$t=e;else for(;$t!==null;){switch(i=$t,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)d=e[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=i,d=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ie=Ea(s.type,d);e=o.getSnapshotBeforeUpdate(ie,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Je(s,s.return,fe)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)Od(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Od(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,$t=e;break}$t=i.return}}function pg(e,i,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:vi(e,s),o&4&&Dr(5,s);break;case 1:if(vi(e,s),o&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(v){Je(s,s.return,v)}else{var d=Ea(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(d,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(s,s.return,v)}}o&64&&lg(s),o&512&&Mr(s,s.return);break;case 3:if(vi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Jp(e,i)}catch(v){Je(s,s.return,v)}}break;case 27:i===null&&o&4&&hg(s);case 26:case 5:vi(e,s),i===null&&o&4&&ug(s),o&512&&Mr(s,s.return);break;case 12:vi(e,s);break;case 31:vi(e,s),o&4&&yg(e,s);break;case 13:vi(e,s),o&4&&vg(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=zS.bind(null,s),ew(e,s))));break;case 22:if(o=s.memoizedState!==null||gi,!o){i=i!==null&&i.memoizedState!==null||zt,d=gi;var f=zt;gi=o,(zt=i)&&!f?bi(e,s,(s.subtreeFlags&8772)!==0):vi(e,s),gi=d,zt=f}break;case 30:break;default:vi(e,s)}}function mg(e){var i=e.alternate;i!==null&&(e.alternate=null,mg(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&xe(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,dn=!1;function yi(e,i,s){for(s=s.child;s!==null;)gg(e,i,s),s=s.sibling}function gg(e,i,s){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Xn,s)}catch{}switch(s.tag){case 26:zt||Zn(s,i),yi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:zt||Zn(s,i);var o=yt,d=dn;Xi(s.type)&&(yt=s.stateNode,dn=!1),yi(e,i,s),$r(s.stateNode),yt=o,dn=d;break;case 5:zt||Zn(s,i);case 6:if(o=yt,d=dn,yt=null,yi(e,i,s),yt=o,dn=d,yt!==null)if(dn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(s.stateNode)}catch(f){Je(s,i,f)}else try{yt.removeChild(s.stateNode)}catch(f){Je(s,i,f)}break;case 18:yt!==null&&(dn?(e=yt,ly(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Es(e)):ly(yt,s.stateNode));break;case 4:o=yt,d=dn,yt=s.stateNode.containerInfo,dn=!0,yi(e,i,s),yt=o,dn=d;break;case 0:case 11:case 14:case 15:Hi(2,s,i),zt||Hi(4,s,i),yi(e,i,s);break;case 1:zt||(Zn(s,i),o=s.stateNode,typeof o.componentWillUnmount=="function"&&cg(s,i,o)),yi(e,i,s);break;case 21:yi(e,i,s);break;case 22:zt=(o=zt)||s.memoizedState!==null,yi(e,i,s),zt=o;break;default:yi(e,i,s)}}function yg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Es(e)}catch(s){Je(i,i.return,s)}}}function vg(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Es(e)}catch(s){Je(i,i.return,s)}}function jS(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new fg),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new fg),i;default:throw Error(r(435,e.tag))}}function yl(e,i){var s=jS(e);i.forEach(function(o){if(!s.has(o)){s.add(o);var d=NS.bind(null,e,o);o.then(d,d)}})}function hn(e,i){var s=i.deletions;if(s!==null)for(var o=0;o<s.length;o++){var d=s[o],f=e,v=i,w=v;e:for(;w!==null;){switch(w.tag){case 27:if(Xi(w.type)){yt=w.stateNode,dn=!1;break e}break;case 5:yt=w.stateNode,dn=!1;break e;case 3:case 4:yt=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(yt===null)throw Error(r(160));gg(f,v,d),yt=null,dn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)bg(i,e),i=i.sibling}var In=null;function bg(e,i){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),o&4&&(Hi(3,e,e.return),Dr(3,e),Hi(5,e,e.return));break;case 1:hn(i,e),fn(e),o&512&&(zt||s===null||Zn(s,s.return)),o&64&&gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var d=In;if(hn(i,e),fn(e),o&512&&(zt||s===null||Zn(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":f=d.getElementsByTagName("title")[0],(!f||f[$e]||f[ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(o),d.head.insertBefore(f,d.querySelector("head > title"))),Yt(f,o,s),f[ee]=e,Ye(f),o=f;break e;case"link":var v=by("link","href",d).get(o+(s.href||""));if(v){for(var w=0;w<v.length;w++)if(f=v[w],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(w,1);break t}}f=d.createElement(o),Yt(f,o,s),d.head.appendChild(f);break;case"meta":if(v=by("meta","content",d).get(o+(s.content||""))){for(w=0;w<v.length;w++)if(f=v[w],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(w,1);break t}}f=d.createElement(o),Yt(f,o,s),d.head.appendChild(f);break;default:throw Error(r(468,o))}f[ee]=e,Ye(f),o=f}e.stateNode=o}else xy(d,e.type,e.stateNode);else e.stateNode=vy(d,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?xy(d,e.type,e.stateNode):vy(d,o,e.memoizedProps)):o===null&&e.stateNode!==null&&id(e,e.memoizedProps,s.memoizedProps)}break;case 27:hn(i,e),fn(e),o&512&&(zt||s===null||Zn(s,s.return)),s!==null&&o&4&&id(e,e.memoizedProps,s.memoizedProps);break;case 5:if(hn(i,e),fn(e),o&512&&(zt||s===null||Zn(s,s.return)),e.flags&32){d=e.stateNode;try{Qa(d,"")}catch(ie){Je(e,e.return,ie)}}o&4&&e.stateNode!=null&&(d=e.memoizedProps,id(e,d,s!==null?s.memoizedProps:d)),o&1024&&(rd=!0);break;case 6:if(hn(i,e),fn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ie){Je(e,e.return,ie)}}break;case 3:if(Ml=null,d=In,In=Ol(i.containerInfo),hn(i,e),In=d,fn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Es(i.containerInfo)}catch(ie){Je(e,e.return,ie)}rd&&(rd=!1,xg(e));break;case 4:o=In,In=Ol(e.stateNode.containerInfo),hn(i,e),fn(e),In=o;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yl(e,o)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bl=Ut()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yl(e,o)));break;case 22:d=e.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,N=gi,$=zt;if(gi=N||d,zt=$||E,hn(i,e),zt=$,gi=N,fn(e),o&8192)e:for(i=e.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(s===null||E||gi||zt||Ca(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){E=s=i;try{if(f=E.stateNode,d)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=E.stateNode;var W=E.memoizedProps.style,U=W!=null&&W.hasOwnProperty("display")?W.display:null;w.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ie){Je(E,E.return,ie)}}}else if(i.tag===6){if(s===null){E=i;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(ie){Je(E,E.return,ie)}}}else if(i.tag===18){if(s===null){E=i;try{var I=E.stateNode;d?cy(I,!0):cy(E.stateNode,!1)}catch(ie){Je(E,E.return,ie)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,yl(e,s))));break;case 19:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,yl(e,o)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var s,o=e.return;o!==null;){if(dg(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var d=s.stateNode,f=ad(e);gl(e,f,d);break;case 5:var v=s.stateNode;s.flags&32&&(Qa(v,""),s.flags&=-33);var w=ad(e);gl(e,w,v);break;case 3:case 4:var E=s.stateNode.containerInfo,N=ad(e);sd(e,N,E);break;default:throw Error(r(161))}}catch($){Je(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function xg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;xg(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function vi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)pg(e,i.alternate,i),i=i.sibling}function Ca(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Hi(4,i,i.return),Ca(i);break;case 1:Zn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&cg(i,i.return,s),Ca(i);break;case 27:$r(i.stateNode);case 26:case 5:Zn(i,i.return),Ca(i);break;case 22:i.memoizedState===null&&Ca(i);break;case 30:Ca(i);break;default:Ca(i)}e=e.sibling}}function bi(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,d=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:bi(d,f,s),Dr(4,f);break;case 1:if(bi(d,f,s),o=f,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(N){Je(o,o.return,N)}if(o=f,d=o.updateQueue,d!==null){var w=o.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Qp(E[d],w)}catch(N){Je(o,o.return,N)}}s&&v&64&&lg(f),Mr(f,f.return);break;case 27:hg(f);case 26:case 5:bi(d,f,s),s&&o===null&&v&4&&ug(f),Mr(f,f.return);break;case 12:bi(d,f,s);break;case 31:bi(d,f,s),s&&v&4&&yg(d,f);break;case 13:bi(d,f,s),s&&v&4&&vg(d,f);break;case 22:f.memoizedState===null&&bi(d,f,s),Mr(f,f.return);break;case 30:break;default:bi(d,f,s)}i=i.sibling}}function od(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&br(s))}function ld(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&br(e))}function Vn(e,i,s,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sg(e,i,s,o),i=i.sibling}function Sg(e,i,s,o){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Vn(e,i,s,o),d&2048&&Dr(9,i);break;case 1:Vn(e,i,s,o);break;case 3:Vn(e,i,s,o),d&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&br(e)));break;case 12:if(d&2048){Vn(e,i,s,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,w=f.onPostCommit;typeof w=="function"&&w(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Je(i,i.return,E)}}else Vn(e,i,s,o);break;case 31:Vn(e,i,s,o);break;case 13:Vn(e,i,s,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?Vn(e,i,s,o):zr(e,i):f._visibility&2?Vn(e,i,s,o):(f._visibility|=2,ys(e,i,s,o,(i.subtreeFlags&10256)!==0||!1)),d&2048&&od(v,i);break;case 24:Vn(e,i,s,o),d&2048&&ld(i.alternate,i);break;default:Vn(e,i,s,o)}}function ys(e,i,s,o,d){for(d=d&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,v=i,w=s,E=o,N=v.flags;switch(v.tag){case 0:case 11:case 15:ys(f,v,w,E,d),Dr(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ys(f,v,w,E,d):zr(f,v):($._visibility|=2,ys(f,v,w,E,d)),d&&N&2048&&od(v.alternate,v);break;case 24:ys(f,v,w,E,d),d&&N&2048&&ld(v.alternate,v);break;default:ys(f,v,w,E,d)}i=i.sibling}}function zr(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,o=i,d=o.flags;switch(o.tag){case 22:zr(s,o),d&2048&&od(o.alternate,o);break;case 24:zr(s,o),d&2048&&ld(o.alternate,o);break;default:zr(s,o)}i=i.sibling}}var Nr=8192;function vs(e,i,s){if(e.subtreeFlags&Nr)for(e=e.child;e!==null;)wg(e,i,s),e=e.sibling}function wg(e,i,s){switch(e.tag){case 26:vs(e,i,s),e.flags&Nr&&e.memoizedState!==null&&hw(s,In,e.memoizedState,e.memoizedProps);break;case 5:vs(e,i,s);break;case 3:case 4:var o=In;In=Ol(e.stateNode.containerInfo),vs(e,i,s),In=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Nr,Nr=16777216,vs(e,i,s),Nr=o):vs(e,i,s));break;default:vs(e,i,s)}}function _g(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Br(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];$t=o,kg(o,e)}_g(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tg(e),e=e.sibling}function Tg(e){switch(e.tag){case 0:case 11:case 15:Br(e),e.flags&2048&&Hi(9,e,e.return);break;case 3:Br(e);break;case 12:Br(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,vl(e)):Br(e);break;default:Br(e)}}function vl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var o=i[s];$t=o,kg(o,e)}_g(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Hi(8,i,i.return),vl(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,vl(i));break;default:vl(i)}e=e.sibling}}function kg(e,i){for(;$t!==null;){var s=$t;switch(s.tag){case 0:case 11:case 15:Hi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:br(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,$t=o;else e:for(s=e;$t!==null;){o=$t;var d=o.sibling,f=o.return;if(mg(o),o===s){$t=null;break e}if(d!==null){d.return=f,$t=d;break e}$t=f}}}var AS={getCacheForType:function(e){var i=Ft(Ot),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s},cacheSignal:function(){return Ft(Ot).controller.signal}},ES=typeof WeakMap=="function"?WeakMap:Map,We=0,it=null,Me=null,Be=0,Qe=0,xn=null,qi=!1,bs=!1,cd=!1,xi=0,_t=0,Gi=0,Ra=0,ud=0,Sn=0,xs=0,Lr=null,pn=null,dd=!1,bl=0,jg=0,xl=1/0,Sl=null,Fi=null,Pt=0,Wi=null,Ss=null,Si=0,hd=0,fd=null,Ag=null,Ur=0,pd=null;function wn(){return(We&2)!==0&&Be!==0?Be&-Be:P.T!==null?xd():rr()}function Eg(){if(Sn===0)if((Be&536870912)===0||Ue){var e=_e;_e<<=1,(_e&3932160)===0&&(_e=262144),Sn=e}else Sn=536870912;return e=vn.current,e!==null&&(e.flags|=32),Sn}function mn(e,i,s){(e===it&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(ws(e,0),Yi(e,Be,Sn,!1)),Oi(e,s),((We&2)===0||e!==it)&&(e===it&&((We&2)===0&&(Ra|=s),_t===4&&Yi(e,Be,Sn,!1)),ei(e))}function Cg(e,i,s){if((We&6)!==0)throw Error(r(327));var o=!s&&(i&127)===0&&(i&e.expiredLanes)===0||ha(e,i),d=o?OS(e,i):gd(e,i,!0),f=o;do{if(d===0){bs&&!o&&Yi(e,i,0,!1);break}else{if(s=e.current.alternate,f&&!CS(s)){d=gd(e,i,!1),f=!1;continue}if(d===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var w=e;d=Lr;var E=w.current.memoizedState.isDehydrated;if(E&&(ws(w,v).flags|=256),v=gd(w,v,!1),v!==2){if(cd&&!E){w.errorRecoveryDisabledLanes|=f,Ra|=f,d=4;break e}f=pn,pn=d,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}d=v}if(f=!1,d!==2)continue}}if(d===1){ws(e,0),Yi(e,i,0,!0);break}e:{switch(o=e,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Yi(o,i,Sn,!qi);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=bl+300-Ut(),10<d)){if(Yi(o,i,Sn,!qi),Ka(o,0,!0)!==0)break e;Si=i,o.timeoutHandle=ry(Rg.bind(null,o,s,pn,Sl,dd,i,Sn,Ra,xs,qi,f,"Throttled",-0,0),d);break e}Rg(o,s,pn,Sl,dd,i,Sn,Ra,xs,qi,f,null,-0,0)}}break}while(!0);ei(e)}function Rg(e,i,s,o,d,f,v,w,E,N,$,W,U,I){if(e.timeoutHandle=-1,W=i.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},wg(i,f,W);var ie=(f&62914560)===f?bl-Ut():(f&4194048)===f?jg-Ut():0;if(ie=fw(W,ie),ie!==null){Si=f,e.cancelPendingCommit=ie(Ug.bind(null,e,i,f,s,o,d,v,w,E,$,W,null,U,I)),Yi(e,f,v,!N);return}}Ug(e,i,f,s,o,d,v,w,E)}function CS(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var d=s[o],f=d.getSnapshot;d=d.value;try{if(!gn(f(),d))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(e,i,s,o){i&=~ud,i&=~Ra,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var d=i;0<d;){var f=31-Ee(d),v=1<<f;o[f]=-1,d&=~v}s!==0&&ir(e,s,i)}function wl(){return(We&6)===0?(Pr(0),!1):!0}function md(){if(Me!==null){if(Qe===0)var e=Me.return;else e=Me,ui=Sa=null,Ou(e),hs=null,Sr=0,e=Me;for(;e!==null;)og(e.alternate,e),e=e.return;Me=null}}function ws(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,KS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Si=0,md(),it=e,Me=s=li(e.current,null),Be=i,Qe=0,xn=null,qi=!1,bs=ha(e,i),cd=!1,xs=Sn=ud=Ra=Gi=_t=0,pn=Lr=null,dd=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var d=31-Ee(o),f=1<<d;i|=e[d],o&=~f}return xi=i,Ho(),s}function Og(e,i){Te=null,P.H=Cr,i===ds||i===Qo?(i=Wp(),Qe=3):i===bu?(i=Wp(),Qe=4):Qe=i===Wu?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Me===null&&(_t=1,dl(e,En(i,e.current)))}function Dg(){var e=vn.current;return e===null?!0:(Be&4194048)===Be?Dn===null:(Be&62914560)===Be||(Be&536870912)!==0?e===Dn:!1}function Mg(){var e=P.H;return P.H=Cr,e===null?Cr:e}function zg(){var e=P.A;return P.A=AS,e}function _l(){_t=4,qi||(Be&4194048)!==Be&&vn.current!==null||(bs=!0),(Gi&134217727)===0&&(Ra&134217727)===0||it===null||Yi(it,Be,Sn,!1)}function gd(e,i,s){var o=We;We|=2;var d=Mg(),f=zg();(it!==e||Be!==i)&&(Sl=null,ws(e,i)),i=!1;var v=_t;e:do try{if(Qe!==0&&Me!==null){var w=Me,E=xn;switch(Qe){case 8:md(),v=6;break e;case 3:case 2:case 9:case 6:vn.current===null&&(i=!0);var N=Qe;if(Qe=0,xn=null,_s(e,w,E,N),s&&bs){v=0;break e}break;default:N=Qe,Qe=0,xn=null,_s(e,w,E,N)}}RS(),v=_t;break}catch($){Og(e,$)}while(!0);return i&&e.shellSuspendCounter++,ui=Sa=null,We=o,P.H=d,P.A=f,Me===null&&(it=null,Be=0,Ho()),v}function RS(){for(;Me!==null;)Ng(Me)}function OS(e,i){var s=We;We|=2;var o=Mg(),d=zg();it!==e||Be!==i?(Sl=null,xl=Ut()+500,ws(e,i)):bs=ha(e,i);e:do try{if(Qe!==0&&Me!==null){i=Me;var f=xn;t:switch(Qe){case 1:Qe=0,xn=null,_s(e,i,f,1);break;case 2:case 9:if(Gp(f)){Qe=0,xn=null,Bg(i);break}i=function(){Qe!==2&&Qe!==9||it!==e||(Qe=7),ei(e)},f.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Gp(f)?(Qe=0,xn=null,Bg(i)):(Qe=0,xn=null,_s(e,i,f,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var w=Me;if(v?Sy(v):w.stateNode.complete){Qe=0,xn=null;var E=w.sibling;if(E!==null)Me=E;else{var N=w.return;N!==null?(Me=N,Tl(N)):Me=null}break t}}Qe=0,xn=null,_s(e,i,f,5);break;case 6:Qe=0,xn=null,_s(e,i,f,6);break;case 8:md(),_t=6;break e;default:throw Error(r(462))}}DS();break}catch($){Og(e,$)}while(!0);return ui=Sa=null,P.H=o,P.A=d,We=s,Me!==null?0:(it=null,Be=0,Ho(),_t)}function DS(){for(;Me!==null&&!Ai();)Ng(Me)}function Ng(e){var i=sg(e.alternate,e,xi);e.memoizedProps=e.pendingProps,i===null?Tl(e):Me=i}function Bg(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Zm(s,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=Zm(s,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:Ou(i);default:og(s,i),i=Me=zp(i,xi),i=sg(s,i,xi)}e.memoizedProps=e.pendingProps,i===null?Tl(e):Me=i}function _s(e,i,s,o){ui=Sa=null,Ou(i),hs=null,Sr=0;var d=i.return;try{if(xS(e,d,i,s,Be)){_t=1,dl(e,En(s,e.current)),Me=null;return}}catch(f){if(d!==null)throw Me=d,f;_t=1,dl(e,En(s,e.current)),Me=null;return}i.flags&32768?(Ue||o===1?e=!0:bs||(Be&536870912)!==0?e=!1:(qi=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Lg(i,e)):Tl(i)}function Tl(e){var i=e;do{if((i.flags&32768)!==0){Lg(i,qi);return}e=i.return;var s=_S(i.alternate,i,xi);if(s!==null){Me=s;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=e}while(i!==null);_t===0&&(_t=5)}function Lg(e,i){do{var s=TS(e.alternate,e);if(s!==null){s.flags&=32767,Me=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){Me=e;return}Me=e=s}while(e!==null);_t=6,Me=null}function Ug(e,i,s,o,d,f,v,w,E){e.cancelPendingCommit=null;do kl();while(Pt!==0);if((We&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(f=i.lanes|i.childLanes,f|=au,Ro(e,s,f,v,w,E),e===it&&(Me=it=null,Be=0),Ss=i,Wi=e,Si=s,hd=f,fd=d,Ag=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,BS(Yn,function(){return Hg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=P.T,P.T=null,d=K.p,K.p=2,v=We,We|=4;try{kS(e,i,s)}finally{We=v,K.p=d,P.T=o}}Pt=1,Pg(),Ig(),Vg()}}function Pg(){if(Pt===1){Pt=0;var e=Wi,i=Ss,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=P.T,P.T=null;var o=K.p;K.p=2;var d=We;We|=4;try{bg(i,e);var f=Ed,v=kp(e.containerInfo),w=f.focusedElem,E=f.selectionRange;if(v!==w&&w&&w.ownerDocument&&Tp(w.ownerDocument.documentElement,w)){if(E!==null&&Zc(w)){var N=E.start,$=E.end;if($===void 0&&($=N),"selectionStart"in w)w.selectionStart=N,w.selectionEnd=Math.min($,w.value.length);else{var W=w.ownerDocument||document,U=W&&W.defaultView||window;if(U.getSelection){var I=U.getSelection(),ie=w.textContent.length,fe=Math.min(E.start,ie),nt=E.end===void 0?fe:Math.min(E.end,ie);!I.extend&&fe>nt&&(v=nt,nt=fe,fe=v);var M=_p(w,fe),D=_p(w,nt);if(M&&D&&(I.rangeCount!==1||I.anchorNode!==M.node||I.anchorOffset!==M.offset||I.focusNode!==D.node||I.focusOffset!==D.offset)){var z=W.createRange();z.setStart(M.node,M.offset),I.removeAllRanges(),fe>nt?(I.addRange(z),I.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),I.addRange(z))}}}}for(W=[],I=w;I=I.parentNode;)I.nodeType===1&&W.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<W.length;w++){var G=W[w];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Ll=!!Ad,Ed=Ad=null}finally{We=d,K.p=o,P.T=s}}e.current=i,Pt=2}}function Ig(){if(Pt===2){Pt=0;var e=Wi,i=Ss,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=P.T,P.T=null;var o=K.p;K.p=2;var d=We;We|=4;try{pg(e,i.alternate,i)}finally{We=d,K.p=o,P.T=s}}Pt=3}}function Vg(){if(Pt===4||Pt===3){Pt=0,Wa();var e=Wi,i=Ss,s=Si,o=Ag;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Ss=Wi=null,$g(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Fi=null),Un(s),i=i.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Xn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=P.T,d=K.p,K.p=2,P.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var w=o[v];f(w.value,{componentStack:w.stack})}}finally{P.T=i,K.p=d}}(Si&3)!==0&&kl(),ei(e),d=e.pendingLanes,(s&261930)!==0&&(d&42)!==0?e===pd?Ur++:(Ur=0,pd=e):Ur=0,Pr(0)}}function $g(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,br(i)))}function kl(){return Pg(),Ig(),Vg(),Hg()}function Hg(){if(Pt!==5)return!1;var e=Wi,i=hd;hd=0;var s=Un(Si),o=P.T,d=K.p;try{K.p=32>s?32:s,P.T=null,s=fd,fd=null;var f=Wi,v=Si;if(Pt=0,Ss=Wi=null,Si=0,(We&6)!==0)throw Error(r(331));var w=We;if(We|=4,Tg(f.current),Sg(f,f.current,v,s),We=w,Pr(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Xn,f)}catch{}return!0}finally{K.p=d,P.T=o,$g(e,i)}}function qg(e,i,s){i=En(s,i),i=Fu(e.stateNode,i,2),e=Ii(e,i,2),e!==null&&(Oi(e,2),ei(e))}function Je(e,i,s){if(e.tag===3)qg(e,e,s);else for(;i!==null;){if(i.tag===3){qg(i,e,s);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fi===null||!Fi.has(o))){e=En(s,e),s=Gm(2),o=Ii(i,s,2),o!==null&&(Fm(s,o,i,e),Oi(o,2),ei(o));break}}i=i.return}}function yd(e,i,s){var o=e.pingCache;if(o===null){o=e.pingCache=new ES;var d=new Set;o.set(i,d)}else d=o.get(i),d===void 0&&(d=new Set,o.set(i,d));d.has(s)||(cd=!0,d.add(s),e=MS.bind(null,e,i,s),i.then(e,e))}function MS(e,i,s){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,it===e&&(Be&s)===s&&(_t===4||_t===3&&(Be&62914560)===Be&&300>Ut()-bl?(We&2)===0&&ws(e,0):ud|=s,xs===Be&&(xs=0)),ei(e)}function Gg(e,i){i===0&&(i=Co()),e=va(e,i),e!==null&&(Oi(e,i),ei(e))}function zS(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Gg(e,s)}function NS(e,i){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,d=e.memoizedState;d!==null&&(s=d.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Gg(e,s)}function BS(e,i){return sn(e,i)}var jl=null,Ts=null,vd=!1,Al=!1,bd=!1,Ki=0;function ei(e){e!==Ts&&e.next===null&&(Ts===null?jl=Ts=e:Ts=Ts.next=e),Al=!0,vd||(vd=!0,US())}function Pr(e,i){if(!bd&&Al){bd=!0;do for(var s=!1,o=jl;o!==null;){if(e!==0){var d=o.pendingLanes;if(d===0)var f=0;else{var v=o.suspendedLanes,w=o.pingedLanes;f=(1<<31-Ee(42|e)+1)-1,f&=d&~(v&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Kg(o,f))}else f=Be,f=Ka(o,o===it?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ha(o,f)||(s=!0,Kg(o,f));o=o.next}while(s);bd=!1}}function LS(){Fg()}function Fg(){Al=vd=!1;var e=0;Ki!==0&&YS()&&(e=Ki);for(var i=Ut(),s=null,o=jl;o!==null;){var d=o.next,f=Wg(o,i);f===0?(o.next=null,s===null?jl=d:s.next=d,d===null&&(Ts=s)):(s=o,(e!==0||(f&3)!==0)&&(Al=!0)),o=d}Pt!==0&&Pt!==5||Pr(e),Ki!==0&&(Ki=0)}function Wg(e,i){for(var s=e.suspendedLanes,o=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Ee(f),w=1<<v,E=d[v];E===-1?((w&s)===0||(w&o)!==0)&&(d[v]=Eo(w,i)):E<=i&&(e.expiredLanes|=w),f&=~w}if(i=it,s=Be,s=Ka(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===i&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ln(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ha(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(o!==null&&Ln(o),Un(s)){case 2:case 8:s=Ci;break;case 32:s=Yn;break;case 268435456:s=Ri;break;default:s=Yn}return o=Yg.bind(null,e),s=sn(s,o),e.callbackPriority=i,e.callbackNode=s,i}return o!==null&&o!==null&&Ln(o),e.callbackPriority=2,e.callbackNode=null,2}function Yg(e,i){if(Pt!==0&&Pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(kl()&&e.callbackNode!==s)return null;var o=Be;return o=Ka(e,e===it?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Cg(e,o,i),Wg(e,Ut()),e.callbackNode!=null&&e.callbackNode===s?Yg.bind(null,e):null)}function Kg(e,i){if(kl())return null;Cg(e,i,!0)}function US(){XS(function(){(We&6)!==0?sn(Ei,LS):Fg()})}function xd(){if(Ki===0){var e=cs;e===0&&(e=pt,pt<<=1,(pt&261888)===0&&(pt=256)),Ki=e}return Ki}function Xg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:No(""+e)}function Qg(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function PS(e,i,s,o,d){if(i==="submit"&&s&&s.stateNode===d){var f=Xg((d[ne]||null).action),v=o.submitter;v&&(i=(i=v[ne]||null)?Xg(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var w=new Po("action","action",null,o,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ki!==0){var E=v?Qg(d,v):new FormData(d);Iu(s,{pending:!0,data:E,method:d.method,action:f},null,E)}}else typeof f=="function"&&(w.preventDefault(),E=v?Qg(d,v):new FormData(d),Iu(s,{pending:!0,data:E,method:d.method,action:f},f,E))},currentTarget:d}]})}}for(var Sd=0;Sd<iu.length;Sd++){var wd=iu[Sd],IS=wd.toLowerCase(),VS=wd[0].toUpperCase()+wd.slice(1);Pn(IS,"on"+VS)}Pn(Ep,"onAnimationEnd"),Pn(Cp,"onAnimationIteration"),Pn(Rp,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(iS,"onTransitionRun"),Pn(aS,"onTransitionStart"),Pn(sS,"onTransitionCancel"),Pn(Op,"onTransitionEnd"),gt("onMouseEnter",["mouseout","mouseover"]),gt("onMouseLeave",["mouseout","mouseover"]),gt("onPointerEnter",["pointerout","pointerover"]),gt("onPointerLeave",["pointerout","pointerover"]),Ve("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ve("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ve("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ve("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ve("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ir));function Jg(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],d=o.event;o=o.listeners;e:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var w=o[v],E=w.instance,N=w.currentTarget;if(w=w.listener,E!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=N;try{f(d)}catch($){$o($)}d.currentTarget=null,f=E}else for(v=0;v<o.length;v++){if(w=o[v],E=w.instance,N=w.currentTarget,w=w.listener,E!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=N;try{f(d)}catch($){$o($)}d.currentTarget=null,f=E}}}}function ze(e,i){var s=i[Se];s===void 0&&(s=i[Se]=new Set);var o=e+"__bubble";s.has(o)||(Zg(i,e,2,!1),s.add(o))}function _d(e,i,s){var o=0;i&&(o|=4),Zg(s,e,o,i)}var El="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[El]){e[El]=!0,en.forEach(function(s){s!=="selectionchange"&&($S.has(s)||_d(s,!1,e),_d(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[El]||(i[El]=!0,_d("selectionchange",!1,i))}}function Zg(e,i,s,o){switch(Ey(i)){case 2:var d=gw;break;case 8:d=yw;break;default:d=Pd}s=d.bind(null,i,s,e),d=void 0,!qc||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),o?d!==void 0?e.addEventListener(i,s,{capture:!0,passive:d}):e.addEventListener(i,s,!0):d!==void 0?e.addEventListener(i,s,{passive:d}):e.addEventListener(i,s,!1)}function kd(e,i,s,o,d){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var w=o.stateNode.containerInfo;if(w===d)break;if(v===4)for(v=o.return;v!==null;){var E=v.tag;if((E===3||E===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;w!==null;){if(v=Fe(w),v===null)return;if(E=v.tag,E===5||E===6||E===26||E===27){o=f=v;continue e}w=w.parentNode}}o=o.return}ap(function(){var N=f,$=$c(s),W=[];e:{var U=Dp.get(e);if(U!==void 0){var I=Po,ie=e;switch(e){case"keypress":if(Lo(s)===0)break e;case"keydown":case"keyup":I=Nx;break;case"focusin":ie="focus",I=Yc;break;case"focusout":ie="blur",I=Yc;break;case"beforeblur":case"afterblur":I=Yc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=_x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=Ux;break;case Ep:case Cp:case Rp:I=jx;break;case Op:I=Ix;break;case"scroll":case"scrollend":I=Sx;break;case"wheel":I=$x;break;case"copy":case"cut":case"paste":I=Ex;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=cp;break;case"toggle":case"beforetoggle":I=qx}var fe=(i&4)!==0,nt=!fe&&(e==="scroll"||e==="scrollend"),M=fe?U!==null?U+"Capture":null:U;fe=[];for(var D=N,z;D!==null;){var G=D;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||M===null||(G=lr(D,M),G!=null&&fe.push(Vr(D,G,z))),nt)break;D=D.return}0<fe.length&&(U=new I(U,ie,null,s,$),W.push({event:U,listeners:fe}))}}if((i&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",I=e==="mouseout"||e==="pointerout",U&&s!==Vc&&(ie=s.relatedTarget||s.fromElement)&&(Fe(ie)||ie[Oe]))break e;if((I||U)&&(U=$.window===$?$:(U=$.ownerDocument)?U.defaultView||U.parentWindow:window,I?(ie=s.relatedTarget||s.toElement,I=N,ie=ie?Fe(ie):null,ie!==null&&(nt=c(ie),fe=ie.tag,ie!==nt||fe!==5&&fe!==27&&fe!==6)&&(ie=null)):(I=null,ie=N),I!==ie)){if(fe=op,G="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(fe=cp,G="onPointerLeave",M="onPointerEnter",D="pointer"),nt=I==null?U:Xe(I),z=ie==null?U:Xe(ie),U=new fe(G,D+"leave",I,s,$),U.target=nt,U.relatedTarget=z,G=null,Fe($)===N&&(fe=new fe(M,D+"enter",ie,s,$),fe.target=z,fe.relatedTarget=nt,G=fe),nt=G,I&&ie)t:{for(fe=HS,M=I,D=ie,z=0,G=M;G;G=fe(G))z++;G=0;for(var ue=D;ue;ue=fe(ue))G++;for(;0<z-G;)M=fe(M),z--;for(;0<G-z;)D=fe(D),G--;for(;z--;){if(M===D||D!==null&&M===D.alternate){fe=M;break t}M=fe(M),D=fe(D)}fe=null}else fe=null;I!==null&&ey(W,U,I,fe,!1),ie!==null&&nt!==null&&ey(W,nt,ie,fe,!0)}}e:{if(U=N?Xe(N):window,I=U.nodeName&&U.nodeName.toLowerCase(),I==="select"||I==="input"&&U.type==="file")var He=yp;else if(mp(U))if(vp)He=eS;else{He=Jx;var re=Qx}else I=U.nodeName,!I||I.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?N&&Ic(N.elementType)&&(He=yp):He=Zx;if(He&&(He=He(e,N))){gp(W,He,s,$);break e}re&&re(e,U,N),e==="focusout"&&N&&U.type==="number"&&N.memoizedProps.value!=null&&Pc(U,"number",U.value)}switch(re=N?Xe(N):window,e){case"focusin":(mp(re)||re.contentEditable==="true")&&(ts=re,eu=N,gr=null);break;case"focusout":gr=eu=ts=null;break;case"mousedown":tu=!0;break;case"contextmenu":case"mouseup":case"dragend":tu=!1,jp(W,s,$);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":jp(W,s,$)}var Ae;if(Xc)e:{switch(e){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else es?fp(e,s)&&(Le="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Le="onCompositionStart");Le&&(up&&s.locale!=="ko"&&(es||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&es&&(Ae=sp()):(Mi=$,Gc="value"in Mi?Mi.value:Mi.textContent,es=!0)),re=Cl(N,Le),0<re.length&&(Le=new lp(Le,e,null,s,$),W.push({event:Le,listeners:re}),Ae?Le.data=Ae:(Ae=pp(s),Ae!==null&&(Le.data=Ae)))),(Ae=Fx?Wx(e,s):Yx(e,s))&&(Le=Cl(N,"onBeforeInput"),0<Le.length&&(re=new lp("onBeforeInput","beforeinput",null,s,$),W.push({event:re,listeners:Le}),re.data=Ae)),PS(W,e,N,s,$)}Jg(W,i)})}function Vr(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Cl(e,i){for(var s=i+"Capture",o=[];e!==null;){var d=e,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=lr(e,s),d!=null&&o.unshift(Vr(e,d,f)),d=lr(e,i),d!=null&&o.push(Vr(e,d,f))),e.tag===3)return o;e=e.return}return[]}function HS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ey(e,i,s,o,d){for(var f=i._reactName,v=[];s!==null&&s!==o;){var w=s,E=w.alternate,N=w.stateNode;if(w=w.tag,E!==null&&E===o)break;w!==5&&w!==26&&w!==27||N===null||(E=N,d?(N=lr(s,f),N!=null&&v.unshift(Vr(s,N,E))):d||(N=lr(s,f),N!=null&&v.push(Vr(s,N,E)))),s=s.return}v.length!==0&&e.push({event:i,listeners:v})}var qS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function ty(e){return(typeof e=="string"?e:""+e).replace(qS,`
`).replace(GS,"")}function ny(e,i){return i=ty(i),ty(e)===i}function tt(e,i,s,o,d,f){switch(s){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Qa(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Qa(e,""+o);break;case"className":Mo(e,"class",o);break;case"tabIndex":Mo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mo(e,s,o);break;case"style":np(e,o,f);break;case"data":if(i!=="object"){Mo(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=No(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(i!=="input"&&tt(e,i,"name",d.name,d,null),tt(e,i,"formEncType",d.formEncType,d,null),tt(e,i,"formMethod",d.formMethod,d,null),tt(e,i,"formTarget",d.formTarget,d,null)):(tt(e,i,"encType",d.encType,d,null),tt(e,i,"method",d.method,d,null),tt(e,i,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=No(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=ri);break;case"onScroll":o!=null&&ze("scroll",e);break;case"onScrollEnd":o!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=No(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":ze("beforetoggle",e),ze("toggle",e),Do(e,"popover",o);break;case"xlinkActuate":si(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":si(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":si(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":si(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":si(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":si(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":si(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":si(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":si(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Do(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=bx.get(s)||s,Do(e,s,o))}}function jd(e,i,s,o,d,f){switch(s){case"style":np(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?Qa(e,o):(typeof o=="number"||typeof o=="bigint")&&Qa(e,""+o);break;case"onScroll":o!=null&&ze("scroll",e);break;case"onScrollEnd":o!=null&&ze("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!je.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),i=s.slice(2,d?s.length-7:void 0),f=e[ne]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(i,f,d),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,o,d);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Do(e,s,o)}}}function Yt(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var o=!1,d=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(e,i,f,v,s,null)}}d&&tt(e,i,"srcSet",s.srcSet,s,null),o&&tt(e,i,"src",s.src,s,null);return;case"input":ze("invalid",e);var w=f=v=d=null,E=null,N=null;for(o in s)if(s.hasOwnProperty(o)){var $=s[o];if($!=null)switch(o){case"name":d=$;break;case"type":v=$;break;case"checked":E=$;break;case"defaultChecked":N=$;break;case"value":f=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,i));break;default:tt(e,i,o,$,s,null)}}Jf(e,f,w,E,N,v,d,!1);return;case"select":ze("invalid",e),o=v=f=null;for(d in s)if(s.hasOwnProperty(d)&&(w=s[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":v=w;break;case"multiple":o=w;default:tt(e,i,d,w,s,null)}i=f,s=v,e.multiple=!!o,i!=null?Xa(e,!!o,i,!1):s!=null&&Xa(e,!!o,s,!0);return;case"textarea":ze("invalid",e),f=d=o=null;for(v in s)if(s.hasOwnProperty(v)&&(w=s[v],w!=null))switch(v){case"value":o=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:tt(e,i,v,w,s,null)}ep(e,o,d,f);return;case"option":for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null)&&(E==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":tt(e,i,E,o,s,null));return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(o=0;o<Ir.length;o++)ze(Ir[o],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in s)if(s.hasOwnProperty(N)&&(o=s[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(e,i,N,o,s,null)}return;default:if(Ic(i)){for($ in s)s.hasOwnProperty($)&&(o=s[$],o!==void 0&&jd(e,i,$,o,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null&&tt(e,i,w,o,s,null))}function FS(e,i,s,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,v=null,w=null,E=null,N=null,$=null;for(I in s){var W=s[I];if(s.hasOwnProperty(I)&&W!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=W;default:o.hasOwnProperty(I)||tt(e,i,I,null,o,W)}}for(var U in o){var I=o[U];if(W=s[U],o.hasOwnProperty(U)&&(I!=null||W!=null))switch(U){case"type":f=I;break;case"name":d=I;break;case"checked":N=I;break;case"defaultChecked":$=I;break;case"value":v=I;break;case"defaultValue":w=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,i));break;default:I!==W&&tt(e,i,U,I,o,W)}}Uc(e,v,w,E,N,$,f,d);return;case"select":I=v=w=U=null;for(f in s)if(E=s[f],s.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":I=E;default:o.hasOwnProperty(f)||tt(e,i,f,null,o,E)}for(d in o)if(f=o[d],E=s[d],o.hasOwnProperty(d)&&(f!=null||E!=null))switch(d){case"value":U=f;break;case"defaultValue":w=f;break;case"multiple":v=f;default:f!==E&&tt(e,i,d,f,o,E)}i=w,s=v,o=I,U!=null?Xa(e,!!s,U,!1):!!o!=!!s&&(i!=null?Xa(e,!!s,i,!0):Xa(e,!!s,s?[]:"",!1));return;case"textarea":I=U=null;for(w in s)if(d=s[w],s.hasOwnProperty(w)&&d!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:tt(e,i,w,null,o,d)}for(v in o)if(d=o[v],f=s[v],o.hasOwnProperty(v)&&(d!=null||f!=null))switch(v){case"value":U=d;break;case"defaultValue":I=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&tt(e,i,v,d,o,f)}Zf(e,U,I);return;case"option":for(var ie in s)U=s[ie],s.hasOwnProperty(ie)&&U!=null&&!o.hasOwnProperty(ie)&&(ie==="selected"?e.selected=!1:tt(e,i,ie,null,o,U));for(E in o)U=o[E],I=s[E],o.hasOwnProperty(E)&&U!==I&&(U!=null||I!=null)&&(E==="selected"?e.selected=U&&typeof U!="function"&&typeof U!="symbol":tt(e,i,E,U,o,I));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in s)U=s[fe],s.hasOwnProperty(fe)&&U!=null&&!o.hasOwnProperty(fe)&&tt(e,i,fe,null,o,U);for(N in o)if(U=o[N],I=s[N],o.hasOwnProperty(N)&&U!==I&&(U!=null||I!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,i));break;default:tt(e,i,N,U,o,I)}return;default:if(Ic(i)){for(var nt in s)U=s[nt],s.hasOwnProperty(nt)&&U!==void 0&&!o.hasOwnProperty(nt)&&jd(e,i,nt,void 0,o,U);for($ in o)U=o[$],I=s[$],!o.hasOwnProperty($)||U===I||U===void 0&&I===void 0||jd(e,i,$,U,o,I);return}}for(var M in s)U=s[M],s.hasOwnProperty(M)&&U!=null&&!o.hasOwnProperty(M)&&tt(e,i,M,null,o,U);for(W in o)U=o[W],I=s[W],!o.hasOwnProperty(W)||U===I||U==null&&I==null||tt(e,i,W,U,o,I)}function iy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function WS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var d=s[o],f=d.transferSize,v=d.initiatorType,w=d.duration;if(f&&w&&iy(v)){for(v=0,w=d.responseEnd,o+=1;o<s.length;o++){var E=s[o],N=E.startTime;if(N>w)break;var $=E.transferSize,W=E.initiatorType;$&&iy(W)&&(E=E.responseEnd,v+=$*(E<w?1:(w-N)/(E-N)))}if(--o,i+=8*(f+v)/(d.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Ed=null;function Rl(e){return e.nodeType===9?e:e.ownerDocument}function ay(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sy(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Cd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rd=null;function YS(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,oy=typeof Promise=="function"?Promise:void 0,XS=typeof queueMicrotask=="function"?queueMicrotask:typeof oy<"u"?function(e){return oy.resolve(null).then(e).catch(QS)}:ry;function QS(e){setTimeout(function(){throw e})}function Xi(e){return e==="head"}function ly(e,i){var s=i,o=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(d),Es(i);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")$r(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,$r(s);for(var f=s.firstChild;f;){var v=f.nextSibling,w=f.nodeName;f[$e]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=v}}else s==="body"&&$r(e.ownerDocument.body);s=d}while(s);Es(i)}function cy(e,i){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Od(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Od(s),xe(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JS(e,i,s,o){for(;e.nodeType===1;){var d=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$e])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function ZS(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function uy(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Mn(e.nextSibling),e===null))return null;return e}function Dd(e){return e.data==="$?"||e.data==="$~"}function Md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ew(e,i){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||s.readyState!=="loading")i();else{var o=function(){i(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var zd=null;function dy(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(i===0)return Mn(e.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}e=e.nextSibling}return null}function hy(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return e;i--}else s!=="/$"&&s!=="/&"||i++}e=e.previousSibling}return null}function fy(e,i,s){switch(i=Rl(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function $r(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);xe(e)}var zn=new Map,py=new Set;function Ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wi=K.d;K.d={f:tw,r:nw,D:iw,C:aw,L:sw,m:rw,X:lw,S:ow,M:cw};function tw(){var e=wi.f(),i=wl();return e||i}function nw(e){var i=De(e);i!==null&&i.tag===5&&i.type==="form"?Om(i):wi.r(e)}var ks=typeof document>"u"?null:document;function my(e,i,s){var o=ks;if(o&&typeof i=="string"&&i){var d=jn(i);d='link[rel="'+e+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),py.has(d)||(py.add(d),e={rel:e,crossOrigin:s,href:i},o.querySelector(d)===null&&(i=o.createElement("link"),Yt(i,"link",e),Ye(i),o.head.appendChild(i)))}}function iw(e){wi.D(e),my("dns-prefetch",e,null)}function aw(e,i){wi.C(e,i),my("preconnect",e,i)}function sw(e,i,s){wi.L(e,i,s);var o=ks;if(o&&e&&i){var d='link[rel="preload"][as="'+jn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+jn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+jn(s.imageSizes)+'"]')):d+='[href="'+jn(e)+'"]';var f=d;switch(i){case"style":f=js(e);break;case"script":f=As(e)}zn.has(f)||(e=x({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),zn.set(f,e),o.querySelector(d)!==null||i==="style"&&o.querySelector(Hr(f))||i==="script"&&o.querySelector(qr(f))||(i=o.createElement("link"),Yt(i,"link",e),Ye(i),o.head.appendChild(i)))}}function rw(e,i){wi.m(e,i);var s=ks;if(s&&e){var o=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+jn(o)+'"][href="'+jn(e)+'"]',f=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=As(e)}if(!zn.has(f)&&(e=x({rel:"modulepreload",href:e},i),zn.set(f,e),s.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(qr(f)))return}o=s.createElement("link"),Yt(o,"link",e),Ye(o),s.head.appendChild(o)}}}function ow(e,i,s){wi.S(e,i,s);var o=ks;if(o&&e){var d=bt(o).hoistableStyles,f=js(e);i=i||"default";var v=d.get(f);if(!v){var w={loading:0,preload:null};if(v=o.querySelector(Hr(f)))w.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":i},s),(s=zn.get(f))&&Nd(e,s);var E=v=o.createElement("link");Ye(E),Yt(E,"link",e),E._p=new Promise(function(N,$){E.onload=N,E.onerror=$}),E.addEventListener("load",function(){w.loading|=1}),E.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Dl(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:w},d.set(f,v)}}}function lw(e,i){wi.X(e,i);var s=ks;if(s&&e){var o=bt(s).hoistableScripts,d=As(e),f=o.get(d);f||(f=s.querySelector(qr(d)),f||(e=x({src:e,async:!0},i),(i=zn.get(d))&&Bd(e,i),f=s.createElement("script"),Ye(f),Yt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function cw(e,i){wi.M(e,i);var s=ks;if(s&&e){var o=bt(s).hoistableScripts,d=As(e),f=o.get(d);f||(f=s.querySelector(qr(d)),f||(e=x({src:e,async:!0,type:"module"},i),(i=zn.get(d))&&Bd(e,i),f=s.createElement("script"),Ye(f),Yt(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(d,f))}}function gy(e,i,s,o){var d=(d=Q.current)?Ol(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=js(s.href),s=bt(d).hoistableStyles,o=s.get(i),o||(o={type:"style",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=js(s.href);var f=bt(d).hoistableStyles,v=f.get(e);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=d.querySelector(Hr(e)))&&!f._p&&(v.instance=f,v.state.loading=5),zn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},zn.set(e,s),f||uw(d,e,s,v.state))),i&&o===null)throw Error(r(528,""));return v}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=As(s),s=bt(d).hoistableScripts,o=s.get(i),o||(o={type:"script",instance:null,count:0,state:null},s.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function js(e){return'href="'+jn(e)+'"'}function Hr(e){return'link[rel="stylesheet"]['+e+"]"}function yy(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function uw(e,i,s,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yt(i,"link",s),Ye(i),e.head.appendChild(i))}function As(e){return'[src="'+jn(e)+'"]'}function qr(e){return"script[async]"+e}function vy(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+jn(s.href)+'"]');if(o)return i.instance=o,Ye(o),o;var d=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ye(o),Yt(o,"style",d),Dl(o,s.precedence,e),i.instance=o;case"stylesheet":d=js(s.href);var f=e.querySelector(Hr(d));if(f)return i.state.loading|=4,i.instance=f,Ye(f),f;o=yy(s),(d=zn.get(d))&&Nd(o,d),f=(e.ownerDocument||e).createElement("link"),Ye(f);var v=f;return v._p=new Promise(function(w,E){v.onload=w,v.onerror=E}),Yt(f,"link",o),i.state.loading|=4,Dl(f,s.precedence,e),i.instance=f;case"script":return f=As(s.src),(d=e.querySelector(qr(f)))?(i.instance=d,Ye(d),d):(o=s,(d=zn.get(f))&&(o=x({},s),Bd(o,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ye(d),Yt(d,"link",o),e.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Dl(o,s.precedence,e));return i.instance}function Dl(e,i,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,f=d,v=0;v<o.length;v++){var w=o[v];if(w.dataset.precedence===i)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Nd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Bd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ml=null;function by(e,i,s){if(Ml===null){var o=new Map,d=Ml=new Map;d.set(s,o)}else d=Ml,o=d.get(s),o||(o=new Map,d.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),d=0;d<s.length;d++){var f=s[d];if(!(f[$e]||f[ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var w=o.get(v);w?w.push(f):o.set(v,[f])}}return o}function xy(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function dw(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(e=i.disabled,typeof i.precedence=="string"&&e==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Sy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hw(e,i,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=js(o.href),f=i.querySelector(Hr(d));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=zl.bind(e),i.then(e,e)),s.state.loading|=4,s.instance=f,Ye(f);return}f=i.ownerDocument||i,o=yy(o),(d=zn.get(d))&&Nd(o,d),f=f.createElement("link"),Ye(f);var v=f;v._p=new Promise(function(w,E){v.onload=w,v.onerror=E}),Yt(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=zl.bind(e),i.addEventListener("load",s),i.addEventListener("error",s))}}var Ld=0;function fw(e,i){return e.stylesheets&&e.count===0&&Bl(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Ld===0&&(Ld=62500*WS());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ld?50:800)+i);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(d)}}:null}function zl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Nl=null;function Bl(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Nl=new Map,i.forEach(pw,e),Nl=null,zl.call(e))}function pw(e,i){if(!(i.state.loading&4)){var s=Nl.get(e);if(s)var o=s.get(null);else{s=new Map,Nl.set(e,s);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var v=d[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),o=v)}o&&s.set(null,o)}d=i.instance,v=d.getAttribute("data-precedence"),f=s.get(v)||o,f===o&&s.set(null,d),s.set(v,d),this.count++,o=zl.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),f?f.parentNode.insertBefore(d,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),i.state.loading|=4}}var Gr={$$typeof:k,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function mw(e,i,s,o,d,f,v,w,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function wy(e,i,s,o,d,f,v,w,E,N,$,W){return e=new mw(e,i,s,v,E,N,$,W,w),i=1,f===!0&&(i|=24),f=yn(3,null,null,i),e.current=f,f.stateNode=e,i=gu(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:i},xu(f),e}function _y(e){return e?(e=as,e):as}function Ty(e,i,s,o,d,f){d=_y(d),o.context===null?o.context=d:o.pendingContext=d,o=Pi(i),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ii(e,o,i),s!==null&&(mn(s,e,i),_r(s,e,i))}function ky(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Ud(e,i){ky(e,i),(e=e.alternate)&&ky(e,i)}function jy(e){if(e.tag===13||e.tag===31){var i=va(e,67108864);i!==null&&mn(i,e,67108864),Ud(e,67108864)}}function Ay(e){if(e.tag===13||e.tag===31){var i=wn();i=sr(i);var s=va(e,i);s!==null&&mn(s,e,i),Ud(e,i)}}var Ll=!0;function gw(e,i,s,o){var d=P.T;P.T=null;var f=K.p;try{K.p=2,Pd(e,i,s,o)}finally{K.p=f,P.T=d}}function yw(e,i,s,o){var d=P.T;P.T=null;var f=K.p;try{K.p=8,Pd(e,i,s,o)}finally{K.p=f,P.T=d}}function Pd(e,i,s,o){if(Ll){var d=Id(o);if(d===null)kd(e,i,o,Ul,s),Cy(e,o);else if(bw(d,e,i,s,o))o.stopPropagation();else if(Cy(e,o),i&4&&-1<vw.indexOf(e)){for(;d!==null;){var f=De(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ht(f.pendingLanes);if(v!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var E=1<<31-Ee(v);w.entanglements[1]|=E,v&=~E}ei(f),(We&6)===0&&(xl=Ut()+500,Pr(0))}}break;case 31:case 13:w=va(f,2),w!==null&&mn(w,f,2),wl(),Ud(f,2)}if(f=Id(o),f===null&&kd(e,i,o,Ul,s),f===d)break;d=f}d!==null&&o.stopPropagation()}else kd(e,i,o,null,s)}}function Id(e){return e=$c(e),Vd(e)}var Ul=null;function Vd(e){if(Ul=null,e=Fe(e),e!==null){var i=c(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=u(i),e!==null)return e;e=null}else if(s===31){if(e=p(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ul=e,null}function Ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ua()){case Ei:return 2;case Ci:return 8;case Yn:case Ya:return 32;case Ri:return 268435456;default:return 32}default:return 32}}var $d=!1,Qi=null,Ji=null,Zi=null,Fr=new Map,Wr=new Map,ea=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cy(e,i){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":Fr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(i.pointerId)}}function Yr(e,i,s,o,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[d]},i!==null&&(i=De(i),i!==null&&jy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function bw(e,i,s,o,d){switch(i){case"focusin":return Qi=Yr(Qi,e,i,s,o,d),!0;case"dragenter":return Ji=Yr(Ji,e,i,s,o,d),!0;case"mouseover":return Zi=Yr(Zi,e,i,s,o,d),!0;case"pointerover":var f=d.pointerId;return Fr.set(f,Yr(Fr.get(f)||null,e,i,s,o,d)),!0;case"gotpointercapture":return f=d.pointerId,Wr.set(f,Yr(Wr.get(f)||null,e,i,s,o,d)),!0}return!1}function Ry(e){var i=Fe(e.target);if(i!==null){var s=c(i);if(s!==null){if(i=s.tag,i===13){if(i=u(s),i!==null){e.blockedOn=i,pa(e.priority,function(){Ay(s)});return}}else if(i===31){if(i=p(s),i!==null){e.blockedOn=i,pa(e.priority,function(){Ay(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Id(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Vc=o,s.target.dispatchEvent(o),Vc=null}else return i=De(s),i!==null&&jy(i),e.blockedOn=s,!1;i.shift()}return!0}function Oy(e,i,s){Pl(e)&&s.delete(i)}function xw(){$d=!1,Qi!==null&&Pl(Qi)&&(Qi=null),Ji!==null&&Pl(Ji)&&(Ji=null),Zi!==null&&Pl(Zi)&&(Zi=null),Fr.forEach(Oy),Wr.forEach(Oy)}function Il(e,i){e.blockedOn===i&&(e.blockedOn=null,$d||($d=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xw)))}var Vl=null;function Dy(e){Vl!==e&&(Vl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vl===e&&(Vl=null);for(var i=0;i<e.length;i+=3){var s=e[i],o=e[i+1],d=e[i+2];if(typeof o!="function"){if(Vd(o||s)===null)continue;break}var f=De(s);f!==null&&(e.splice(i,3),i-=3,Iu(f,{pending:!0,data:d,method:s.method,action:o},o,d))}}))}function Es(e){function i(E){return Il(E,e)}Qi!==null&&Il(Qi,e),Ji!==null&&Il(Ji,e),Zi!==null&&Il(Zi,e),Fr.forEach(i),Wr.forEach(i);for(var s=0;s<ea.length;s++){var o=ea[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ea.length&&(s=ea[0],s.blockedOn===null);)Ry(s),s.blockedOn===null&&ea.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var d=s[o],f=s[o+1],v=d[ne]||null;if(typeof f=="function")v||Dy(s);else if(v){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,v=f[ne]||null)w=v.formAction;else if(Vd(d)!==null)continue}else w=v.action;typeof w=="function"?s[o+1]=w:(s.splice(o,3),o-=3),Dy(s)}}}function My(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function i(){d!==null&&(d(),d=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),d!==null&&(d(),d=null)}}}function Hd(e){this._internalRoot=e}$l.prototype.render=Hd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,o=wn();Ty(s,o,e,i,null,null)},$l.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Ty(e.current,2,null,e,null,null),wl(),i[Oe]=null}};function $l(e){this._internalRoot=e}$l.prototype.unstable_scheduleHydration=function(e){if(e){var i=rr();e={blockedOn:null,target:e,priority:i};for(var s=0;s<ea.length&&i!==0&&i<ea[s].priority;s++);ea.splice(s,0,e),s===0&&Ry(e)}};var zy=t.version;if(zy!=="19.2.4")throw Error(r(527,zy,"19.2.4"));K.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Sw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{Xn=Hl.inject(Sw),jt=Hl}catch{}}return Xr.createRoot=function(e,i){if(!l(e))throw Error(r(299));var s=!1,o="",d=Vm,f=$m,v=Hm;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=wy(e,1,!1,null,null,s,o,null,d,f,v,My),e[Oe]=i.current,Td(e),new Hd(i)},Xr.hydrateRoot=function(e,i,s){if(!l(e))throw Error(r(299));var o=!1,d="",f=Vm,v=$m,w=Hm,E=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(E=s.formState)),i=wy(e,1,!0,i,s??null,o,d,E,f,v,w,My),i.context=_y(null),s=i.current,o=wn(),o=sr(o),d=Pi(o),d.callback=null,Ii(s,d,o),s=o,i.current.lanes=s,Oi(i,s),ei(i),e[Oe]=i.current,Td(e),new $l(i)},Xr.version="19.2.4",Xr}var qy;function Ow(){if(qy)return Fd.exports;qy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Fd.exports=Rw(),Fd.exports}var Dw=Ow();const of=T.createContext({});function ra(n){const t=T.useRef(null);return t.current===null&&(t.current=n()),t.current}const Wv=typeof window<"u",Tc=Wv?T.useLayoutEffect:T.useEffect,kc=T.createContext(null);function lf(n,t){n.indexOf(t)===-1&&n.push(t)}function fc(n,t){const a=n.indexOf(t);a>-1&&n.splice(a,1)}const ai=(n,t,a)=>a>t?t:a<n?n:a;let cf=()=>{};const Ti={},Yv=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Kv(n){return typeof n=="object"&&n!==null}const Xv=n=>/^0[^.\s]+$/u.test(n);function uf(n){let t;return()=>(t===void 0&&(t=n()),t)}const Bn=n=>n,Mw=(n,t)=>a=>t(n(a)),_o=(...n)=>n.reduce(Mw),uo=(n,t,a)=>{const r=t-n;return r===0?1:(a-n)/r};class df{constructor(){this.subscriptions=[]}add(t){return lf(this.subscriptions,t),()=>fc(this.subscriptions,t)}notify(t,a,r){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,a,r);else for(let c=0;c<l;c++){const u=this.subscriptions[c];u&&u(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wn=n=>n*1e3,Nn=n=>n/1e3;function Qv(n,t){return t?n*(1e3/t):0}const Jv=(n,t,a)=>(((1-3*a+3*t)*n+(3*a-6*t))*n+3*t)*n,zw=1e-7,Nw=12;function Bw(n,t,a,r,l){let c,u,p=0;do u=t+(a-t)/2,c=Jv(u,r,l)-n,c>0?a=u:t=u;while(Math.abs(c)>zw&&++p<Nw);return u}function To(n,t,a,r){if(n===t&&a===r)return Bn;const l=c=>Bw(c,0,1,n,a);return c=>c===0||c===1?c:Jv(l(c),t,r)}const Zv=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,eb=n=>t=>1-n(1-t),tb=To(.33,1.53,.69,.99),hf=eb(tb),nb=Zv(hf),ib=n=>(n*=2)<1?.5*hf(n):.5*(2-Math.pow(2,-10*(n-1))),ff=n=>1-Math.sin(Math.acos(n)),ab=eb(ff),sb=Zv(ff),Lw=To(.42,0,1,1),Uw=To(0,0,.58,1),rb=To(.42,0,.58,1),Pw=n=>Array.isArray(n)&&typeof n[0]!="number",ob=n=>Array.isArray(n)&&typeof n[0]=="number",Iw={linear:Bn,easeIn:Lw,easeInOut:rb,easeOut:Uw,circIn:ff,circInOut:sb,circOut:ab,backIn:hf,backInOut:nb,backOut:tb,anticipate:ib},Vw=n=>typeof n=="string",Gy=n=>{if(ob(n)){cf(n.length===4);const[t,a,r,l]=n;return To(t,a,r,l)}else if(Vw(n))return Iw[n];return n},ql=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $w(n,t){let a=new Set,r=new Set,l=!1,c=!1;const u=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),n()),y(p)}const g={schedule:(y,x=!1,b=!1)=>{const _=b&&l?a:r;return x&&u.add(y),_.has(y)||_.add(y),y},cancel:y=>{r.delete(y),u.delete(y)},process:y=>{if(p=y,l){c=!0;return}l=!0,[a,r]=[r,a],a.forEach(m),a.clear(),l=!1,c&&(c=!1,g.process(y))}};return g}const Hw=40;function lb(n,t){let a=!1,r=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>a=!0,u=ql.reduce((k,L)=>(k[L]=$w(c),k),{}),{setup:p,read:m,resolveKeyframes:g,preUpdate:y,update:x,preRender:b,render:S,postRender:_}=u,j=()=>{const k=Ti.useManualTiming?l.timestamp:performance.now();a=!1,Ti.useManualTiming||(l.delta=r?1e3/60:Math.max(Math.min(k-l.timestamp,Hw),1)),l.timestamp=k,l.isProcessing=!0,p.process(l),m.process(l),g.process(l),y.process(l),x.process(l),b.process(l),S.process(l),_.process(l),l.isProcessing=!1,a&&t&&(r=!1,n(j))},R=()=>{a=!0,r=!0,l.isProcessing||n(j)};return{schedule:ql.reduce((k,L)=>{const V=u[L];return k[L]=(Y,F=!1,q=!1)=>(a||R(),V.schedule(Y,F,q)),k},{}),cancel:k=>{for(let L=0;L<ql.length;L++)u[ql[L]].cancel(k)},state:l,steps:u}}const{schedule:at,cancel:ki,state:Qt,steps:Xd}=lb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0);let sc;function qw(){sc=void 0}const on={now:()=>(sc===void 0&&on.set(Qt.isProcessing||Ti.useManualTiming?Qt.timestamp:performance.now()),sc),set:n=>{sc=n,queueMicrotask(qw)}},cb=n=>t=>typeof t=="string"&&t.startsWith(n),ub=cb("--"),Gw=cb("var(--"),pf=n=>Gw(n)?Fw.test(n.split("/*")[0].trim()):!1,Fw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Fy(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Js={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ho={...Js,transform:n=>ai(0,1,n)},Gl={...Js,default:1},io=n=>Math.round(n*1e5)/1e5,mf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ww(n){return n==null}const Yw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gf=(n,t)=>a=>!!(typeof a=="string"&&Yw.test(a)&&a.startsWith(n)||t&&!Ww(a)&&Object.prototype.hasOwnProperty.call(a,t)),db=(n,t,a)=>r=>{if(typeof r!="string")return r;const[l,c,u,p]=r.match(mf);return{[n]:parseFloat(l),[t]:parseFloat(c),[a]:parseFloat(u),alpha:p!==void 0?parseFloat(p):1}},Kw=n=>ai(0,255,n),Qd={...Js,transform:n=>Math.round(Kw(n))},Ia={test:gf("rgb","red"),parse:db("red","green","blue"),transform:({red:n,green:t,blue:a,alpha:r=1})=>"rgba("+Qd.transform(n)+", "+Qd.transform(t)+", "+Qd.transform(a)+", "+io(ho.transform(r))+")"};function Xw(n){let t="",a="",r="",l="";return n.length>5?(t=n.substring(1,3),a=n.substring(3,5),r=n.substring(5,7),l=n.substring(7,9)):(t=n.substring(1,2),a=n.substring(2,3),r=n.substring(3,4),l=n.substring(4,5),t+=t,a+=a,r+=r,l+=l),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:l?parseInt(l,16)/255:1}}const _h={test:gf("#"),parse:Xw,transform:Ia.transform},ko=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),na=ko("deg"),ii=ko("%"),ae=ko("px"),Qw=ko("vh"),Jw=ko("vw"),Wy={...ii,parse:n=>ii.parse(n)/100,transform:n=>ii.transform(n*100)},Vs={test:gf("hsl","hue"),parse:db("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(n)+", "+ii.transform(io(t))+", "+ii.transform(io(a))+", "+io(ho.transform(r))+")"},Bt={test:n=>Ia.test(n)||_h.test(n)||Vs.test(n),parse:n=>Ia.test(n)?Ia.parse(n):Vs.test(n)?Vs.parse(n):_h.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ia.transform(n):Vs.transform(n),getAnimatableNone:n=>{const t=Bt.parse(n);return t.alpha=0,Bt.transform(t)}},Zw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function e2(n){return isNaN(n)&&typeof n=="string"&&(n.match(mf)?.length||0)+(n.match(Zw)?.length||0)>0}const hb="number",fb="color",t2="var",n2="var(",Yy="${}",i2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fo(n){const t=n.toString(),a=[],r={color:[],number:[],var:[]},l=[];let c=0;const p=t.replace(i2,m=>(Bt.test(m)?(r.color.push(c),l.push(fb),a.push(Bt.parse(m))):m.startsWith(n2)?(r.var.push(c),l.push(t2),a.push(m)):(r.number.push(c),l.push(hb),a.push(parseFloat(m))),++c,Yy)).split(Yy);return{values:a,split:p,indexes:r,types:l}}function pb(n){return fo(n).values}function mb(n){const{split:t,types:a}=fo(n),r=t.length;return l=>{let c="";for(let u=0;u<r;u++)if(c+=t[u],l[u]!==void 0){const p=a[u];p===hb?c+=io(l[u]):p===fb?c+=Bt.transform(l[u]):c+=l[u]}return c}}const a2=n=>typeof n=="number"?0:Bt.test(n)?Bt.getAnimatableNone(n):n;function s2(n){const t=pb(n);return mb(n)(t.map(a2))}const oa={test:e2,parse:pb,createTransformer:mb,getAnimatableNone:s2};function Jd(n,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?n+(t-n)*6*a:a<1/2?t:a<2/3?n+(t-n)*(2/3-a)*6:n}function r2({hue:n,saturation:t,lightness:a,alpha:r}){n/=360,t/=100,a/=100;let l=0,c=0,u=0;if(!t)l=c=u=a;else{const p=a<.5?a*(1+t):a+t-a*t,m=2*a-p;l=Jd(m,p,n+1/3),c=Jd(m,p,n),u=Jd(m,p,n-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function pc(n,t){return a=>a>0?t:n}const xt=(n,t,a)=>n+(t-n)*a,Zd=(n,t,a)=>{const r=n*n,l=a*(t*t-r)+r;return l<0?0:Math.sqrt(l)},o2=[_h,Ia,Vs],l2=n=>o2.find(t=>t.test(n));function Ky(n){const t=l2(n);if(!t)return!1;let a=t.parse(n);return t===Vs&&(a=r2(a)),a}const Xy=(n,t)=>{const a=Ky(n),r=Ky(t);if(!a||!r)return pc(n,t);const l={...a};return c=>(l.red=Zd(a.red,r.red,c),l.green=Zd(a.green,r.green,c),l.blue=Zd(a.blue,r.blue,c),l.alpha=xt(a.alpha,r.alpha,c),Ia.transform(l))},Th=new Set(["none","hidden"]);function c2(n,t){return Th.has(n)?a=>a<=0?n:t:a=>a>=1?t:n}function u2(n,t){return a=>xt(n,t,a)}function yf(n){return typeof n=="number"?u2:typeof n=="string"?pf(n)?pc:Bt.test(n)?Xy:f2:Array.isArray(n)?gb:typeof n=="object"?Bt.test(n)?Xy:d2:pc}function gb(n,t){const a=[...n],r=a.length,l=n.map((c,u)=>yf(c)(c,t[u]));return c=>{for(let u=0;u<r;u++)a[u]=l[u](c);return a}}function d2(n,t){const a={...n,...t},r={};for(const l in a)n[l]!==void 0&&t[l]!==void 0&&(r[l]=yf(n[l])(n[l],t[l]));return l=>{for(const c in r)a[c]=r[c](l);return a}}function h2(n,t){const a=[],r={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],u=n.indexes[c][r[c]],p=n.values[u]??0;a[l]=p,r[c]++}return a}const f2=(n,t)=>{const a=oa.createTransformer(t),r=fo(n),l=fo(t);return r.indexes.var.length===l.indexes.var.length&&r.indexes.color.length===l.indexes.color.length&&r.indexes.number.length>=l.indexes.number.length?Th.has(n)&&!l.values.length||Th.has(t)&&!r.values.length?c2(n,t):_o(gb(h2(r,l),l.values),a):pc(n,t)};function yb(n,t,a){return typeof n=="number"&&typeof t=="number"&&typeof a=="number"?xt(n,t,a):yf(n)(n,t)}const p2=n=>{const t=({timestamp:a})=>n(a);return{start:(a=!0)=>at.update(t,a),stop:()=>ki(t),now:()=>Qt.isProcessing?Qt.timestamp:on.now()}},vb=(n,t,a=10)=>{let r="";const l=Math.max(Math.round(t/a),2);for(let c=0;c<l;c++)r+=Math.round(n(c/(l-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mc=2e4;function vf(n){let t=0;const a=50;let r=n.next(t);for(;!r.done&&t<mc;)t+=a,r=n.next(t);return t>=mc?1/0:t}function m2(n,t=100,a){const r=a({...n,keyframes:[0,t]}),l=Math.min(vf(r),mc);return{type:"keyframes",ease:c=>r.next(l*c).value/t,duration:Nn(l)}}const g2=5;function bb(n,t,a){const r=Math.max(t-g2,0);return Qv(a-n(r),t-r)}const kt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eh=.001;function y2({duration:n=kt.duration,bounce:t=kt.bounce,velocity:a=kt.velocity,mass:r=kt.mass}){let l,c,u=1-t;u=ai(kt.minDamping,kt.maxDamping,u),n=ai(kt.minDuration,kt.maxDuration,Nn(n)),u<1?(l=g=>{const y=g*u,x=y*n,b=y-a,S=kh(g,u),_=Math.exp(-x);return eh-b/S*_},c=g=>{const x=g*u*n,b=x*a+a,S=Math.pow(u,2)*Math.pow(g,2)*n,_=Math.exp(-x),j=kh(Math.pow(g,2),u);return(-l(g)+eh>0?-1:1)*((b-S)*_)/j}):(l=g=>{const y=Math.exp(-g*n),x=(g-a)*n+1;return-eh+y*x},c=g=>{const y=Math.exp(-g*n),x=(a-g)*(n*n);return y*x});const p=5/n,m=b2(l,c,p);if(n=Wn(n),isNaN(m))return{stiffness:kt.stiffness,damping:kt.damping,duration:n};{const g=Math.pow(m,2)*r;return{stiffness:g,damping:u*2*Math.sqrt(r*g),duration:n}}}const v2=12;function b2(n,t,a){let r=a;for(let l=1;l<v2;l++)r=r-n(r)/t(r);return r}function kh(n,t){return n*Math.sqrt(1-t*t)}const x2=["duration","bounce"],S2=["stiffness","damping","mass"];function Qy(n,t){return t.some(a=>n[a]!==void 0)}function w2(n){let t={velocity:kt.velocity,stiffness:kt.stiffness,damping:kt.damping,mass:kt.mass,isResolvedFromDuration:!1,...n};if(!Qy(n,S2)&&Qy(n,x2))if(n.visualDuration){const a=n.visualDuration,r=2*Math.PI/(a*1.2),l=r*r,c=2*ai(.05,1,1-(n.bounce||0))*Math.sqrt(l);t={...t,mass:kt.mass,stiffness:l,damping:c}}else{const a=y2(n);t={...t,...a,mass:kt.mass},t.isResolvedFromDuration=!0}return t}function gc(n=kt.visualDuration,t=kt.bounce){const a=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:r,restDelta:l}=a;const c=a.keyframes[0],u=a.keyframes[a.keyframes.length-1],p={done:!1,value:c},{stiffness:m,damping:g,mass:y,duration:x,velocity:b,isResolvedFromDuration:S}=w2({...a,velocity:-Nn(a.velocity||0)}),_=b||0,j=g/(2*Math.sqrt(m*y)),R=u-c,A=Nn(Math.sqrt(m/y)),C=Math.abs(R)<5;r||(r=C?kt.restSpeed.granular:kt.restSpeed.default),l||(l=C?kt.restDelta.granular:kt.restDelta.default);let k;if(j<1){const V=kh(A,j);k=Y=>{const F=Math.exp(-j*A*Y);return u-F*((_+j*A*R)/V*Math.sin(V*Y)+R*Math.cos(V*Y))}}else if(j===1)k=V=>u-Math.exp(-A*V)*(R+(_+A*R)*V);else{const V=A*Math.sqrt(j*j-1);k=Y=>{const F=Math.exp(-j*A*Y),q=Math.min(V*Y,300);return u-F*((_+j*A*R)*Math.sinh(q)+V*R*Math.cosh(q))/V}}const L={calculatedDuration:S&&x||null,next:V=>{const Y=k(V);if(S)p.done=V>=x;else{let F=V===0?_:0;j<1&&(F=V===0?Wn(_):bb(k,V,Y));const q=Math.abs(F)<=r,te=Math.abs(u-Y)<=l;p.done=q&&te}return p.value=p.done?u:Y,p},toString:()=>{const V=Math.min(vf(L),mc),Y=vb(F=>L.next(V*F).value,V,30);return V+"ms "+Y},toTransition:()=>{}};return L}gc.applyToOptions=n=>{const t=m2(n,100,gc);return n.ease=t.ease,n.duration=Wn(t.duration),n.type="keyframes",n};function jh({keyframes:n,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:u,min:p,max:m,restDelta:g=.5,restSpeed:y}){const x=n[0],b={done:!1,value:x},S=q=>p!==void 0&&q<p||m!==void 0&&q>m,_=q=>p===void 0?m:m===void 0||Math.abs(p-q)<Math.abs(m-q)?p:m;let j=a*t;const R=x+j,A=u===void 0?R:u(R);A!==R&&(j=A-x);const C=q=>-j*Math.exp(-q/r),k=q=>A+C(q),L=q=>{const te=C(q),he=k(q);b.done=Math.abs(te)<=g,b.value=b.done?A:he};let V,Y;const F=q=>{S(b.value)&&(V=q,Y=gc({keyframes:[b.value,_(b.value)],velocity:bb(k,q,b.value),damping:l,stiffness:c,restDelta:g,restSpeed:y}))};return F(0),{calculatedDuration:null,next:q=>{let te=!1;return!Y&&V===void 0&&(te=!0,L(q),F(q)),V!==void 0&&q>=V?Y.next(q-V):(!te&&L(q),b)}}}function _2(n,t,a){const r=[],l=a||Ti.mix||yb,c=n.length-1;for(let u=0;u<c;u++){let p=l(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||Bn:t;p=_o(m,p)}r.push(p)}return r}function xb(n,t,{clamp:a=!0,ease:r,mixer:l}={}){const c=n.length;if(cf(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),t=[...t].reverse());const p=_2(t,r,l),m=p.length,g=y=>{if(u&&y<n[0])return t[0];let x=0;if(m>1)for(;x<n.length-2&&!(y<n[x+1]);x++);const b=uo(n[x],n[x+1],y);return p[x](b)};return a?y=>g(ai(n[0],n[c-1],y)):g}function T2(n,t){const a=n[n.length-1];for(let r=1;r<=t;r++){const l=uo(0,t,r);n.push(xt(a,1,l))}}function k2(n){const t=[0];return T2(t,n.length-1),t}function j2(n,t){return n.map(a=>a*t)}function A2(n,t){return n.map(()=>t||rb).splice(0,n.length-1)}function ao({duration:n=300,keyframes:t,times:a,ease:r="easeInOut"}){const l=Pw(r)?r.map(Gy):Gy(r),c={done:!1,value:t[0]},u=j2(a&&a.length===t.length?a:k2(t),n),p=xb(u,t,{ease:Array.isArray(l)?l:A2(t,l)});return{calculatedDuration:n,next:m=>(c.value=p(m),c.done=m>=n,c)}}const E2=n=>n!==null;function bf(n,{repeat:t,repeatType:a="loop"},r,l=1){const c=n.filter(E2),p=l<0||t&&a!=="loop"&&t%2===1?0:c.length-1;return!p||r===void 0?c[p]:r}const C2={decay:jh,inertia:jh,tween:ao,keyframes:ao,spring:gc};function Sb(n){typeof n.type=="string"&&(n.type=C2[n.type])}class xf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const R2=n=>n/100;class Sf extends xf{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==on.now()&&this.tick(on.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sb(t);const{type:a=ao,repeat:r=0,repeatDelay:l=0,repeatType:c,velocity:u=0}=t;let{keyframes:p}=t;const m=a||ao;m!==ao&&typeof p[0]!="number"&&(this.mixKeyframes=_o(R2,yb(p[0],p[1])),p=[0,100]);const g=m({...t,keyframes:p});c==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...p].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=vf(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(r+1)-l,this.generator=g}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:l,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:p,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:g=0,keyframes:y,repeat:x,repeatType:b,repeatDelay:S,type:_,onUpdate:j,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const A=this.currentTime-g*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?A<0:A>l;this.currentTime=Math.max(A,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let k=this.currentTime,L=r;if(x){const q=Math.min(this.currentTime,l)/p;let te=Math.floor(q),he=q%1;!he&&q>=1&&(he=1),he===1&&te--,te=Math.min(te,x+1),te%2&&(b==="reverse"?(he=1-he,S&&(he-=S/p)):b==="mirror"&&(L=u)),k=ai(0,1,he)*p}const V=C?{done:!1,value:y[0]}:L.next(k);c&&(V.value=c(V.value));let{done:Y}=V;!C&&m!==null&&(Y=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return F&&_!==jh&&(V.value=bf(y,this.options,R,this.speed)),j&&j(V.value),F&&this.finish(),V}then(t,a){return this.finished.then(t,a)}get duration(){return Nn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Nn(t)}get time(){return Nn(this.currentTime)}set time(t){t=Wn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(on.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=Nn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=p2,startTime:a}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(on.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function O2(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Va=n=>n*180/Math.PI,Ah=n=>{const t=Va(Math.atan2(n[1],n[0]));return Eh(t)},D2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Ah,rotateZ:Ah,skewX:n=>Va(Math.atan(n[1])),skewY:n=>Va(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Eh=n=>(n=n%360,n<0&&(n+=360),n),Jy=Ah,Zy=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),e0=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),M2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Zy,scaleY:e0,scale:n=>(Zy(n)+e0(n))/2,rotateX:n=>Eh(Va(Math.atan2(n[6],n[5]))),rotateY:n=>Eh(Va(Math.atan2(-n[2],n[0]))),rotateZ:Jy,rotate:Jy,skewX:n=>Va(Math.atan(n[4])),skewY:n=>Va(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Ch(n){return n.includes("scale")?1:0}function Rh(n,t){if(!n||n==="none")return Ch(t);const a=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,l;if(a)r=M2,l=a;else{const p=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=D2,l=p}if(!l)return Ch(t);const c=r[t],u=l[1].split(",").map(N2);return typeof c=="function"?c(u):u[c]}const z2=(n,t)=>{const{transform:a="none"}=getComputedStyle(n);return Rh(a,t)};function N2(n){return parseFloat(n.trim())}const Zs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],er=new Set(Zs),t0=n=>n===Js||n===ae,B2=new Set(["x","y","z"]),L2=Zs.filter(n=>!B2.has(n));function U2(n){const t=[];return L2.forEach(a=>{const r=n.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const sa={width:({x:n},{paddingLeft:t="0",paddingRight:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),height:({y:n},{paddingTop:t="0",paddingBottom:a="0"})=>n.max-n.min-parseFloat(t)-parseFloat(a),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>Rh(t,"x"),y:(n,{transform:t})=>Rh(t,"y")};sa.translateX=sa.x;sa.translateY=sa.y;const Ha=new Set;let Oh=!1,Dh=!1,Mh=!1;function wb(){if(Dh){const n=Array.from(Ha).filter(r=>r.needsMeasurement),t=new Set(n.map(r=>r.element)),a=new Map;t.forEach(r=>{const l=U2(r);l.length&&(a.set(r,l),r.render())}),n.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const l=a.get(r);l&&l.forEach(([c,u])=>{r.getValue(c)?.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Dh=!1,Oh=!1,Ha.forEach(n=>n.complete(Mh)),Ha.clear()}function _b(){Ha.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Dh=!0)})}function P2(){Mh=!0,_b(),wb(),Mh=!1}class wf{constructor(t,a,r,l,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=l,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),Oh||(Oh=!0,at.read(_b),at.resolveKeyframes(wb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:l}=this;if(t[0]===null){const c=l?.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&a){const p=r.readValue(a,u);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=u),l&&c===void 0&&l.set(t[0])}O2(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const I2=n=>n.startsWith("--");function V2(n,t,a){I2(t)?n.style.setProperty(t,a):n.style[t]=a}const $2=uf(()=>window.ScrollTimeline!==void 0),H2={};function q2(n,t){const a=uf(n);return()=>H2[t]??a()}const Tb=q2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eo=([n,t,a,r])=>`cubic-bezier(${n}, ${t}, ${a}, ${r})`,n0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eo([0,.65,.55,1]),circOut:eo([.55,0,1,.45]),backIn:eo([.31,.01,.66,-.59]),backOut:eo([.33,1.53,.69,.99])};function kb(n,t){if(n)return typeof n=="function"?Tb()?vb(n,t):"ease-out":ob(n)?eo(n):Array.isArray(n)?n.map(a=>kb(a,t)||n0.easeOut):n0[n]}function G2(n,t,a,{delay:r=0,duration:l=300,repeat:c=0,repeatType:u="loop",ease:p="easeOut",times:m}={},g=void 0){const y={[t]:a};m&&(y.offset=m);const x=kb(p,l);Array.isArray(x)&&(y.easing=x);const b={delay:r,duration:l,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(y,b)}function jb(n){return typeof n=="function"&&"applyToOptions"in n}function F2({type:n,...t}){return jb(n)&&Tb()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Ab extends xf{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:a,name:r,keyframes:l,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:p,onComplete:m}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,cf(typeof t.type!="string");const g=F2(t);this.animation=G2(a,r,l,g,c),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const y=bf(l,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(y):V2(a,r,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Nn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Nn(t)}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Wn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$2()?(this.animation.timeline=t,Bn):a(this)}}const Eb={anticipate:ib,backInOut:nb,circInOut:sb};function W2(n){return n in Eb}function Y2(n){typeof n.ease=="string"&&W2(n.ease)&&(n.ease=Eb[n.ease])}const th=10;class K2 extends Ab{constructor(t){Y2(t),Sb(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:l,element:c,...u}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const p=new Sf({...u,autoplay:!1}),m=Math.max(th,on.now()-this.startTime),g=ai(0,th,m-th);a.setWithVelocity(p.sample(Math.max(0,m-g)).value,p.sample(m).value,g),p.stop()}}const i0=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(oa.test(n)||n==="0")&&!n.startsWith("url("));function X2(n){const t=n[0];if(n.length===1)return!0;for(let a=0;a<n.length;a++)if(n[a]!==t)return!0}function Q2(n,t,a,r){const l=n[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const c=n[n.length-1],u=i0(l,t),p=i0(c,t);return!u||!p?!1:X2(n)||(a==="spring"||jb(a))&&r}function zh(n){n.duration=0,n.type="keyframes"}const J2=new Set(["opacity","clipPath","filter","transform"]),Z2=uf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function e_(n){const{motionValue:t,name:a,repeatDelay:r,repeatType:l,damping:c,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return Z2()&&a&&J2.has(a)&&(a!=="transform"||!g)&&!m&&!r&&l!=="mirror"&&c!==0&&u!=="inertia"}const t_=40;class n_ extends xf{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",keyframes:p,name:m,motionValue:g,element:y,...x}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=on.now();const b={autoplay:t,delay:a,type:r,repeat:l,repeatDelay:c,repeatType:u,name:m,motionValue:g,element:y,...x},S=y?.KeyframeResolver||wf;this.keyframeResolver=new S(p,(_,j,R)=>this.onKeyframesResolved(_,j,b,!R),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,r,l){this.keyframeResolver=void 0;const{name:c,type:u,velocity:p,delay:m,isHandoff:g,onUpdate:y}=r;this.resolvedAt=on.now(),Q2(t,c,u,p)||((Ti.instantAnimations||!m)&&y?.(bf(t,r,a)),t[0]=t[t.length-1],zh(r),r.repeat=0);const b={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>t_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},S=!g&&e_(b),_=b.motionValue?.owner?.current,j=S?new K2({...b,element:_}):new Sf(b);j.finished.then(()=>{this.notifyFinished()}).catch(Bn),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),P2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Cb(n,t,a,r=0,l=1){const c=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=n.size,p=(u-1)*r;return typeof a=="function"?a(c,u):l===1?c*r:p-c*r}const i_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a_(n){const t=i_.exec(n);if(!t)return[,];const[,a,r,l]=t;return[`--${a??r}`,l]}function Rb(n,t,a=1){const[r,l]=a_(n);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const u=c.trim();return Yv(u)?parseFloat(u):u}return pf(l)?Rb(l,t,a+1):l}const s_={type:"spring",stiffness:500,damping:25,restSpeed:10},r_=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),o_={type:"keyframes",duration:.8},l_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},c_=(n,{keyframes:t})=>t.length>2?o_:er.has(n)?n.startsWith("scale")?r_(t[1]):s_:l_,u_=n=>n!==null;function d_(n,{repeat:t,repeatType:a="loop"},r){const l=n.filter(u_),c=t&&a!=="loop"&&t%2===1?0:l.length-1;return l[c]}function Ob(n,t){if(n?.inherit&&t){const{inherit:a,...r}=n;return{...t,...r}}return n}function _f(n,t){const a=n?.[t]??n?.default??n;return a!==n?Ob(a,n):a}function h_({when:n,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:l,repeat:c,repeatType:u,repeatDelay:p,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Tf=(n,t,a,r={},l,c)=>u=>{const p=_f(r,n)||{},m=p.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Wn(m);const y={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...p,delay:-g,onUpdate:b=>{t.set(b),p.onUpdate&&p.onUpdate(b)},onComplete:()=>{u(),p.onComplete&&p.onComplete()},name:n,motionValue:t,element:c?void 0:l};h_(p)||Object.assign(y,c_(n,y)),y.duration&&(y.duration=Wn(y.duration)),y.repeatDelay&&(y.repeatDelay=Wn(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let x=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(zh(y),y.delay===0&&(x=!0)),(Ti.instantAnimations||Ti.skipAnimations||l?.shouldSkipAnimations)&&(x=!0,zh(y),y.delay=0),y.allowFlatten=!p.type&&!p.ease,x&&!c&&t.get()!==void 0){const b=d_(y.keyframes,p);if(b!==void 0){at.update(()=>{y.onUpdate(b),y.onComplete()});return}}return p.isSync?new Sf(y):new n_(y)};function a0(n){const t=[{},{}];return n?.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function kf(n,t,a,r){if(typeof t=="function"){const[l,c]=a0(r);t=t(a!==void 0?a:n.custom,l,c)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[l,c]=a0(r);t=t(a!==void 0?a:n.custom,l,c)}return t}function Xs(n,t,a){const r=n.getProps();return kf(r,t,a!==void 0?a:r.custom,n)}const Db=new Set(["width","height","top","left","right","bottom",...Zs]),s0=30,f_=n=>!isNaN(parseFloat(n)),so={current:void 0};class p_{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const l=on.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=on.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=f_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new df);const r=this.events[t].add(a);return t==="change"?()=>{r(),at.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return so.current&&so.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=on.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s0)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,s0);return Qv(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qa(n,t){return new p_(n,t)}const Nh=n=>Array.isArray(n);function m_(n,t,a){n.hasValue(t)?n.getValue(t).set(a):n.addValue(t,qa(a))}function g_(n){return Nh(n)?n[n.length-1]||0:n}function jf(n,t){const a=Xs(n,t);let{transitionEnd:r={},transition:l={},...c}=a||{};c={...c,...r};for(const u in c){const p=g_(c[u]);m_(n,u,p)}}const nn=n=>!!(n&&n.getVelocity);function y_(n){return!!(nn(n)&&n.add)}function Bh(n,t){const a=n.getValue("willChange");if(y_(a))return a.add(t);if(!a&&Ti.WillChange){const r=new Ti.WillChange("auto");n.addValue("willChange",r),r.add(t)}}function Af(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const v_="framerAppearId",Mb="data-"+Af(v_);function zb(n){return n.props[Mb]}function b_({protectedKeys:n,needsAnimating:t},a){const r=n.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function Nb(n,t,{delay:a=0,transitionOverride:r,type:l}={}){let{transition:c,transitionEnd:u,...p}=t;const m=n.getDefaultTransition();c=c?Ob(c,m):m;const g=c?.reduceMotion;r&&(c=r);const y=[],x=l&&n.animationState&&n.animationState.getState()[l];for(const b in p){const S=n.getValue(b,n.latestValues[b]??null),_=p[b];if(_===void 0||x&&b_(x,b))continue;const j={delay:a,..._f(c||{},b)},R=S.get();if(R!==void 0&&!S.isAnimating&&!Array.isArray(_)&&_===R&&!j.velocity)continue;let A=!1;if(window.MotionHandoffAnimation){const L=zb(n);if(L){const V=window.MotionHandoffAnimation(L,b,at);V!==null&&(j.startTime=V,A=!0)}}Bh(n,b);const C=g??n.shouldReduceMotion;S.start(Tf(b,S,_,C&&Db.has(b)?{type:!1}:j,n,A));const k=S.animation;k&&y.push(k)}if(u){const b=()=>at.update(()=>{u&&jf(n,u)});y.length?Promise.all(y).then(b):b()}return y}function Lh(n,t,a={}){const r=Xs(n,t,a.type==="exit"?n.presenceContext?.custom:void 0);let{transition:l=n.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(l=a.transitionOverride);const c=r?()=>Promise.all(Nb(n,r,a)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=l;return x_(n,t,m,g,y,x,a)}:()=>Promise.resolve(),{when:p}=l;if(p){const[m,g]=p==="beforeChildren"?[c,u]:[u,c];return m().then(()=>g())}else return Promise.all([c(),u(a.delay)])}function x_(n,t,a=0,r=0,l=0,c=1,u){const p=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),p.push(Lh(m,t,{...u,delay:a+(typeof r=="function"?0:r)+Cb(n.variantChildren,m,r,l,c)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(p)}function Bb(n,t,a={}){n.notify("AnimationStart",t);let r;if(Array.isArray(t)){const l=t.map(c=>Lh(n,c,a));r=Promise.all(l)}else if(typeof t=="string")r=Lh(n,t,a);else{const l=typeof t=="function"?Xs(n,t,a.custom):t;r=Promise.all(Nb(n,l,a))}return r.then(()=>{n.notify("AnimationComplete",t)})}const S_={test:n=>n==="auto",parse:n=>n},Lb=n=>t=>t.test(n),Ub=[Js,ae,ii,na,Jw,Qw,S_],r0=n=>Ub.find(Lb(n));function w_(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Xv(n):!0}const __=new Set(["brightness","contrast","saturate","opacity"]);function T_(n){const[t,a]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[r]=a.match(mf)||[];if(!r)return n;const l=a.replace(r,"");let c=__.has(t)?1:0;return r!==a&&(c*=100),t+"("+c+l+")"}const k_=/\b([a-z-]*)\(.*?\)/gu,Uh={...oa,getAnimatableNone:n=>{const t=n.match(k_);return t?t.map(T_).join(" "):n}},o0={...Js,transform:Math.round},j_={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:Gl,scaleX:Gl,scaleY:Gl,scaleZ:Gl,skew:na,skewX:na,skewY:na,distance:ae,translateX:ae,translateY:ae,translateZ:ae,x:ae,y:ae,z:ae,perspective:ae,transformPerspective:ae,opacity:ho,originX:Wy,originY:Wy,originZ:ae},Ef={borderWidth:ae,borderTopWidth:ae,borderRightWidth:ae,borderBottomWidth:ae,borderLeftWidth:ae,borderRadius:ae,borderTopLeftRadius:ae,borderTopRightRadius:ae,borderBottomRightRadius:ae,borderBottomLeftRadius:ae,width:ae,maxWidth:ae,height:ae,maxHeight:ae,top:ae,right:ae,bottom:ae,left:ae,inset:ae,insetBlock:ae,insetBlockStart:ae,insetBlockEnd:ae,insetInline:ae,insetInlineStart:ae,insetInlineEnd:ae,padding:ae,paddingTop:ae,paddingRight:ae,paddingBottom:ae,paddingLeft:ae,paddingBlock:ae,paddingBlockStart:ae,paddingBlockEnd:ae,paddingInline:ae,paddingInlineStart:ae,paddingInlineEnd:ae,margin:ae,marginTop:ae,marginRight:ae,marginBottom:ae,marginLeft:ae,marginBlock:ae,marginBlockStart:ae,marginBlockEnd:ae,marginInline:ae,marginInlineStart:ae,marginInlineEnd:ae,fontSize:ae,backgroundPositionX:ae,backgroundPositionY:ae,...j_,zIndex:o0,fillOpacity:ho,strokeOpacity:ho,numOctaves:o0},A_={...Ef,color:Bt,backgroundColor:Bt,outlineColor:Bt,fill:Bt,stroke:Bt,borderColor:Bt,borderTopColor:Bt,borderRightColor:Bt,borderBottomColor:Bt,borderLeftColor:Bt,filter:Uh,WebkitFilter:Uh},Pb=n=>A_[n];function Ib(n,t){let a=Pb(n);return a!==Uh&&(a=oa),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const E_=new Set(["auto","none","0"]);function C_(n,t,a){let r=0,l;for(;r<n.length&&!l;){const c=n[r];typeof c=="string"&&!E_.has(c)&&fo(c).values.length&&(l=n[r]),r++}if(l&&a)for(const c of t)n[c]=Ib(a,l)}class R_ extends wf{constructor(t,a,r,l,c){super(t,a,r,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let x=t[y];if(typeof x=="string"&&(x=x.trim(),pf(x))){const b=Rb(x,a.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Db.has(r)||t.length!==2)return;const[l,c]=t,u=r0(l),p=r0(c),m=Fy(l),g=Fy(c);if(m!==g&&sa[r]){this.needsMeasurement=!0;return}if(u!==p)if(t0(u)&&t0(p))for(let y=0;y<t.length;y++){const x=t[y];typeof x=="string"&&(t[y]=parseFloat(x))}else sa[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let l=0;l<t.length;l++)(t[l]===null||w_(t[l]))&&r.push(l);r.length&&C_(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const l=a[a.length-1];l!==void 0&&t.getValue(r,l).jump(l,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const l=t.getValue(a);l&&l.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=sa[a](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const O_=new Set(["opacity","clipPath","filter","transform"]);function Vb(n,t,a){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const l=a?.[n]??r.querySelectorAll(n);return l?Array.from(l):[]}return Array.from(n).filter(r=>r!=null)}const $b=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function Ph(n){return Kv(n)&&"offsetHeight"in n}const{schedule:Cf}=lb(queueMicrotask,!1),qn={x:!1,y:!1};function Hb(){return qn.x||qn.y}function D_(n){return n==="x"||n==="y"?qn[n]?null:(qn[n]=!0,()=>{qn[n]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function qb(n,t){const a=Vb(n),r=new AbortController,l={passive:!0,...t,signal:r.signal};return[a,l,()=>r.abort()]}function M_(n){return!(n.pointerType==="touch"||Hb())}function z_(n,t,a={}){const[r,l,c]=qb(n,a);return r.forEach(u=>{let p=!1,m=!1,g;const y=()=>{u.removeEventListener("pointerleave",_)},x=R=>{g&&(g(R),g=void 0),y()},b=R=>{p=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),m&&(m=!1,x(R))},S=()=>{p=!0,window.addEventListener("pointerup",b,l),window.addEventListener("pointercancel",b,l)},_=R=>{if(R.pointerType!=="touch"){if(p){m=!0;return}x(R)}},j=R=>{if(!M_(R))return;m=!1;const A=t(u,R);typeof A=="function"&&(g=A,u.addEventListener("pointerleave",_,l))};u.addEventListener("pointerenter",j,l),u.addEventListener("pointerdown",S,l)}),c}const Gb=(n,t)=>t?n===t?!0:Gb(n,t.parentElement):!1,Rf=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,N_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function B_(n){return N_.has(n.tagName)||n.isContentEditable===!0}const L_=new Set(["INPUT","SELECT","TEXTAREA"]);function U_(n){return L_.has(n.tagName)||n.isContentEditable===!0}const rc=new WeakSet;function l0(n){return t=>{t.key==="Enter"&&n(t)}}function nh(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P_=(n,t)=>{const a=n.currentTarget;if(!a)return;const r=l0(()=>{if(rc.has(a))return;nh(a,"down");const l=l0(()=>{nh(a,"up")}),c=()=>nh(a,"cancel");a.addEventListener("keyup",l,t),a.addEventListener("blur",c,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function c0(n){return Rf(n)&&!Hb()}const u0=new WeakSet;function I_(n,t,a={}){const[r,l,c]=qb(n,a),u=p=>{const m=p.currentTarget;if(!c0(p)||u0.has(p))return;rc.add(m),a.stopPropagation&&u0.add(p);const g=t(m,p),y=(S,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",b),rc.has(m)&&rc.delete(m),c0(S)&&typeof g=="function"&&g(S,{success:_})},x=S=>{y(S,m===window||m===document||a.useGlobalTarget||Gb(m,S.target))},b=S=>{y(S,!1)};window.addEventListener("pointerup",x,l),window.addEventListener("pointercancel",b,l)};return r.forEach(p=>{(a.useGlobalTarget?window:p).addEventListener("pointerdown",u,l),Ph(p)&&(p.addEventListener("focus",g=>P_(g,l)),!B_(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),c}function Of(n){return Kv(n)&&"ownerSVGElement"in n}const oc=new WeakMap;let lc;const Fb=(n,t,a)=>(r,l)=>l&&l[0]?l[0][n+"Size"]:Of(r)&&"getBBox"in r?r.getBBox()[t]:r[a],V_=Fb("inline","width","offsetWidth"),$_=Fb("block","height","offsetHeight");function H_({target:n,borderBoxSize:t}){oc.get(n)?.forEach(a=>{a(n,{get width(){return V_(n,t)},get height(){return $_(n,t)}})})}function q_(n){n.forEach(H_)}function G_(){typeof ResizeObserver>"u"||(lc=new ResizeObserver(q_))}function F_(n,t){lc||G_();const a=Vb(n);return a.forEach(r=>{let l=oc.get(r);l||(l=new Set,oc.set(r,l)),l.add(t),lc?.observe(r)}),()=>{a.forEach(r=>{const l=oc.get(r);l?.delete(t),l?.size||lc?.unobserve(r)})}}const cc=new Set;let $s;function W_(){$s=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};cc.forEach(t=>t(n))},window.addEventListener("resize",$s)}function Y_(n){return cc.add(n),$s||W_(),()=>{cc.delete(n),!cc.size&&typeof $s=="function"&&(window.removeEventListener("resize",$s),$s=void 0)}}function d0(n,t){return typeof n=="function"?Y_(n):F_(n,t)}function K_(n){return Of(n)&&n.tagName==="svg"}function X_(...n){const t=!Array.isArray(n[0]),a=t?0:-1,r=n[0+a],l=n[1+a],c=n[2+a],u=n[3+a],p=xb(l,c,u);return t?p(r):p}const Q_=[...Ub,Bt,oa],J_=n=>Q_.find(Lb(n)),h0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hs=()=>({x:h0(),y:h0()}),f0=()=>({min:0,max:0}),Vt=()=>({x:f0(),y:f0()}),Z_=new WeakMap;function jc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function po(n){return typeof n=="string"||Array.isArray(n)}const Df=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mf=["initial",...Df];function Ac(n){return jc(n.animate)||Mf.some(t=>po(n[t]))}function Wb(n){return!!(Ac(n)||n.variants)}function eT(n,t,a){for(const r in t){const l=t[r],c=a[r];if(nn(l))n.addValue(r,l);else if(nn(c))n.addValue(r,qa(l,{owner:n}));else if(c!==l)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(l):u.hasAnimated||u.set(l)}else{const u=n.getStaticValue(r);n.addValue(r,qa(u!==void 0?u:l,{owner:n}))}}for(const r in a)t[r]===void 0&&n.removeValue(r);return t}const Ih={current:null},Yb={current:!1},tT=typeof window<"u";function nT(){if(Yb.current=!0,!!tT)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ih.current=n.matches;n.addEventListener("change",t),t()}else Ih.current=!1}const p0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yc={};function Kb(n){yc=n}function iT(){return yc}class aT{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:l,skipAnimations:c,blockInitialAnimation:u,visualState:p},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=wf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=on.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,at.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=p;this.latestValues=g,this.baseTarget={...g},this.initialValues=a.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.skipAnimationsConfig=c,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Ac(a),this.isVariantNode=Wb(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:x,...b}=this.scrapeMotionValuesFromProps(a,{},this);for(const S in b){const _=b[S];g[S]!==void 0&&nn(_)&&_.set(g[S])}}mount(t){if(this.hasBeenMounted)for(const a in this.initialValues)this.values.get(a)?.jump(this.initialValues[a]),this.latestValues[a]=this.initialValues[a];this.current=t,Z_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Yb.current||nT(),this.shouldReduceMotion=Ih.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ki(this.notifyUpdate),ki(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),a.accelerate&&O_.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:p,times:m,ease:g,duration:y}=a.accelerate,x=new Ab({element:this.current,name:t,keyframes:p,times:m,ease:g,duration:Wn(y)}),b=u(x);this.valueSubscriptions.set(t,()=>{b(),x.cancel()});return}const r=er.has(t);r&&this.onBindTransform&&this.onBindTransform();const l=a.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&at.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{l(),c&&c(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yc){const a=yc[t];if(!a)continue;const{isEnabled:r,Feature:l}=a;if(!this.features[t]&&l&&r(this.props)&&(this.features[t]=new l(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<p0.length;r++){const l=p0[r];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,u=t[c];u&&(this.propEventSubscriptions[l]=this.on(l,u))}this.prevMotionValues=eT(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=qa(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Yv(r)||Xv(r))?r=parseFloat(r):!J_(r)&&oa.test(a)&&(r=Ib(t,a)),this.setBaseTarget(t,nn(r)?r.get():r)),nn(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const c=kf(this.props,a,this.presenceContext?.custom);c&&(r=c[t])}if(a&&r!==void 0)return r;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!nn(l)?l:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new df),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){Cf.render(this.render)}}class Xb extends aT{constructor(){super(...arguments),this.KeyframeResolver=R_}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){const r=t.style;return r?r[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;nn(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}class la{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Qb({top:n,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:n,max:r}}}function sT({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function rT(n,t){if(!t)return n;const a=t({x:n.left,y:n.top}),r=t({x:n.right,y:n.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function ih(n){return n===void 0||n===1}function Vh({scale:n,scaleX:t,scaleY:a}){return!ih(n)||!ih(t)||!ih(a)}function Na(n){return Vh(n)||Jb(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Jb(n){return m0(n.x)||m0(n.y)}function m0(n){return n&&n!=="0%"}function vc(n,t,a){const r=n-a,l=t*r;return a+l}function g0(n,t,a,r,l){return l!==void 0&&(n=vc(n,l,r)),vc(n,a,r)+t}function $h(n,t=0,a=1,r,l){n.min=g0(n.min,t,a,r,l),n.max=g0(n.max,t,a,r,l)}function Zb(n,{x:t,y:a}){$h(n.x,t.translate,t.scale,t.originPoint),$h(n.y,a.translate,a.scale,a.originPoint)}const y0=.999999999999,v0=1.0000000000001;function oT(n,t,a,r=!1){const l=a.length;if(!l)return;t.x=t.y=1;let c,u;for(let p=0;p<l;p++){c=a[p],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Gs(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Zb(n,u)),r&&Na(c.latestValues)&&Gs(n,c.latestValues))}t.x<v0&&t.x>y0&&(t.x=1),t.y<v0&&t.y>y0&&(t.y=1)}function qs(n,t){n.min=n.min+t,n.max=n.max+t}function b0(n,t,a,r,l=.5){const c=xt(n.min,n.max,l);$h(n,t,a,c,r)}function Gs(n,t){b0(n.x,t.x,t.scaleX,t.scale,t.originX),b0(n.y,t.y,t.scaleY,t.scale,t.originY)}function e1(n,t){return Qb(rT(n.getBoundingClientRect(),t))}function lT(n,t,a){const r=e1(n,a),{scroll:l}=t;return l&&(qs(r.x,l.offset.x),qs(r.y,l.offset.y)),r}const cT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},uT=Zs.length;function dT(n,t,a){let r="",l=!0;for(let c=0;c<uT;c++){const u=Zs[c],p=n[u];if(p===void 0)continue;let m=!0;if(typeof p=="number")m=p===(u.startsWith("scale")?1:0);else{const g=parseFloat(p);m=u.startsWith("scale")?g===1:g===0}if(!m||a){const g=$b(p,Ef[u]);if(!m){l=!1;const y=cT[u]||u;r+=`${y}(${g}) `}a&&(t[u]=g)}}return r=r.trim(),a?r=a(t,l?"":r):l&&(r="none"),r}function zf(n,t,a){const{style:r,vars:l,transformOrigin:c}=n;let u=!1,p=!1;for(const m in t){const g=t[m];if(er.has(m)){u=!0;continue}else if(ub(m)){l[m]=g;continue}else{const y=$b(g,Ef[m]);m.startsWith("origin")?(p=!0,c[m]=y):r[m]=y}}if(t.transform||(u||a?r.transform=dT(t,n.transform,a):r.transform&&(r.transform="none")),p){const{originX:m="50%",originY:g="50%",originZ:y=0}=c;r.transformOrigin=`${m} ${g} ${y}`}}function t1(n,{style:t,vars:a},r,l){const c=n.style;let u;for(u in t)c[u]=t[u];l?.applyProjectionStyles(c,r);for(u in a)c.setProperty(u,a[u])}function x0(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const Qr={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(ae.test(n))n=parseFloat(n);else return n;const a=x0(n,t.target.x),r=x0(n,t.target.y);return`${a}% ${r}%`}},hT={correct:(n,{treeScale:t,projectionDelta:a})=>{const r=n,l=oa.parse(n);if(l.length>5)return r;const c=oa.createTransformer(n),u=typeof l[0]!="number"?1:0,p=a.x.scale*t.x,m=a.y.scale*t.y;l[0+u]/=p,l[1+u]/=m;const g=xt(p,m,.5);return typeof l[2+u]=="number"&&(l[2+u]/=g),typeof l[3+u]=="number"&&(l[3+u]/=g),c(l)}},Hh={borderRadius:{...Qr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qr,borderTopRightRadius:Qr,borderBottomLeftRadius:Qr,borderBottomRightRadius:Qr,boxShadow:hT};function n1(n,{layout:t,layoutId:a}){return er.has(n)||n.startsWith("origin")||(t||a!==void 0)&&(!!Hh[n]||n==="opacity")}function Nf(n,t,a){const r=n.style,l=t?.style,c={};if(!r)return c;for(const u in r)(nn(r[u])||l&&nn(l[u])||n1(u,n)||a?.getValue(u)?.liveStyle!==void 0)&&(c[u]=r[u]);return c}function fT(n){return window.getComputedStyle(n)}class pT extends Xb{constructor(){super(...arguments),this.type="html",this.renderInstance=t1}readValueFromInstance(t,a){if(er.has(a))return this.projection?.isProjecting?Ch(a):z2(t,a);{const r=fT(t),l=(ub(a)?r.getPropertyValue(a):r[a])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:a}){return e1(t,a)}build(t,a,r){zf(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return Nf(t,a,r)}}const mT={offset:"stroke-dashoffset",array:"stroke-dasharray"},gT={offset:"strokeDashoffset",array:"strokeDasharray"};function yT(n,t,a=1,r=0,l=!0){n.pathLength=1;const c=l?mT:gT;n[c.offset]=`${-r}`,n[c.array]=`${t} ${a}`}const vT=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function i1(n,{attrX:t,attrY:a,attrScale:r,pathLength:l,pathSpacing:c=1,pathOffset:u=0,...p},m,g,y){if(zf(n,p,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:b}=n;x.transform&&(b.transform=x.transform,delete x.transform),(b.transform||x.transformOrigin)&&(b.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete x.transformBox);for(const S of vT)x[S]!==void 0&&(b[S]=x[S],delete x[S]);t!==void 0&&(x.x=t),a!==void 0&&(x.y=a),r!==void 0&&(x.scale=r),l!==void 0&&yT(x,l,c,u,!1)}const a1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),s1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function bT(n,t,a,r){t1(n,t,void 0,r);for(const l in t.attrs)n.setAttribute(a1.has(l)?l:Af(l),t.attrs[l])}function r1(n,t,a){const r=Nf(n,t,a);for(const l in n)if(nn(n[l])||nn(t[l])){const c=Zs.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;r[c]=n[l]}return r}class xT extends Xb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vt}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(er.has(a)){const r=Pb(a);return r&&r.default||0}return a=a1.has(a)?a:Af(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return r1(t,a,r)}build(t,a,r){i1(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,l){bT(t,a,r,l)}mount(t){this.isSVGTag=s1(t.tagName),super.mount(t)}}const ST=Mf.length;function o1(n){if(!n)return;if(!n.isControllingVariants){const a=n.parent?o1(n.parent)||{}:{};return n.props.initial!==void 0&&(a.initial=n.props.initial),a}const t={};for(let a=0;a<ST;a++){const r=Mf[a],l=n.props[r];(po(l)||l===!1)&&(t[r]=l)}return t}function l1(n,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==n.length)return!1;for(let r=0;r<a;r++)if(t[r]!==n[r])return!1;return!0}const wT=[...Df].reverse(),_T=Df.length;function TT(n){return t=>Promise.all(t.map(({animation:a,options:r})=>Bb(n,a,r)))}function kT(n){let t=TT(n),a=S0(),r=!0;const l=m=>(g,y)=>{const x=Xs(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(x){const{transition:b,transitionEnd:S,..._}=x;g={...g,..._,...S}}return g};function c(m){t=m(n)}function u(m){const{props:g}=n,y=o1(n.parent)||{},x=[],b=new Set;let S={},_=1/0;for(let R=0;R<_T;R++){const A=wT[R],C=a[A],k=g[A]!==void 0?g[A]:y[A],L=po(k),V=A===m?C.isActive:null;V===!1&&(_=R);let Y=k===y[A]&&k!==g[A]&&L;if(Y&&r&&n.manuallyAnimateOnMount&&(Y=!1),C.protectedKeys={...S},!C.isActive&&V===null||!k&&!C.prevProp||jc(k)||typeof k=="boolean")continue;if(A==="exit"&&C.isActive&&V!==!0){C.prevResolvedValues&&(S={...S,...C.prevResolvedValues});continue}const F=jT(C.prevProp,k);let q=F||A===m&&C.isActive&&!Y&&L||R>_&&L,te=!1;const he=Array.isArray(k)?k:[k];let ke=he.reduce(l(A),{});V===!1&&(ke={});const{prevResolvedValues:ye={}}=C,ot={...ye,...ke},vt=K=>{q=!0,b.has(K)&&(te=!0,b.delete(K)),C.needsAnimating[K]=!0;const J=n.getValue(K);J&&(J.liveStyle=!1)};for(const K in ot){const J=ke[K],ge=ye[K];if(S.hasOwnProperty(K))continue;let ve=!1;Nh(J)&&Nh(ge)?ve=!l1(J,ge):ve=J!==ge,ve?J!=null?vt(K):b.add(K):J!==void 0&&b.has(K)?vt(K):C.protectedKeys[K]=!0}C.prevProp=k,C.prevResolvedValues=ke,C.isActive&&(S={...S,...ke}),r&&n.blockInitialAnimation&&(q=!1);const Ie=Y&&F;q&&(!Ie||te)&&x.push(...he.map(K=>{const J={type:A};if(typeof K=="string"&&r&&!Ie&&n.manuallyAnimateOnMount&&n.parent){const{parent:ge}=n,ve=Xs(ge,K);if(ge.enteringChildren&&ve){const{delayChildren:O}=ve.transition||{};J.delay=Cb(ge.enteringChildren,n,O)}}return{animation:K,options:J}}))}if(b.size){const R={};if(typeof g.initial!="boolean"){const A=Xs(n,Array.isArray(g.initial)?g.initial[0]:g.initial);A&&A.transition&&(R.transition=A.transition)}b.forEach(A=>{const C=n.getBaseTarget(A),k=n.getValue(A);k&&(k.liveStyle=!0),R[A]=C??null}),x.push({animation:R})}let j=!!x.length;return r&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(x):Promise.resolve()}function p(m,g){if(a[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(x=>x.animationState?.setActive(m,g)),a[m].isActive=g;const y=u(m);for(const x in a)a[x].protectedKeys={};return y}return{animateChanges:u,setActive:p,setAnimateFunction:c,getState:()=>a,reset:()=>{a=S0()}}}function jT(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!l1(t,n):!1}function Oa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S0(){return{animate:Oa(!0),whileInView:Oa(),whileHover:Oa(),whileTap:Oa(),whileDrag:Oa(),whileFocus:Oa(),exit:Oa()}}function w0(n,t){n.min=t.min,n.max=t.max}function $n(n,t){w0(n.x,t.x),w0(n.y,t.y)}function _0(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const c1=1e-4,AT=1-c1,ET=1+c1,u1=.01,CT=0-u1,RT=0+u1;function ln(n){return n.max-n.min}function OT(n,t,a){return Math.abs(n-t)<=a}function T0(n,t,a,r=.5){n.origin=r,n.originPoint=xt(t.min,t.max,n.origin),n.scale=ln(a)/ln(t),n.translate=xt(a.min,a.max,n.origin)-n.originPoint,(n.scale>=AT&&n.scale<=ET||isNaN(n.scale))&&(n.scale=1),(n.translate>=CT&&n.translate<=RT||isNaN(n.translate))&&(n.translate=0)}function ro(n,t,a,r){T0(n.x,t.x,a.x,r?r.originX:void 0),T0(n.y,t.y,a.y,r?r.originY:void 0)}function k0(n,t,a){n.min=a.min+t.min,n.max=n.min+ln(t)}function DT(n,t,a){k0(n.x,t.x,a.x),k0(n.y,t.y,a.y)}function j0(n,t,a){n.min=t.min-a.min,n.max=n.min+ln(t)}function bc(n,t,a){j0(n.x,t.x,a.x),j0(n.y,t.y,a.y)}function A0(n,t,a,r,l){return n-=t,n=vc(n,1/a,r),l!==void 0&&(n=vc(n,1/l,r)),n}function MT(n,t=0,a=1,r=.5,l,c=n,u=n){if(ii.test(t)&&(t=parseFloat(t),t=xt(u.min,u.max,t/100)-u.min),typeof t!="number")return;let p=xt(c.min,c.max,r);n===c&&(p-=t),n.min=A0(n.min,t,a,p,l),n.max=A0(n.max,t,a,p,l)}function E0(n,t,[a,r,l],c,u){MT(n,t[a],t[r],t[l],t.scale,c,u)}const zT=["x","scaleX","originX"],NT=["y","scaleY","originY"];function C0(n,t,a,r){E0(n.x,t,zT,a?a.x:void 0,r?r.x:void 0),E0(n.y,t,NT,a?a.y:void 0,r?r.y:void 0)}function R0(n){return n.translate===0&&n.scale===1}function d1(n){return R0(n.x)&&R0(n.y)}function O0(n,t){return n.min===t.min&&n.max===t.max}function BT(n,t){return O0(n.x,t.x)&&O0(n.y,t.y)}function D0(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function h1(n,t){return D0(n.x,t.x)&&D0(n.y,t.y)}function M0(n){return ln(n.x)/ln(n.y)}function z0(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ti(n){return[n("x"),n("y")]}function LT(n,t,a){let r="";const l=n.x.translate/t.x,c=n.y.translate/t.y,u=a?.z||0;if((l||c||u)&&(r=`translate3d(${l}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:g,rotate:y,rotateX:x,rotateY:b,skewX:S,skewY:_}=a;g&&(r=`perspective(${g}px) ${r}`),y&&(r+=`rotate(${y}deg) `),x&&(r+=`rotateX(${x}deg) `),b&&(r+=`rotateY(${b}deg) `),S&&(r+=`skewX(${S}deg) `),_&&(r+=`skewY(${_}deg) `)}const p=n.x.scale*t.x,m=n.y.scale*t.y;return(p!==1||m!==1)&&(r+=`scale(${p}, ${m})`),r||"none"}const f1=["TopLeft","TopRight","BottomLeft","BottomRight"],UT=f1.length,N0=n=>typeof n=="string"?parseFloat(n):n,B0=n=>typeof n=="number"||ae.test(n);function PT(n,t,a,r,l,c){l?(n.opacity=xt(0,a.opacity??1,IT(r)),n.opacityExit=xt(t.opacity??1,0,VT(r))):c&&(n.opacity=xt(t.opacity??1,a.opacity??1,r));for(let u=0;u<UT;u++){const p=`border${f1[u]}Radius`;let m=L0(t,p),g=L0(a,p);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||B0(m)===B0(g)?(n[p]=Math.max(xt(N0(m),N0(g),r),0),(ii.test(g)||ii.test(m))&&(n[p]+="%")):n[p]=g}(t.rotate||a.rotate)&&(n.rotate=xt(t.rotate||0,a.rotate||0,r))}function L0(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const IT=p1(0,.5,ab),VT=p1(.5,.95,Bn);function p1(n,t,a){return r=>r<n?0:r>t?1:a(uo(n,t,r))}function $T(n,t,a){const r=nn(n)?n:qa(n);return r.start(Tf("",r,t,a)),r.animation}function mo(n,t,a,r={passive:!0}){return n.addEventListener(t,a,r),()=>n.removeEventListener(t,a)}const HT=(n,t)=>n.depth-t.depth;class qT{constructor(){this.children=[],this.isDirty=!1}add(t){lf(this.children,t),this.isDirty=!0}remove(t){fc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(HT),this.isDirty=!1,this.children.forEach(t)}}function GT(n,t){const a=on.now(),r=({timestamp:l})=>{const c=l-a;c>=t&&(ki(r),n(c-t))};return at.setup(r,!0),()=>ki(r)}function uc(n){return nn(n)?n.get():n}class FT{constructor(){this.members=[]}add(t){lf(this.members,t);for(let a=this.members.length-1;a>=0;a--){const r=this.members[a];if(r===t||r===this.lead||r===this.prevLead)continue;const l=r.instance;l&&l.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&fc(this.members,r)}t.scheduleRender()}remove(t){if(fc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(l=>t===l);if(a===0)return!1;let r;for(let l=a;l>=0;l--){const c=this.members[l],u=c.instance;if(c.isPresent!==!1&&(!u||u.isConnected!==!1)){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender();const l=r.options.layoutDependency,c=t.options.layoutDependency;if(!(l!==void 0&&c!==void 0&&l===c)){const m=r.instance;m&&m.isConnected===!1&&!r.snapshot||(t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:p}=t.options;p===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const dc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},ah=["","X","Y","Z"],WT=1e3;let YT=0;function sh(n,t,a,r){const{latestValues:l}=t;l[n]&&(a[n]=l[n],t.setStaticValue(n,0),r&&(r[n]=0))}function m1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const a=zb(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:l,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(a,"transform",at,!(l||c))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&m1(r)}function g1({attachResizeListener:n,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:l}){return class{constructor(u={},p=t?.()){this.id=YT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QT),this.nodes.forEach(t5),this.nodes.forEach(n5),this.nodes.forEach(JT)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new qT)}addEventListener(u,p){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new df),this.eventHandlers.get(u).add(p)}notifyListeners(u,...p){const m=this.eventHandlers.get(u);m&&m.notify(...p)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Of(u)&&!K_(u),this.instance=u;const{layoutId:p,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||p)&&(this.isLayoutDirty=!0),n){let y,x=0;const b=()=>this.root.updateBlockedByResize=!1;at.read(()=>{x=window.innerWidth}),n(u,()=>{const S=window.innerWidth;S!==x&&(x=S,this.root.updateBlockedByResize=!0,y&&y(),y=GT(b,250),dc.hasAnimatedSinceResize&&(dc.hasAnimatedSinceResize=!1,this.nodes.forEach(I0)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&g&&(p||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:x,hasRelativeLayoutChanged:b,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||g.getDefaultTransition()||o5,{onLayoutAnimationStart:j,onLayoutAnimationComplete:R}=g.getProps(),A=!this.targetLayout||!h1(this.targetLayout,S),C=!x&&b;if(this.options.layoutRoot||this.resumeFrom||C||x&&(A||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={..._f(_,"layout"),onPlay:j,onComplete:R};(g.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(y,C)}else x||I0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(i5),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&m1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const x=this.path[y];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(U0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(P0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(e5),this.nodes.forEach(KT),this.nodes.forEach(XT)):this.nodes.forEach(P0),this.clearAllSnapshots();const p=on.now();Qt.delta=ai(0,1e3/60,p-Qt.timestamp),Qt.timestamp=p,Qt.isProcessing=!0,Xd.update.process(Qt),Xd.preRender.process(Qt),Xd.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(ZT),this.sharedNodes.forEach(a5)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,at.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){at.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Vt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(p=!1),p&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!d1(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(p||Na(this.latestValues)||y)&&(l(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return u&&(m=this.removeTransform(m)),l5(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Vt();const p=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(c5))){const{scroll:g}=this.root;g&&(qs(p.x,g.offset.x),qs(p.y,g.offset.y))}return p}removeElementScroll(u){const p=Vt();if($n(p,u),this.scroll?.wasRoot)return p;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&$n(p,u),qs(p.x,y.offset.x),qs(p.y,y.offset.y))}return p}applyTransform(u,p=!1){const m=Vt();$n(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!p&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Gs(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&Gs(m,y.latestValues)}return Na(this.latestValues)&&Gs(m,this.latestValues),m}removeTransform(u){const p=Vt();$n(p,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Na(g.latestValues))continue;Vh(g.latestValues)&&g.updateSnapshot();const y=Vt(),x=g.measurePageBox();$n(y,x),C0(p,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&C0(p,this.latestValues),p}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==p;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:x}=this.options;if(!this.layout||!(y||x))return;this.resolvedRelativeTargetAt=Qt.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vt(),this.targetWithTransforms=Vt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),Zb(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Vh(this.parent.latestValues)||Jb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,p,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vt(),this.relativeTargetOrigin=Vt(),bc(this.relativeTargetOrigin,p,m),$n(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),p=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;$n(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,b=this.treeScale.y;oT(this.layoutCorrected,this.treeScale,this.path,p),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Vt());const{target:S}=u;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_0(this.prevProjectionDelta.x,this.projectionDelta.x),_0(this.prevProjectionDelta.y,this.projectionDelta.y)),ro(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==b||!z0(this.projectionDelta.x,this.prevProjectionDelta.x)||!z0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Hs(),this.projectionDelta=Hs(),this.projectionDeltaWithTransform=Hs()}setAnimationOrigin(u,p=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},x=Hs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const b=Vt(),S=m?m.source:void 0,_=this.layout?this.layout.source:void 0,j=S!==_,R=this.getStack(),A=!R||R.members.length<=1,C=!!(j&&!A&&this.options.crossfade===!0&&!this.path.some(r5));this.animationProgress=0;let k;this.mixTargetDelta=L=>{const V=L/1e3;V0(x.x,u.x,V),V0(x.y,u.y,V),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bc(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),s5(this.relativeTarget,this.relativeTargetOrigin,b,V),k&&BT(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Vt()),$n(k,this.relativeTarget)),j&&(this.animationValues=y,PT(y,g,this.latestValues,V,C,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=at.update(()=>{dc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qa(0)),this.currentAnimation=$T(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),u.onUpdate&&u.onUpdate(p)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:p,target:m,layout:g,latestValues:y}=u;if(!(!p||!m||!g)){if(this!==u&&this.layout&&g&&y1(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Vt();const x=ln(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const b=ln(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}$n(p,m),Gs(p,y),ro(this.projectionDeltaWithTransform,this.layoutCorrected,p,y)}}registerSharedNode(u,p){this.sharedNodes.has(u)||this.sharedNodes.set(u,new FT),this.sharedNodes.get(u).add(p);const g=p.options.initialPromotionConfig;p.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(p):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:p,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let p=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(p=!0),!p)return;const g={};m.z&&sh("z",u,g,this.animationValues);for(let y=0;y<ah.length;y++)sh(`rotate${ah[y]}`,u,g,this.animationValues),sh(`skew${ah[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=uc(p?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=uc(p?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let x=LT(this.projectionDeltaWithTransform,this.treeScale,y);m&&(x=m(y,x)),u.transform=x;const{x:b,y:S}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${S.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Hh){if(y[_]===void 0)continue;const{correct:j,applyTo:R,isCSSVariable:A}=Hh[_],C=x==="none"?y[_]:j(y[_],g);if(R){const k=R.length;for(let L=0;L<k;L++)u[R[L]]=C}else A?this.options.visualElement.renderState.vars[_]=C:u[_]=C}this.options.layoutId&&(u.pointerEvents=g===this?uc(p?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(U0),this.root.sharedNodes.clear()}}}function KT(n){n.updateLayout()}function XT(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=n.layout,{animationType:l}=n.options,c=t.source!==n.layout.source;l==="size"?ti(y=>{const x=c?t.measuredBox[y]:t.layoutBox[y],b=ln(x);x.min=a[y].min,x.max=x.min+b}):y1(l,t.layoutBox,a)&&ti(y=>{const x=c?t.measuredBox[y]:t.layoutBox[y],b=ln(a[y]);x.max=x.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const u=Hs();ro(u,a,t.layoutBox);const p=Hs();c?ro(p,n.applyTransform(r,!0),t.measuredBox):ro(p,a,t.layoutBox);const m=!d1(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:b}=y;if(x&&b){const S=Vt();bc(S,t.layoutBox,x.layoutBox);const _=Vt();bc(_,a,b.layoutBox),h1(S,_)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=S,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:p,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:a}=n.options;a&&a()}n.options.transition=void 0}function QT(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function JT(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function ZT(n){n.clearSnapshot()}function U0(n){n.clearMeasurements()}function P0(n){n.isLayoutDirty=!1}function e5(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function I0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function t5(n){n.resolveTargetDelta()}function n5(n){n.calcProjection()}function i5(n){n.resetSkewAndRotation()}function a5(n){n.removeLeadSnapshot()}function V0(n,t,a){n.translate=xt(t.translate,0,a),n.scale=xt(t.scale,1,a),n.origin=t.origin,n.originPoint=t.originPoint}function $0(n,t,a,r){n.min=xt(t.min,a.min,r),n.max=xt(t.max,a.max,r)}function s5(n,t,a,r){$0(n.x,t.x,a.x,r),$0(n.y,t.y,a.y,r)}function r5(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const o5={duration:.45,ease:[.4,0,.1,1]},H0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),q0=H0("applewebkit/")&&!H0("chrome/")?Math.round:Bn;function G0(n){n.min=q0(n.min),n.max=q0(n.max)}function l5(n){G0(n.x),G0(n.y)}function y1(n,t,a){return n==="position"||n==="preserve-aspect"&&!OT(M0(t),M0(a),.2)}function c5(n){return n!==n.root&&n.scroll?.wasRoot}const u5=g1({attachResizeListener:(n,t)=>mo(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),rh={current:void 0},v1=g1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!rh.current){const n=new u5({});n.mount(window),n.setOptions({layoutScroll:!0}),rh.current=n}return rh.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Ec=T.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function F0(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function d5(...n){return t=>{let a=!1;const r=n.map(l=>{const c=F0(l,t);return!a&&typeof c=="function"&&(a=!0),c});if(a)return()=>{for(let l=0;l<r.length;l++){const c=r[l];typeof c=="function"?c():F0(n[l],null)}}}}function h5(...n){return T.useCallback(d5(...n),n)}class f5 extends T.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=a.offsetParent,l=Ph(r)&&r.offsetWidth||0,c=Ph(r)&&r.offsetHeight||0,u=this.props.sizeRef.current;u.height=a.offsetHeight||0,u.width=a.offsetWidth||0,u.top=a.offsetTop,u.left=a.offsetLeft,u.right=l-u.width-u.left,u.bottom=c-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function p5({children:n,isPresent:t,anchorX:a,anchorY:r,root:l,pop:c}){const u=T.useId(),p=T.useRef(null),m=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=T.useContext(Ec),y=n.props?.ref??n?.ref,x=h5(p,y);return T.useInsertionEffect(()=>{const{width:b,height:S,top:_,left:j,right:R,bottom:A}=m.current;if(t||c===!1||!p.current||!b||!S)return;const C=a==="left"?`left: ${j}`:`right: ${R}`,k=r==="bottom"?`bottom: ${A}`:`top: ${_}`;p.current.dataset.motionPopId=u;const L=document.createElement("style");g&&(L.nonce=g);const V=l??document.head;return V.appendChild(L),L.sheet&&L.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${S}px !important;
            ${C}px !important;
            ${k}px !important;
          }
        `),()=>{V.contains(L)&&V.removeChild(L)}},[t]),h.jsx(f5,{isPresent:t,childRef:p,sizeRef:m,pop:c,children:c===!1?n:T.cloneElement(n,{ref:x})})}const m5=({children:n,initial:t,isPresent:a,onExitComplete:r,custom:l,presenceAffectsLayout:c,mode:u,anchorX:p,anchorY:m,root:g})=>{const y=ra(g5),x=T.useId();let b=!0,S=T.useMemo(()=>(b=!1,{id:x,initial:t,isPresent:a,custom:l,onExitComplete:_=>{y.set(_,!0);for(const j of y.values())if(!j)return;r&&r()},register:_=>(y.set(_,!1),()=>y.delete(_))}),[a,y,r]);return c&&b&&(S={...S}),T.useMemo(()=>{y.forEach((_,j)=>y.set(j,!1))},[a]),T.useEffect(()=>{!a&&!y.size&&r&&r()},[a]),n=h.jsx(p5,{pop:u==="popLayout",isPresent:a,anchorX:p,anchorY:m,root:g,children:n}),h.jsx(kc.Provider,{value:S,children:n})};function g5(){return new Map}function b1(n=!0){const t=T.useContext(kc);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:l}=t,c=T.useId();T.useEffect(()=>{if(n)return l(c)},[n]);const u=T.useCallback(()=>n&&r&&r(c),[c,r,n]);return!a&&r?[!1,u]:[!0]}const Fl=n=>n.key||"";function W0(n){const t=[];return T.Children.forEach(n,a=>{T.isValidElement(a)&&t.push(a)}),t}const cn=({children:n,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:l=!0,mode:c="sync",propagate:u=!1,anchorX:p="left",anchorY:m="top",root:g})=>{const[y,x]=b1(u),b=T.useMemo(()=>W0(n),[n]),S=u&&!y?[]:b.map(Fl),_=T.useRef(!0),j=T.useRef(b),R=ra(()=>new Map),A=T.useRef(new Set),[C,k]=T.useState(b),[L,V]=T.useState(b);Tc(()=>{_.current=!1,j.current=b;for(let q=0;q<L.length;q++){const te=Fl(L[q]);S.includes(te)?(R.delete(te),A.current.delete(te)):R.get(te)!==!0&&R.set(te,!1)}},[L,S.length,S.join("-")]);const Y=[];if(b!==C){let q=[...b];for(let te=0;te<L.length;te++){const he=L[te],ke=Fl(he);S.includes(ke)||(q.splice(te,0,he),Y.push(he))}return c==="wait"&&Y.length&&(q=Y),V(W0(q)),k(b),null}const{forceRender:F}=T.useContext(of);return h.jsx(h.Fragment,{children:L.map(q=>{const te=Fl(q),he=u&&!y?!1:b===L||S.includes(te),ke=()=>{if(A.current.has(te))return;if(A.current.add(te),R.has(te))R.set(te,!0);else return;let ye=!0;R.forEach(ot=>{ot||(ye=!1)}),ye&&(F?.(),V(j.current),u&&x?.(),r&&r())};return h.jsx(m5,{isPresent:he,initial:!_.current||a?void 0:!1,custom:t,presenceAffectsLayout:l,mode:c,root:g,onExitComplete:he?void 0:ke,anchorX:p,anchorY:m,children:q},te)})})},x1=T.createContext({strict:!1}),Y0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let K0=!1;function y5(){if(K0)return;const n={};for(const t in Y0)n[t]={isEnabled:a=>Y0[t].some(r=>!!a[r])};Kb(n),K0=!0}function S1(){return y5(),iT()}function v5(n){const t=S1();for(const a in n)t[a]={...t[a],...n[a]};Kb(t)}const b5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function xc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||b5.has(n)}let w1=n=>!xc(n);function x5(n){typeof n=="function"&&(w1=t=>t.startsWith("on")?!xc(t):n(t))}try{x5(require("@emotion/is-prop-valid").default)}catch{}function S5(n,t,a){const r={};for(const l in n)l==="values"&&typeof n.values=="object"||(w1(l)||a===!0&&xc(l)||!t&&!xc(l)||n.draggable&&l.startsWith("onDrag"))&&(r[l]=n[l]);return r}const Cc=T.createContext({});function w5(n,t){if(Ac(n)){const{initial:a,animate:r}=n;return{initial:a===!1||po(a)?a:void 0,animate:po(r)?r:void 0}}return n.inherit!==!1?t:{}}function _5(n){const{initial:t,animate:a}=w5(n,T.useContext(Cc));return T.useMemo(()=>({initial:t,animate:a}),[X0(t),X0(a)])}function X0(n){return Array.isArray(n)?n.join(" "):n}const Bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function _1(n,t,a){for(const r in t)!nn(t[r])&&!n1(r,a)&&(n[r]=t[r])}function T5({transformTemplate:n},t){return T.useMemo(()=>{const a=Bf();return zf(a,t,n),Object.assign({},a.vars,a.style)},[t])}function k5(n,t){const a=n.style||{},r={};return _1(r,a,n),Object.assign(r,T5(n,t)),r}function j5(n,t){const a={},r=k5(n,t);return n.drag&&n.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(a.tabIndex=0),a.style=r,a}const T1=()=>({...Bf(),attrs:{}});function A5(n,t,a,r){const l=T.useMemo(()=>{const c=T1();return i1(c,t,s1(r),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[t]);if(n.style){const c={};_1(c,n.style,n),l.style={...c,...l.style}}return l}const E5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Lf(n){return typeof n!="string"||n.includes("-")?!1:!!(E5.indexOf(n)>-1||/[A-Z]/u.test(n))}function C5(n,t,a,{latestValues:r},l,c=!1,u){const m=(u??Lf(n)?A5:j5)(t,r,l,n),g=S5(t,typeof n=="string",c),y=n!==T.Fragment?{...g,...m,ref:a}:{},{children:x}=t,b=T.useMemo(()=>nn(x)?x.get():x,[x]);return T.createElement(n,{...y,children:b})}function R5({scrapeMotionValuesFromProps:n,createRenderState:t},a,r,l){return{latestValues:O5(a,r,l,n),renderState:t()}}function O5(n,t,a,r){const l={},c=r(n,{});for(const b in c)l[b]=uc(c[b]);let{initial:u,animate:p}=n;const m=Ac(n),g=Wb(n);t&&g&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),p===void 0&&(p=t.animate));let y=a?a.initial===!1:!1;y=y||u===!1;const x=y?p:u;if(x&&typeof x!="boolean"&&!jc(x)){const b=Array.isArray(x)?x:[x];for(let S=0;S<b.length;S++){const _=kf(n,b[S]);if(_){const{transitionEnd:j,transition:R,...A}=_;for(const C in A){let k=A[C];if(Array.isArray(k)){const L=y?k.length-1:0;k=k[L]}k!==null&&(l[C]=k)}for(const C in j)l[C]=j[C]}}}return l}const k1=n=>(t,a)=>{const r=T.useContext(Cc),l=T.useContext(kc),c=()=>R5(n,t,r,l);return a?c():ra(c)},D5=k1({scrapeMotionValuesFromProps:Nf,createRenderState:Bf}),M5=k1({scrapeMotionValuesFromProps:r1,createRenderState:T1}),z5=Symbol.for("motionComponentSymbol");function N5(n,t,a){const r=T.useRef(a);T.useInsertionEffect(()=>{r.current=a});const l=T.useRef(null);return T.useCallback(c=>{c&&n.onMount?.(c),t&&(c?t.mount(c):t.unmount());const u=r.current;if(typeof u=="function")if(c){const p=u(c);typeof p=="function"&&(l.current=p)}else l.current?(l.current(),l.current=null):u(c);else u&&(u.current=c)},[t])}const j1=T.createContext({});function Bs(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function B5(n,t,a,r,l,c){const{visualElement:u}=T.useContext(Cc),p=T.useContext(x1),m=T.useContext(kc),g=T.useContext(Ec),y=g.reducedMotion,x=g.skipAnimations,b=T.useRef(null),S=T.useRef(!1);r=r||p.renderer,!b.current&&r&&(b.current=r(n,{visualState:t,parent:u,props:a,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:x,isSVG:c}),S.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const _=b.current,j=T.useContext(j1);_&&!_.projection&&l&&(_.type==="html"||_.type==="svg")&&L5(b.current,a,l,j);const R=T.useRef(!1);T.useInsertionEffect(()=>{_&&R.current&&_.update(a,m)});const A=a[Mb],C=T.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return Tc(()=>{S.current=!0,_&&(R.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),C.current&&_.animationState&&_.animationState.animateChanges())}),T.useEffect(()=>{_&&(!C.current&&_.animationState&&_.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),C.current=!1),_.enteringChildren=void 0)}),_}function L5(n,t,a,r){const{layoutId:l,layout:c,drag:u,dragConstraints:p,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new a(n.latestValues,t["data-framer-portal-id"]?void 0:A1(n.parent)),n.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||p&&Bs(p),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:y,layoutScroll:m,layoutRoot:g})}function A1(n){if(n)return n.options.allowProjection!==!1?n.projection:A1(n.parent)}function oh(n,{forwardMotionProps:t=!1,type:a}={},r,l){r&&v5(r);const c=a?a==="svg":Lf(n),u=c?M5:D5;function p(g,y){let x;const b={...T.useContext(Ec),...g,layoutId:U5(g)},{isStatic:S}=b,_=_5(g),j=u(g,S);if(!S&&Wv){P5();const R=I5(b);x=R.MeasureLayout,_.visualElement=B5(n,j,b,l,R.ProjectionNode,c)}return h.jsxs(Cc.Provider,{value:_,children:[x&&_.visualElement?h.jsx(x,{visualElement:_.visualElement,...b}):null,C5(n,g,N5(j,_.visualElement,y),j,S,t,c)]})}p.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=T.forwardRef(p);return m[z5]=n,m}function U5({layoutId:n}){const t=T.useContext(of).id;return t&&n!==void 0?t+"-"+n:n}function P5(n,t){T.useContext(x1).strict}function I5(n){const t=S1(),{drag:a,layout:r}=t;if(!a&&!r)return{};const l={...a,...r};return{MeasureLayout:a?.isEnabled(n)||r?.isEnabled(n)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}function V5(n,t){if(typeof Proxy>"u")return oh;const a=new Map,r=(c,u)=>oh(c,u,n,t),l=(c,u)=>r(c,u);return new Proxy(l,{get:(c,u)=>u==="create"?r:(a.has(u)||a.set(u,oh(u,void 0,n,t)),a.get(u))})}const $5=(n,t)=>t.isSVG??Lf(n)?new xT(t):new pT(t,{allowProjection:n!==T.Fragment});class H5 extends la{constructor(t){super(t),t.animationState||(t.animationState=kT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();jc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let q5=0;class G5 extends la{constructor(){super(...arguments),this.id=q5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const l=this.node.animationState.setActive("exit",!t);a&&!t&&l.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const F5={animation:{Feature:H5},exit:{Feature:G5}};function jo(n){return{point:{x:n.pageX,y:n.pageY}}}const W5=n=>t=>Rf(t)&&n(t,jo(t));function oo(n,t,a,r){return mo(n,t,W5(a),r)}const E1=({current:n})=>n?n.ownerDocument.defaultView:null,Q0=(n,t)=>Math.abs(n-t);function Y5(n,t){const a=Q0(n.x,t.x),r=Q0(n.y,t.y);return Math.sqrt(a**2+r**2)}const J0=new Set(["auto","scroll"]);class C1{constructor(t,a,{transformPagePoint:r,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3,element:p}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=ch(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,j=Y5(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!j)return;const{point:R}=S,{timestamp:A}=Qt;this.history.push({...R,timestamp:A});const{onStart:C,onMove:k}=this.handlers;_||(C&&C(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,S)},this.handlePointerMove=(S,_)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=lh(_,this.transformPagePoint),at.update(this.updatePoint,!0)},this.handlePointerUp=(S,_)=>{this.end();const{onEnd:j,onSessionEnd:R,resumeAnimation:A}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=ch(S.type==="pointercancel"?this.lastMoveEventInfo:lh(_,this.transformPagePoint),this.history);this.startEvent&&j&&j(S,C),R&&R(S,C)},!Rf(t))return;this.dragSnapToOrigin=c,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=l||window;const m=jo(t),g=lh(m,this.transformPagePoint),{point:y}=g,{timestamp:x}=Qt;this.history=[{...y,timestamp:x}];const{onSessionStart:b}=a;b&&b(t,ch(g,this.history)),this.removeListeners=_o(oo(this.contextWindow,"pointermove",this.handlePointerMove),oo(this.contextWindow,"pointerup",this.handlePointerUp),oo(this.contextWindow,"pointercancel",this.handlePointerUp)),p&&this.startScrollTracking(p)}startScrollTracking(t){let a=t.parentElement;for(;a;){const r=getComputedStyle(a);(J0.has(r.overflowX)||J0.has(r.overflowY))&&this.scrollPositions.set(a,{x:a.scrollLeft,y:a.scrollTop}),a=a.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const a=this.scrollPositions.get(t);if(!a)return;const r=t===window,l=r?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},c={x:l.x-a.x,y:l.y-a.y};c.x===0&&c.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(t,l),at.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ki(this.updatePoint)}}function lh(n,t){return t?{point:t(n.point)}:n}function Z0(n,t){return{x:n.x-t.x,y:n.y-t.y}}function ch({point:n},t){return{point:n,delta:Z0(n,R1(t)),offset:Z0(n,K5(t)),velocity:X5(t,.1)}}function K5(n){return n[0]}function R1(n){return n[n.length-1]}function X5(n,t){if(n.length<2)return{x:0,y:0};let a=n.length-1,r=null;const l=R1(n);for(;a>=0&&(r=n[a],!(l.timestamp-r.timestamp>Wn(t)));)a--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&l.timestamp-r.timestamp>Wn(t)*2&&(r=n[1]);const c=Nn(l.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(l.x-r.x)/c,y:(l.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Q5(n,{min:t,max:a},r){return t!==void 0&&n<t?n=r?xt(t,n,r.min):Math.max(n,t):a!==void 0&&n>a&&(n=r?xt(a,n,r.max):Math.min(n,a)),n}function ev(n,t,a){return{min:t!==void 0?n.min+t:void 0,max:a!==void 0?n.max+a-(n.max-n.min):void 0}}function J5(n,{top:t,left:a,bottom:r,right:l}){return{x:ev(n.x,a,l),y:ev(n.y,t,r)}}function tv(n,t){let a=t.min-n.min,r=t.max-n.max;return t.max-t.min<n.max-n.min&&([a,r]=[r,a]),{min:a,max:r}}function Z5(n,t){return{x:tv(n.x,t.x),y:tv(n.y,t.y)}}function ek(n,t){let a=.5;const r=ln(n),l=ln(t);return l>r?a=uo(t.min,t.max-r,n.min):r>l&&(a=uo(n.min,n.max-l,t.min)),ai(0,1,a)}function tk(n,t){const a={};return t.min!==void 0&&(a.min=t.min-n.min),t.max!==void 0&&(a.max=t.max-n.min),a}const qh=.35;function nk(n=qh){return n===!1?n=0:n===!0&&(n=qh),{x:nv(n,"left","right"),y:nv(n,"top","bottom")}}function nv(n,t,a){return{min:iv(n,t),max:iv(n,a)}}function iv(n,t){return typeof n=="number"?n:n[t]||0}const ik=new WeakMap;class ak{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=x=>{a&&this.snapToCursor(jo(x).point),this.stopAnimation()},u=(x,b)=>{const{drag:S,dragPropagation:_,onDragStart:j}=this.getProps();if(S&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=D_(S),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ti(A=>{let C=this.getAxisMotionValue(A).get()||0;if(ii.test(C)){const{projection:k}=this.visualElement;if(k&&k.layout){const L=k.layout.layoutBox[A];L&&(C=ln(L)*(parseFloat(C)/100))}}this.originPoint[A]=C}),j&&at.update(()=>j(x,b),!1,!0),Bh(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},p=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b;const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:j,onDrag:R}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:A}=b;if(_&&this.currentDirection===null){this.currentDirection=rk(A),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",b.point,A),this.updateAxis("y",b.point,A),this.visualElement.render(),R&&at.update(()=>R(x,b),!1,!0)},m=(x,b)=>{this.latestPointerEvent=x,this.latestPanInfo=b,this.stop(x,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:x}=this.getProps();(x||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new C1(t,{onSessionStart:c,onStart:u,onMove:p,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:r,contextWindow:E1(this.visualElement),element:this.visualElement.current})}stop(t,a){const r=t||this.latestPointerEvent,l=a||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!r)return;const{velocity:u}=l;this.startAnimation(u);const{onDragEnd:p}=this.getProps();p&&at.postRender(()=>p(r,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,a,r){const{drag:l}=this.getProps();if(!r||!Wl(t,l,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=Q5(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&Bs(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=J5(r.layoutBox,t):this.constraints=!1,this.elastic=nk(a),l!==this.constraints&&!Bs(t)&&r&&this.constraints&&!this.hasMutatedConstraints&&ti(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=tk(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Bs(t))return!1;const r=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=lT(r,l.root,this.visualElement.getTransformPagePoint());let u=Z5(l.layout.layoutBox,c);if(a){const p=a(sT(u));this.hasMutatedConstraints=!!p,p&&(u=Qb(p))}return u}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:l,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},g=ti(y=>{if(!Wl(y,a,this.currentDirection))return;let x=m&&m[y]||{};u&&(x={min:0,max:0});const b=l?200:1e6,S=l?40:1e7,_={type:"inertia",velocity:r?t[y]:0,bounceStiffness:b,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(y,_)});return Promise.all(g).then(p)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return Bh(this.visualElement,t),r.start(Tf(t,r,0,a,this.visualElement,!1))}stopAnimation(){ti(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),l=r[a];return l||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ti(a=>{const{drag:r}=this.getProps();if(!Wl(a,r,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(a);if(l&&l.layout){const{min:u,max:p}=l.layout.layoutBox[a],m=c.get()||0;c.set(t[a]-xt(u,p,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Bs(a)||!r||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};ti(u=>{const p=this.getAxisMotionValue(u);if(p&&this.constraints!==!1){const m=p.get();l[u]=ek({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ti(u=>{if(!Wl(u,t,null))return;const p=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];p.set(xt(m,g,l[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;ik.set(this.visualElement,this);const t=this.visualElement.current,a=oo(t,"pointerdown",g=>{const{drag:y,dragListener:x=!0}=this.getProps(),b=g.target,S=b!==t&&U_(b);y&&x&&!S&&this.start(g)});let r;const l=()=>{const{dragConstraints:g}=this.getProps();Bs(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),r||(r=sk(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,u=c.addEventListener("measure",l);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),at.read(l);const p=mo(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(ti(x=>{const b=this.getAxisMotionValue(x);b&&(this.originPoint[x]+=g[x].translate,b.set(b.get()+g[x].translate))}),this.visualElement.render())}));return()=>{p(),a(),u(),m&&m(),r&&r()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:u=qh,dragMomentum:p=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:l,dragConstraints:c,dragElastic:u,dragMomentum:p}}}function av(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function sk(n,t,a){const r=d0(n,av(a)),l=d0(t,av(a));return()=>{r(),l()}}function Wl(n,t,a){return(t===!0||t===n)&&(a===null||a===n)}function rk(n,t=10){let a=null;return Math.abs(n.y)>t?a="y":Math.abs(n.x)>t&&(a="x"),a}class ok extends la{constructor(t){super(t),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new ak(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}update(){const{dragControls:t}=this.node.getProps(),{dragControls:a}=this.node.prevProps||{};t!==a&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const uh=n=>(t,a)=>{n&&at.update(()=>n(t,a),!1,!0)};class lk extends la{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(t){this.session=new C1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:E1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:l}=this.node.getProps();return{onSessionStart:uh(t),onStart:uh(a),onMove:uh(r),onEnd:(c,u)=>{delete this.session,l&&at.postRender(()=>l(c,u))}}}mount(){this.removePointerDownListener=oo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let dh=!1;class ck extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:l}=this.props,{projection:c}=t;c&&(a.group&&a.group.add(c),r&&r.register&&l&&r.register(c),dh&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),dc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:l,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,t.layoutDependency!==a&&u.setOptions({...u.options,layoutDependency:a}),dh=!0,l||t.layoutDependency!==a||a===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||at.postRender(()=>{const p=u.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:l}=t;dh=!0,l&&(l.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(l),r&&r.deregister&&r.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O1(n){const[t,a]=b1(),r=T.useContext(of);return h.jsx(ck,{...n,layoutGroup:r,switchLayoutGroup:T.useContext(j1),isPresent:t,safeToRemove:a})}const uk={pan:{Feature:lk},drag:{Feature:ok,ProjectionNode:v1,MeasureLayout:O1}};function sv(n,t,a){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",a==="Start");const l="onHover"+a,c=r[l];c&&at.postRender(()=>c(t,jo(t)))}class dk extends la{mount(){const{current:t}=this.node;t&&(this.unmount=z_(t,(a,r)=>(sv(this.node,r,"Start"),l=>sv(this.node,l,"End"))))}unmount(){}}class hk extends la{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_o(mo(this.node.current,"focus",()=>this.onFocus()),mo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rv(n,t,a){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",a==="Start");const l="onTap"+(a==="End"?"":a),c=r[l];c&&at.postRender(()=>c(t,jo(t)))}class fk extends la{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:a,propagate:r}=this.node.props;this.unmount=I_(t,(l,c)=>(rv(this.node,c,"Start"),(u,{success:p})=>rv(this.node,u,p?"End":"Cancel")),{useGlobalTarget:a,stopPropagation:r?.tap===!1})}unmount(){}}const Gh=new WeakMap,hh=new WeakMap,pk=n=>{const t=Gh.get(n.target);t&&t(n)},mk=n=>{n.forEach(pk)};function gk({root:n,...t}){const a=n||document;hh.has(a)||hh.set(a,{});const r=hh.get(a),l=JSON.stringify(t);return r[l]||(r[l]=new IntersectionObserver(mk,{root:n,...t})),r[l]}function yk(n,t,a){const r=gk(t);return Gh.set(n,a),r.observe(n),()=>{Gh.delete(n),r.unobserve(n)}}const vk={some:0,all:1};class bk extends la{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:l="some",once:c}=t,u={root:a?a.current:void 0,rootMargin:r,threshold:typeof l=="number"?l:vk[l]},p=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:x}=this.node.getProps(),b=g?y:x;b&&b(m)};return yk(this.node.current,u,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(xk(t,a))&&this.startObserver()}unmount(){}}function xk({viewport:n={}},{viewport:t={}}={}){return a=>n[a]!==t[a]}const Sk={inView:{Feature:bk},tap:{Feature:fk},focus:{Feature:hk},hover:{Feature:dk}},wk={layout:{ProjectionNode:v1,MeasureLayout:O1}},_k={...F5,...Sk,...uk,...wk},Re=V5(_k,$5);function D1(n){const t=ra(()=>qa(n)),{isStatic:a}=T.useContext(Ec);if(a){const[,r]=T.useState(n);T.useEffect(()=>t.on("change",r),[])}return t}function M1(n,t){const a=D1(t()),r=()=>a.set(t());return r(),Tc(()=>{const l=()=>at.preRender(r,!1,!0),c=n.map(u=>u.on("change",l));return()=>{c.forEach(u=>u()),ki(r)}}),a}function Tk(n){so.current=[],n();const t=M1(so.current,n);return so.current=void 0,t}function to(n,t,a,r){if(typeof n=="function")return Tk(n);if(a!==void 0&&!Array.isArray(a)&&typeof t!="function")return kk(n,t,a,r);const u=typeof t=="function"?t:X_(t,a,r),p=Array.isArray(n)?ov(n,u):ov([n],([g])=>u(g)),m=Array.isArray(n)?void 0:n.accelerate;return m&&!m.isTransformed&&typeof t!="function"&&Array.isArray(a)&&r?.clamp!==!1&&(p.accelerate={...m,times:t,keyframes:a,isTransformed:!0}),p}function ov(n,t){const a=ra(()=>[]);return M1(n,()=>{a.length=0;const r=n.length;for(let l=0;l<r;l++)a[l]=n[l].get();return t(a)})}function kk(n,t,a,r){const l=ra(()=>Object.keys(a)),c=ra(()=>({}));for(const u of l)c[u]=to(n,t,a[u],r);return c}function jk(n){n.values.forEach(t=>t.stop())}function Fh(n,t){[...t].reverse().forEach(r=>{const l=n.getVariant(r);l&&jf(n,l),n.variantChildren&&n.variantChildren.forEach(c=>{Fh(c,t)})})}function Ak(n,t){if(Array.isArray(t))return Fh(n,t);if(typeof t=="string")return Fh(n,[t]);jf(n,t)}function Ek(){const n=new Set,t={subscribe(a){return n.add(a),()=>{n.delete(a)}},start(a,r){const l=[];return n.forEach(c=>{l.push(Bb(c,a,{transitionOverride:r}))}),Promise.all(l)},set(a){return n.forEach(r=>{Ak(r,a)})},stop(){n.forEach(a=>{jk(a)})},mount(){return()=>{t.stop()}}};return t}function Ck(){const n=ra(Ek);return Tc(n.mount,[]),n}const Rk=Ck;function Rc(n,t){var a={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(a[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(n);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(n,r[l])&&(a[r[l]]=n[r[l]]);return a}function Ok(n,t,a,r){function l(c){return c instanceof a?c:new a(function(u){u(c)})}return new(a||(a=Promise))(function(c,u){function p(y){try{g(r.next(y))}catch(x){u(x)}}function m(y){try{g(r.throw(y))}catch(x){u(x)}}function g(y){y.done?c(y.value):l(y.value).then(p,m)}g((r=r.apply(n,t||[])).next())})}const Dk=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Uf extends Error{constructor(t,a="FunctionsError",r){super(t),this.name=a,this.context=r}}class Mk extends Uf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class lv extends Uf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class cv extends Uf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Wh;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Wh||(Wh={}));class zk{constructor(t,{headers:a={},customFetch:r,region:l=Wh.Any}={}){this.url=t,this.headers=a,this.region=l,this.fetch=Dk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ok(this,arguments,void 0,function*(a,r={}){var l;let c,u;try{const{headers:p,method:m,body:g,signal:y,timeout:x}=r;let b={},{region:S}=r;S||(S=this.region);const _=new URL(`${this.url}/${a}`);S&&S!=="any"&&(b["x-region"]=S,_.searchParams.set("forceFunctionRegion",S));let j;g&&(p&&!Object.prototype.hasOwnProperty.call(p,"Content-Type")||!p)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",j=g):typeof g=="string"?(b["Content-Type"]="text/plain",j=g):typeof FormData<"u"&&g instanceof FormData?j=g:(b["Content-Type"]="application/json",j=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?j=JSON.stringify(g):j=g;let R=y;x&&(u=new AbortController,c=setTimeout(()=>u.abort(),x),y?(R=u.signal,y.addEventListener("abort",()=>u.abort())):R=u.signal);const A=yield this.fetch(_.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),p),body:j,signal:R}).catch(V=>{throw new Mk(V)}),C=A.headers.get("x-relay-error");if(C&&C==="true")throw new lv(A);if(!A.ok)throw new cv(A);let k=((l=A.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),L;return k==="application/json"?L=yield A.json():k==="application/octet-stream"||k==="application/pdf"?L=yield A.blob():k==="text/event-stream"?L=A:k==="multipart/form-data"?L=yield A.formData():L=yield A.text(),{data:L,error:null,response:A}}catch(p){return{data:null,error:p,response:p instanceof cv||p instanceof lv?p.context:void 0}}finally{c&&clearTimeout(c)}})}}var Nk=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Bk=class{constructor(n){var t,a,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(r=n.urlLengthLimit)!==null&&r!==void 0?r:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let l=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let u=null,p=null,m=null,g=c.status,y=c.statusText;if(c.ok){var x,b;if(a.method!=="HEAD"){var S;const A=await c.text();A===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((S=a.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?p=A:p=JSON.parse(A))}const j=(x=a.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),R=(b=c.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");j&&R&&R.length>1&&(m=parseInt(R[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(p)&&(p.length>1?(u={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,y="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{var _;const j=await c.text();try{u=JSON.parse(j),Array.isArray(u)&&c.status===404&&(p=[],u=null,g=200,y="OK")}catch{c.status===404&&j===""?(g=204,y="No Content"):u={message:j}}if(u&&a.isMaybeSingle&&(!(u==null||(_=u.details)===null||_===void 0)&&_.includes("0 rows"))&&(u=null,g=200,y="OK"),u&&a.shouldThrowOnError)throw new Nk(u)}return{error:u,data:p,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(l=l.catch(c=>{var u;let p="",m="",g="";const y=c?.cause;if(y){var x,b,S,_;const A=(x=y?.message)!==null&&x!==void 0?x:"",C=(b=y?.code)!==null&&b!==void 0?b:"";p=`${(S=c?.name)!==null&&S!==void 0?S:"FetchError"}: ${c?.message}`,p+=`

Caused by: ${(_=y?.name)!==null&&_!==void 0?_:"Error"}: ${A}`,C&&(p+=` (${C})`),y?.stack&&(p+=`
${y.stack}`)}else{var j;p=(j=c?.stack)!==null&&j!==void 0?j:""}const R=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(g="",m="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(y?.name==="HeadersOverflowError"||y?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",m="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(m+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:p,hint:m,code:g},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},Lk=class extends Bk{select(n){let t=!1;const a=(n??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:a,foreignTable:r,referencedTable:l=r}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:a=t}={}){const r=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,t,{foreignTable:a,referencedTable:r=a}={}){const l=typeof r>"u"?"offset":`${r}.offset`,c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:a=!1,buffers:r=!1,wal:l=!1,format:c="text"}={}){var u;const p=[n?"analyze":null,t?"verbose":null,a?"settings":null,r?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${p};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const uv=new RegExp("[,()]");var Ls=class extends Lk{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const a=Array.from(new Set(t)).map(r=>typeof r=="string"&&uv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${a})`),this}notIn(n,t){const a=Array.from(new Set(t)).map(r=>typeof r=="string"&&uv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${a})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:a,type:r}={}){let l="";r==="plain"?l="pl":r==="phrase"?l="ph":r==="websearch"&&(l="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(n,`${l}fts${c}.${t}`),this}match(n){return Object.entries(n).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(n,t,a){return this.url.searchParams.append(n,`not.${t}.${a}`),this}or(n,{foreignTable:t,referencedTable:a=t}={}){const r=a?`${a}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,t,a){return this.url.searchParams.append(n,`${t}.${a}`),this}},Uk=class{constructor(n,{headers:t={},schema:a,fetch:r,urlLengthLimit:l=8e3}){this.url=n,this.headers=new Headers(t),this.schema=a,this.fetch=r,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:a=!1,count:r}=t??{},l=a?"HEAD":"GET";let c=!1;const u=(n??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:p,headers:m}=this.cloneRequestState();return p.searchParams.set("select",u),r&&m.append("Prefer",`count=${r}`),new Ls({method:l,url:p,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:t,defaultToNull:a=!0}={}){var r;const l="POST",{url:c,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),a||u.append("Prefer","missing=default"),Array.isArray(n)){const p=n.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);c.searchParams.set("columns",m.join(","))}}return new Ls({method:l,url:c,headers:u,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:t,ignoreDuplicates:a=!1,count:r,defaultToNull:l=!0}={}){var c;const u="POST",{url:p,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&p.searchParams.set("on_conflict",t),r&&m.append("Prefer",`count=${r}`),l||m.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((y,x)=>y.concat(Object.keys(x)),[]);if(g.length>0){const y=[...new Set(g)].map(x=>`"${x}"`);p.searchParams.set("columns",y.join(","))}}return new Ls({method:u,url:p,headers:m,schema:this.schema,body:n,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:t}={}){var a;const r="PATCH",{url:l,headers:c}=this.cloneRequestState();return t&&c.append("Prefer",`count=${t}`),new Ls({method:r,url:l,headers:c,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var t;const a="DELETE",{url:r,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new Ls({method:a,url:r,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function go(n){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(n)}function Pk(n,t){if(go(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,t);if(go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function Ik(n){var t=Pk(n,"string");return go(t)=="symbol"?t:t+""}function Vk(n,t,a){return(t=Ik(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function dv(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,r)}return a}function Yl(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dv(Object(a),!0).forEach(function(r){Vk(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):dv(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}var $k=class z1{constructor(t,{headers:a={},schema:r,fetch:l,timeout:c,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=r,this.urlLengthLimit=u;const p=l??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,g)=>{const y=new AbortController,x=setTimeout(()=>y.abort(),c),b=g?.signal;if(b){if(b.aborted)return clearTimeout(x),p(m,g);const S=()=>{clearTimeout(x),y.abort()};return b.addEventListener("abort",S,{once:!0}),p(m,Yl(Yl({},g),{},{signal:y.signal})).finally(()=>{clearTimeout(x),b.removeEventListener("abort",S)})}return p(m,Yl(Yl({},g),{},{signal:y.signal})).finally(()=>clearTimeout(x))}:this.fetch=p}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Uk(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new z1(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:r=!1,get:l=!1,count:c}={}){var u;let p;const m=new URL(`${this.url}/rpc/${t}`);let g;const y=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(y)),x=r&&Object.values(a).some(y);x?(p="POST",g=a):r||l?(p=r?"HEAD":"GET",Object.entries(a).filter(([S,_])=>_!==void 0).map(([S,_])=>[S,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([S,_])=>{m.searchParams.append(S,_)})):(p="POST",g=a);const b=new Headers(this.headers);return x?b.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&b.set("Prefer",`count=${c}`),new Ls({method:p,url:m,headers:b,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class Hk{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const r=a.versions;if(r&&r.node){const l=r.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const r=this.getWebSocketConstructor();return new r(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qk="2.95.3",Gk=`realtime-js/${qk}`,Fk="1.0.0",N1="2.0.0",hv=N1,Yh=1e4,Wk=1e3,Yk=100;var ia;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ia||(ia={}));var It;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(It||(It={}));var Fn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Fn||(Fn={}));var Kh;(function(n){n.websocket="websocket"})(Kh||(Kh={}));var Ua;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ua||(Ua={}));class Kk{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,r;const l=(r=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var a,r;const l=(r=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&r!==void 0?r:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,a,r){var l,c;const u=t.topic,p=(l=t.ref)!==null&&l!==void 0?l:"",m=(c=t.join_ref)!==null&&c!==void 0?c:"",g=t.payload.event,y=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},x=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`ref length ${p.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+p.length+u.length+g.length+x.length,S=new ArrayBuffer(this.HEADER_LENGTH+b);let _=new DataView(S),j=0;_.setUint8(j++,this.KINDS.userBroadcastPush),_.setUint8(j++,m.length),_.setUint8(j++,p.length),_.setUint8(j++,u.length),_.setUint8(j++,g.length),_.setUint8(j++,x.length),_.setUint8(j++,a),Array.from(m,A=>_.setUint8(j++,A.charCodeAt(0))),Array.from(p,A=>_.setUint8(j++,A.charCodeAt(0))),Array.from(u,A=>_.setUint8(j++,A.charCodeAt(0))),Array.from(g,A=>_.setUint8(j++,A.charCodeAt(0))),Array.from(x,A=>_.setUint8(j++,A.charCodeAt(0)));var R=new Uint8Array(S.byteLength+r.byteLength);return R.set(new Uint8Array(S),0),R.set(new Uint8Array(r),S.byteLength),R.buffer}decode(t,a){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return a(r)}if(typeof t=="string"){const r=JSON.parse(t),[l,c,u,p,m]=r;return a({join_ref:l,ref:c,topic:u,event:p,payload:m})}return a({})}_binaryDecode(t){const a=new DataView(t),r=a.getUint8(0),l=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,a,l)}_decodeUserBroadcast(t,a,r){const l=a.getUint8(1),c=a.getUint8(2),u=a.getUint8(3),p=a.getUint8(4);let m=this.HEADER_LENGTH+4;const g=r.decode(t.slice(m,m+l));m=m+l;const y=r.decode(t.slice(m,m+c));m=m+c;const x=r.decode(t.slice(m,m+u));m=m+u;const b=t.slice(m,t.byteLength),S=p===this.JSON_ENCODING?JSON.parse(r.decode(b)):b,_={type:this.BROADCAST_EVENT,event:y,payload:S};return u>0&&(_.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:_}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>a.includes(r)))}}class B1{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(rt||(rt={}));const fv=(n,t,a={})=>{var r;const l=(r=a.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((c,u)=>(c[u]=Xk(u,n,t,l),c),{}):{}},Xk=(n,t,a,r)=>{const l=t.find(p=>p.name===n),c=l?.type,u=a[n];return c&&!r.includes(c)?L1(c,u):Xh(u)},L1=(n,t)=>{if(n.charAt(0)==="_"){const a=n.slice(1,n.length);return ej(t,a)}switch(n){case rt.bool:return Qk(t);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return Jk(t);case rt.json:case rt.jsonb:return Zk(t);case rt.timestamp:return tj(t);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Xh(t);default:return Xh(t)}},Xh=n=>n,Qk=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Jk=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Zk=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},ej=(n,t)=>{if(typeof n!="string")return n;const a=n.length-1,r=n[a];if(n[0]==="{"&&r==="}"){let c;const u=n.slice(1,a);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(p=>L1(t,p))}return n},tj=n=>typeof n=="string"?n.replace(" ","T"):n,U1=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class fh{constructor(t,a,r={},l=Yh){this.channel=t,this.event=a,this.payload=r,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var r;return this._hasReceived(t)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(pv||(pv={}));class lo{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},l=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lo.syncState(this.state,l,c,u),this.pendingDiffs.forEach(m=>{this.state=lo.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],p()}),this.channel._on(r.diff,{},l=>{const{onJoin:c,onLeave:u,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=lo.syncDiff(this.state,l,c,u),p())}),this.onJoin((l,c,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:u})}),this.onLeave((l,c,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,r,l){const c=this.cloneDeep(t),u=this.transformState(a),p={},m={};return this.map(c,(g,y)=>{u[g]||(m[g]=y)}),this.map(u,(g,y)=>{const x=c[g];if(x){const b=y.map(R=>R.presence_ref),S=x.map(R=>R.presence_ref),_=y.filter(R=>S.indexOf(R.presence_ref)<0),j=x.filter(R=>b.indexOf(R.presence_ref)<0);_.length>0&&(p[g]=_),j.length>0&&(m[g]=j)}else p[g]=y}),this.syncDiff(c,{joins:p,leaves:m},r,l)}static syncDiff(t,a,r,l){const{joins:c,leaves:u}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),l||(l=()=>{}),this.map(c,(p,m)=>{var g;const y=(g=t[p])!==null&&g!==void 0?g:[];if(t[p]=this.cloneDeep(m),y.length>0){const x=t[p].map(S=>S.presence_ref),b=y.filter(S=>x.indexOf(S.presence_ref)<0);t[p].unshift(...b)}r(p,y,m)}),this.map(u,(p,m)=>{let g=t[p];if(!g)return;const y=m.map(x=>x.presence_ref);g=g.filter(x=>y.indexOf(x.presence_ref)<0),t[p]=g,l(p,g,m),g.length===0&&delete t[p]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(r=>a(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,r)=>{const l=t[r];return"metas"in l?a[r]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[r]=l,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(mv||(mv={}));var co;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(co||(co={}));var _i;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(_i||(_i={}));class Fs{constructor(t,a={config:{}},r){var l,c;if(this.topic=t,this.params=a,this.socket=r,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new fh(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new B1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(u,p)=>{this._trigger(this._replyEventName(p),u)}),this.presence=new lo(this),this.broadcastEndpointURL=U1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var r,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==It.closed){const{config:{broadcast:u,presence:p,private:m}}=this.params,g=(l=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[co.PRESENCE]&&this.bindings[co.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,x={},b={broadcast:u,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(S=>t?.(_i.CHANNEL_ERROR,S)),this._onClose(()=>t?.(_i.CLOSED)),this.updateJoinPayload(Object.assign({config:b},x)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:S})=>{var _;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t?.(_i.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,R=(_=j?.length)!==null&&_!==void 0?_:0,A=[];for(let C=0;C<R;C++){const k=j[C],{filter:{event:L,schema:V,table:Y,filter:F}}=k,q=S&&S[C];if(q&&q.event===L&&Fs.isFilterValueEqual(q.schema,V)&&Fs.isFilterValueEqual(q.table,Y)&&Fs.isFilterValueEqual(q.filter,F))A.push(Object.assign(Object.assign({},k),{id:q.id}));else{this.unsubscribe(),this.state=It.errored,t?.(_i.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(_i.SUBSCRIBED);return}}).receive("error",S=>{this.state=It.errored,t?.(_i.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t?.(_i.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,r){return this.state===It.joined&&t===co.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,r)}async httpSend(t,a,r={}){var l;if(a==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},p=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);if(p.status===202)return{success:!0};let m=p.statusText;try{const g=await p.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(t,a={}){var r,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:u}=t,p={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(p.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:p,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,p,m;const g=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(p=(u=this.params)===null||u===void 0?void 0:u.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(l=>{r=new fh(this,Fn.leave,{},t),r.receive("ok",()=>{a(),l("ok")}).receive("timeout",()=>{a(),l("timed out")}).receive("error",()=>{l("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=It.closed,this.bindings={}}async _fetchWithTimeout(t,a,r){const l=new AbortController,c=setTimeout(()=>l.abort(),r),u=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:l.signal}));return clearTimeout(c),u}_push(t,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new fh(this,t,a,r);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Yk){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,r){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,r){var l,c;const u=t.toLocaleLowerCase(),{close:p,error:m,leave:g,join:y}=Fn;if(r&&[p,m,g,y].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,a,r);if(a&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var _,j,R;return((_=S.filter)===null||_===void 0?void 0:_.event)==="*"||((R=(j=S.filter)===null||j===void 0?void 0:j.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===u}).map(S=>S.callback(b,r)):(c=this.bindings[u])===null||c===void 0||c.filter(S=>{var _,j,R,A,C,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in S){const L=S.id,V=(_=S.filter)===null||_===void 0?void 0:_.event;return L&&((j=a.ids)===null||j===void 0?void 0:j.includes(L))&&(V==="*"||V?.toLocaleLowerCase()===((R=a.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const L=(C=(A=S?.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return L==="*"||L===((k=a?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===u}).map(S=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:j,table:R,commit_timestamp:A,type:C,errors:k}=_;b=Object.assign(Object.assign({},{schema:j,table:R,commit_timestamp:A,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(_))}S.callback(b,r)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,r){const l=t.toLocaleLowerCase(),c={type:l,filter:a,callback:r};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(t,a){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Fs.isEqual(l.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fn.close,{},t)}_onError(t){this._on(Fn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=fv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=fv(t.columns,t.old_record)),a}}const ph=()=>{},Kl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},nj=[1e3,2e3,5e3,1e4],ij=1e4,aj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sj{constructor(t,a){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yh,this.transport=null,this.heartbeatIntervalMs=Kl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ph,this.ref=0,this.reconnectTimer=null,this.vsn=hv,this.logger=ph,this.conn=null,this.sendBuffer=[],this.serializer=new Kk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((r=a?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Kh.websocket}`,this.httpEndpoint=U1(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hk.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return a==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,r){this.logger(t,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ia.connecting:return Ua.Connecting;case ia.open:return Ua.Open;case ia.closing:return Ua.Closing;default:return Ua.Closed}}isConnected(){return this.connectionState()===Ua.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const r=`realtime:${t}`,l=this.getChannels().find(c=>c.topic===r);if(l)return l;{const c=new Fs(`realtime:${t}`,a,this);return this.channels.push(c),c}}push(t){const{topic:a,event:r,payload:l,ref:c}=t,u=()=>{this.encode(t,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${a} ${r} (${c})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Wk,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Kl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",g)}catch(y){this.log("error","error in heartbeat callback",y)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:l,payload:c,ref:u}=a,p=u?`(${u})`:"",m=c.status||"";this.log("receive",`${m} ${r} ${l} ${p}`.trim(),c),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(l,c,u)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ia.open||this.conn.readyState===ia.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const r=t.match(/\?/)?"&":"?",l=new URLSearchParams(a);return`${t}${r}${l}`}_workerObjectUrl(t){let a;if(t)a=t;else{const r=new Blob([aj],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,r=!1;if(t)a=t,r=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),a=this.accessTokenValue}else a=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const c={access_token:a,version:Gk};a&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Fn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(a)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new B1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Kl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,r,l,c,u,p,m,g,y,x,b,S;switch(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Yh,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:Kl.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(p=t?.heartbeatCallback)!==null&&p!==void 0?p:ph,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:hv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>nj[_-1]||ij),this.vsn){case Fk:this.encode=(y=t?.encode)!==null&&y!==void 0?y:((_,j)=>j(JSON.stringify(_))),this.decode=(x=t?.decode)!==null&&x!==void 0?x:((_,j)=>j(JSON.parse(_)));break;case N1:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(S=t?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var yo=class extends Error{constructor(n,t){super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function rj(n,t,a){const r=new URL(t,n);if(a)for(const[l,c]of Object.entries(a))c!==void 0&&r.searchParams.set(l,c);return r.toString()}async function oj(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function lj(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:a,path:r,query:l,body:c,headers:u}){const p=rj(n.baseUrl,r,l),m=await oj(n.auth),g=await t(p,{method:a,headers:{...c?{"Content-Type":"application/json"}:{},...m,...u},body:c?JSON.stringify(c):void 0}),y=await g.text(),x=(g.headers.get("content-type")||"").includes("application/json"),b=x&&y?JSON.parse(y):y;if(!g.ok){const S=x?b:void 0,_=S?.error;throw new yo(_?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:_?.type,icebergCode:_?.code,details:S})}return{status:g.status,headers:g.headers,data:b}}}}function Xl(n){return n.join("")}var cj=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Xl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,t){const a={namespace:n.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xl(n.namespace)}`}),!0}catch(t){if(t instanceof yo&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(a){if(a instanceof yo&&a.status===409)return;throw a}}};function Cs(n){return n.join("")}var uj=class{constructor(n,t="",a){this.client=n,this.prefix=t,this.accessDelegation=a}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(n,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cs(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(a){if(a instanceof yo&&a.status===404)return!1;throw a}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(a){if(a instanceof yo&&a.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw a}}},dj=class{constructor(n){let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const a=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=lj({baseUrl:a,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new cj(this.client,t),this.tableOps=new uj(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Oc=class extends Error{constructor(n,t="storage",a,r){super(n),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=r}};function Dc(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Ql=class extends Oc{constructor(n,t,a,r="storage"){super(n,r,t,a),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},P1=class extends Oc{constructor(n,t,a="storage"){super(n,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const hj=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),fj=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Qh=n=>{if(Array.isArray(n))return n.map(a=>Qh(a));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([a,r])=>{const l=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[l]=Qh(r)}),t},pj=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function vo(n){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(n)}function mj(n,t){if(vo(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,t);if(vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gj(n){var t=mj(n,"string");return vo(t)=="symbol"?t:t+""}function yj(n,t,a){return(t=gj(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function gv(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,r)}return a}function me(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gv(Object(a),!0).forEach(function(r){yj(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):gv(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}const yv=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},vj=async(n,t,a,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!a?.noResolveJson){const l=n,c=l.status||500;if(typeof l.json=="function")l.json().then(u=>{const p=u?.statusCode||u?.code||c+"";t(new Ql(yv(u),c,p,r))}).catch(()=>{if(r==="vectors"){const u=c+"";t(new Ql(l.statusText||`HTTP ${c} error`,c,u,r))}else{const u=c+"";t(new Ql(l.statusText||`HTTP ${c} error`,c,u,r))}});else{const u=c+"";t(new Ql(l.statusText||`HTTP ${c} error`,c,u,r))}}else t(new P1(yv(n),n,r))},bj=(n,t,a,r)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"||n==="HEAD"||!r?me(me({},l),a):(fj(r)?(l.headers=me({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(r)):l.body=r,t?.duplex&&(l.duplex=t.duplex),me(me({},l),a))};async function Jr(n,t,a,r,l,c,u){return new Promise((p,m)=>{n(a,bj(t,r,l,c)).then(g=>{if(!g.ok)throw g;if(r?.noResolveJson)return g;if(u==="vectors"){const y=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!y||!y.includes("application/json"))return{}}return g.json()}).then(g=>p(g)).catch(g=>vj(g,m,r,u))})}function I1(n="storage"){return{get:async(t,a,r,l)=>Jr(t,"GET",a,r,l,void 0,n),post:async(t,a,r,l,c)=>Jr(t,"POST",a,l,c,r,n),put:async(t,a,r,l,c)=>Jr(t,"PUT",a,l,c,r,n),head:async(t,a,r,l)=>Jr(t,"HEAD",a,me(me({},r),{},{noResolveJson:!0}),l,void 0,n),remove:async(t,a,r,l,c)=>Jr(t,"DELETE",a,l,c,r,n)}}const xj=I1("storage"),{get:bo,post:Gn,put:Jh,head:Sj,remove:Pf}=xj,Tn=I1("vectors");var tr=class{constructor(n,t={},a,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.fetch=hj(a),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var t=this;try{return{data:await n(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Dc(a))return{data:null,error:a};throw a}}},wj=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Dc(t))return{data:null,error:t};throw t}}};let V1;V1=Symbol.toStringTag;var _j=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[V1]="BlobDownloadBuilder",this.promise=null}asStream(){return new wj(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Dc(t))return{data:null,error:t};throw t}}};const Tj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var kj=class extends tr{constructor(n,t={},a,r){super(n,t,r,"storage"),this.bucketId=a}async uploadOrUpdate(n,t,a,r){var l=this;return l.handleOperation(async()=>{let c;const u=me(me({},vv),r);let p=me(me({},l.headers),n==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.has("cacheControl")||c.append("cacheControl",u.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=a,p["cache-control"]=`max-age=${u.cacheControl}`,p["content-type"]=u.contentType,m&&(p["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!u.duplex&&(u.duplex="half")),r?.headers&&(p=me(me({},p),r.headers));const g=l._removeEmptyFolders(t),y=l._getFinalPath(g),x=await(n=="PUT"?Jh:Gn)(l.fetch,`${l.url}/object/${y}`,c,me({headers:p},u?.duplex?{duplex:u.duplex}:{}));return{path:g,id:x.Id,fullPath:x.Key}})}async upload(n,t,a){return this.uploadOrUpdate("POST",n,t,a)}async uploadToSignedUrl(n,t,a,r){var l=this;const c=l._removeEmptyFolders(n),u=l._getFinalPath(c),p=new URL(l.url+`/object/upload/sign/${u}`);return p.searchParams.set("token",t),l.handleOperation(async()=>{let m;const g=me({upsert:vv.upsert},r),y=me(me({},l.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",g.cacheControl)):(m=a,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{path:c,fullPath:(await Jh(l.fetch,p.toString(),m,{headers:y})).Key}})}async createSignedUploadUrl(n,t){var a=this;return a.handleOperation(async()=>{let r=a._getFinalPath(n);const l=me({},a.headers);t?.upsert&&(l["x-upsert"]="true");const c=await Gn(a.fetch,`${a.url}/object/upload/sign/${r}`,{},{headers:l}),u=new URL(a.url+c.url),p=u.searchParams.get("token");if(!p)throw new Oc("No token returned by API");return{signedUrl:u.toString(),path:n,token:p}})}async update(n,t,a){return this.uploadOrUpdate("PUT",n,t,a)}async move(n,t,a){var r=this;return r.handleOperation(async()=>await Gn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:r.headers}))}async copy(n,t,a){var r=this;return r.handleOperation(async()=>({path:(await Gn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,t,a){var r=this;return r.handleOperation(async()=>{let l=r._getFinalPath(n),c=await Gn(r.fetch,`${r.url}/object/sign/${l}`,me({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:r.headers});const u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${r.url}${c.signedURL}${u}`)}})}async createSignedUrls(n,t,a){var r=this;return r.handleOperation(async()=>{const l=await Gn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:n},{headers:r.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return l.map(u=>me(me({},u),{},{signedUrl:u.signedURL?encodeURI(`${r.url}${u.signedURL}${c}`):null}))})}download(n,t,a){const r=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),c=l?`?${l}`:"",u=this._getFinalPath(n),p=()=>bo(this.fetch,`${this.url}/${r}/${u}${c}`,{headers:this.headers,noResolveJson:!0},a);return new _j(p,this.shouldThrowOnError)}async info(n){var t=this;const a=t._getFinalPath(n);return t.handleOperation(async()=>Qh(await bo(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(n){var t=this;const a=t._getFinalPath(n);try{return await Sj(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Dc(r)&&r instanceof P1){const l=r.originalError;if([400,404].includes(l?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,t){const a=this._getFinalPath(n),r=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&r.push(l);const c=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&r.push(u);let p=r.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${a}${p}`)}}}async remove(n){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}))}async list(n,t,a){var r=this;return r.handleOperation(async()=>{const l=me(me(me({},Tj),t),{},{prefix:n||""});return await Gn(r.fetch,`${r.url}/object/list/${r.bucketId}`,l,{headers:r.headers},a)})}async listV2(n,t){var a=this;return a.handleOperation(async()=>{const r=me({},n);return await Gn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,r,{headers:a.headers},t)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const jj="2.95.3",Ao={"X-Client-Info":`storage-js/${jj}`};var Aj=class extends tr{constructor(n,t={},a,r){const l=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const c=l.href.replace(/\/$/,""),u=me(me({},Ao),t);super(c,u,a,"storage")}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(n);return await bo(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(n){var t=this;return t.handleOperation(async()=>await bo(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}))}async createBucket(n,t={public:!1}){var a=this;return a.handleOperation(async()=>await Gn(a.fetch,`${a.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(n,t){var a=this;return a.handleOperation(async()=>await Jh(a.fetch,`${a.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(n){var t=this;return t.handleOperation(async()=>await Gn(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ej=class extends tr{constructor(n,t={},a){const r=n.replace(/\/$/,""),l=me(me({},Ao),t);super(r,l,a,"storage")}async createBucket(n){var t=this;return t.handleOperation(async()=>await Gn(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}))}async listBuckets(n){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;n?.limit!==void 0&&a.set("limit",n.limit.toString()),n?.offset!==void 0&&a.set("offset",n.offset.toString()),n?.sortColumn&&a.set("sortColumn",n.sortColumn),n?.sortOrder&&a.set("sortOrder",n.sortOrder),n?.search&&a.set("search",n.search);const r=a.toString(),l=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await bo(t.fetch,l,{headers:t.headers})})}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Pf(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}))}from(n){var t=this;if(!pj(n))throw new Oc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new dj({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(a,{get(l,c){const u=l[c];return typeof u!="function"?u:async(...p)=>{try{return{data:await u.apply(l,p),error:null}}catch(m){if(r)throw m;return{data:null,error:m}}}}})}},Cj=class extends tr{constructor(n,t={},a){const r=n.replace(/\/$/,""),l=me(me({},Ao),{},{"Content-Type":"application/json"},t);super(r,l,a,"vectors")}async createIndex(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{})}async getIndex(n,t){var a=this;return a.handleOperation(async()=>await Tn.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers}))}async listIndexes(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}))}async deleteIndex(n,t){var a=this;return a.handleOperation(async()=>await Tn.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:a.headers})||{})}},Rj=class extends tr{constructor(n,t={},a){const r=n.replace(/\/$/,""),l=me(me({},Ao),{},{"Content-Type":"application/json"},t);super(r,l,a,"vectors")}async putVectors(n){var t=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{})}async getVectors(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}))}async listVectors(n){var t=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}))}async queryVectors(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}))}async deleteVectors(n){var t=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{})}},Oj=class extends tr{constructor(n,t={},a){const r=n.replace(/\/$/,""),l=me(me({},Ao),{},{"Content-Type":"application/json"},t);super(r,l,a,"vectors")}async createBucket(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}async getBucket(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}))}async listBuckets(n={}){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}))}async deleteBucket(n){var t=this;return t.handleOperation(async()=>await Tn.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{})}},Dj=class extends Oj{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new Mj(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,a=this;return t().call(a,n)}async getBucket(n){var t=()=>super.getBucket,a=this;return t().call(a,n)}async listBuckets(n={}){var t=()=>super.listBuckets,a=this;return t().call(a,n)}async deleteBucket(n){var t=()=>super.deleteBucket,a=this;return t().call(a,n)}},Mj=class extends Cj{constructor(n,t,a,r){super(n,t,r),this.vectorBucketName=a}async createIndex(n){var t=()=>super.createIndex,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,n)}index(n){return new zj(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},zj=class extends Rj{constructor(n,t,a,r,l){super(n,t,l),this.vectorBucketName=a,this.indexName=r}async putVectors(n){var t=()=>super.putVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(n){var t=()=>super.getVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,a=this;return t().call(a,me(me({},n),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},Nj=class extends Aj{constructor(n,t={},a,r){super(n,t,a,r)}from(n){return new kj(this.url,this.headers,n,this.fetch)}get vectors(){return new Dj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ej(this.url+"/iceberg",this.headers,this.fetch)}};const $1="2.95.3",Us=30*1e3,Zh=3,mh=Zh*Us,Bj="http://localhost:9999",Lj="supabase.auth.token",Uj={"X-Client-Info":`gotrue-js/${$1}`},ef="X-Supabase-Api-Version",H1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ij=600*1e3;class xo extends Error{constructor(t,a,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function oe(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class Vj extends xo{constructor(t,a,r){super(t,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function $j(n){return oe(n)&&n.name==="AuthApiError"}class Pa extends xo{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ji extends xo{constructor(t,a,r,l){super(t,r,l),this.name=a,this.status=r}}class _n extends ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gh(n){return oe(n)&&n.name==="AuthSessionMissingError"}class Rs extends ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends ji{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zl extends ji{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hj(n){return oe(n)&&n.name==="AuthImplicitGrantRedirectError"}class bv extends ji{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qj extends ji{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class tf extends ji{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function yh(n){return oe(n)&&n.name==="AuthRetryableFetchError"}class xv extends ji{constructor(t,a,r){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class nf extends ji{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sv=` 	
\r=`.split(""),Gj=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Sv.length;t+=1)n[Sv[t].charCodeAt(0)]=-2;for(let t=0;t<Sc.length;t+=1)n[Sc[t].charCodeAt(0)]=t;return n})();function wv(n,t,a){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(Sc[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(Sc[r]),t.queuedBits-=6}}function q1(n,t,a){const r=Gj[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function _v(n){const t=[],a=u=>{t.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=u=>{Yj(u,r,a)};for(let u=0;u<n.length;u+=1)q1(n.charCodeAt(u),l,c);return t.join("")}function Fj(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Wj(n,t){for(let a=0;a<n.length;a+=1){let r=n.charCodeAt(a);if(r>55295&&r<=56319){const l=(r-55296)*1024&65535;r=(n.charCodeAt(a+1)-56320&65535|l)+65536,a+=1}Fj(r,t)}}function Yj(n,t,a){if(t.utf8seq===0){if(n<=127){a(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function Qs(n){const t=[],a={queue:0,queuedBits:0},r=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)q1(n.charCodeAt(l),a,r);return new Uint8Array(t)}function Kj(n){const t=[];return Wj(n,a=>t.push(a)),new Uint8Array(t)}function $a(n){const t=[],a={queue:0,queuedBits:0},r=l=>{t.push(l)};return n.forEach(l=>wv(l,a,r)),wv(null,a,r),t.join("")}function Xj(n){return Math.round(Date.now()/1e3)+n}function Qj(){return Symbol("auth-callback")}const Xt=()=>typeof window<"u"&&typeof document<"u",Da={tested:!1,writable:!1},G1=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Da.tested)return Da.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Da.tested=!0,Da.writable=!0}catch{Da.tested=!0,Da.writable=!1}return Da.writable};function Jj(n){const t={},a=new URL(n);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((l,c)=>{t[c]=l})}catch{}return a.searchParams.forEach((r,l)=>{t[l]=r}),t}const F1=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Zj=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ps=async(n,t,a)=>{await n.setItem(t,JSON.stringify(a))},Ma=async(n,t)=>{const a=await n.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Kt=async(n,t)=>{await n.removeItem(t)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Mc.promiseConstructor=Promise;function ec(n){const t=n.split(".");if(t.length!==3)throw new nf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Pj.test(t[r]))throw new nf("JWT not in base64url format");return{header:JSON.parse(_v(t[0])),payload:JSON.parse(_v(t[1])),signature:Qs(t[2]),raw:{header:t[0],payload:t[1]}}}async function eA(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function tA(n,t){return new Promise((r,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!t(c,null,u)){r(u);return}}catch(u){if(!t(c,u)){l(u);return}}})()})}function nA(n){return("0"+n.toString(16)).substr(-2)}function iA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let l="";for(let c=0;c<56;c++)l+=a.charAt(Math.floor(Math.random()*r));return l}return crypto.getRandomValues(t),Array.from(t,nA).join("")}async function aA(n){const a=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",a),l=new Uint8Array(r);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function sA(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const a=await aA(n);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(n,t,a=!1){const r=iA();let l=r;a&&(l+="/PASSWORD_RECOVERY"),await Ps(n,`${t}-code-verifier`,l);const c=await sA(r);return[c,r===c?"plain":"s256"]}const rA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function oA(n){const t=n.headers.get(ef);if(!t||!t.match(rA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lA(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function cA(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(n){if(!uA.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vh(){const n={};return new Proxy(n,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dA(n,t){return new Proxy(n,{get:(a,r,l)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,r,l)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,r,l)}})}function Tv(n){return JSON.parse(JSON.stringify(n))}const Ba=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),hA=[502,503,504];async function kv(n){var t;if(!Zj(n))throw new tf(Ba(n),0);if(hA.includes(n.status))throw new tf(Ba(n),n.status);let a;try{a=await n.json()}catch(c){throw new Pa(Ba(c),c)}let r;const l=oA(n);if(l&&l.getTime()>=H1["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new xv(Ba(a),n.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _n}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new xv(Ba(a),n.status,a.weak_password.reasons);throw new Vj(Ba(a),n.status||500,r)}const fA=(n,t,a,r)=>{const l={method:n,headers:t?.headers||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(r),Object.assign(Object.assign({},l),a))};async function pe(n,t,a,r){var l;const c=Object.assign({},r?.headers);c[ef]||(c[ef]=H1["2024-01-01"].name),r?.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(l=r?.query)!==null&&l!==void 0?l:{};r?.redirectTo&&(u.redirect_to=r.redirectTo);const p=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await pA(n,t,a+p,{headers:c,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(m):{data:Object.assign({},m),error:null}}async function pA(n,t,a,r,l,c){const u=fA(t,r,l,c);let p;try{p=await n(a,Object.assign({},u))}catch(m){throw console.error(m),new tf(Ba(m),0)}if(p.ok||await kv(p),r?.noResolveJson)return p;try{return await p.json()}catch(m){await kv(m)}}function Hn(n){var t;let a=null;yA(n)&&(a=Object.assign({},n),n.expires_at||(a.expires_at=Xj(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:a,user:r},error:null}}function jv(n){const t=Hn(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function aa(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function mA(n){return{data:n,error:null}}function gA(n){const{action_link:t,email_otp:a,hashed_token:r,redirect_to:l,verification_type:c}=n,u=Rc(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:t,email_otp:a,hashed_token:r,redirect_to:l,verification_type:c},m=Object.assign({},u);return{data:{properties:p,user:m},error:null}}function Av(n){return n}function yA(n){return n.access_token&&n.refresh_token&&n.expires_in}const bh=["global","local","others"];class vA{constructor({url:t="",headers:a={},fetch:r}){this.url=t,this.headers=a,this.fetch=F1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=bh[0]){if(bh.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bh.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,a={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:aa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:a}=t,r=Rc(t,["options"]),l=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(l.new_email=r?.newEmail,delete l.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:gA,redirectTo:a?.redirectTo})}catch(a){if(oe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:aa})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,r,l,c,u,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Av});if(y.error)throw y.error;const x=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);g[`${R}Page`]=j}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(oe(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Ds(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:aa})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ds(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:aa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,a=!1){Ds(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:aa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Ds(t.userId);try{const{data:a,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:a,error:r}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ds(t.userId),Ds(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,r,l,c,u,p,m;try{const g={nextPage:null,lastPage:0,total:0},y=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(c=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Av});if(y.error)throw y.error;const x=await y.json(),b=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(_.split(";")[1].split("=")[1]);g[`${R}Page`]=j}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},x),g),error:null}}catch(g){if(oe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}}function Ev(n={}){return{getItem:t=>n[t]||null,setItem:(t,a)=>{n[t]=a},removeItem:t=>{delete n[t]}}}const Ms={debug:!!(globalThis&&G1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bA extends W1{}async function xA(n,t,a){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async l=>{if(l){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await a()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new bA(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ms.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function SA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Y1(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function wA(n){return parseInt(n,16)}function _A(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function TA(n){var t;const{chainId:a,domain:r,expirationTime:l,issuedAt:c=new Date,nonce:u,notBefore:p,requestId:m,resources:g,scheme:y,uri:x,version:b}=n;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const S=Y1(n.address),_=y?`${y}://${r}`:r,j=n.statement?`${n.statement}
`:"",R=`${_} wants you to sign in with your Ethereum account:
${S}

${j}`;let A=`URI: ${x}
Version: ${b}
Chain ID: ${a}${u?`
Nonce: ${u}`:""}
Issued At: ${c.toISOString()}`;if(l&&(A+=`
Expiration Time: ${l.toISOString()}`),p&&(A+=`
Not Before: ${p.toISOString()}`),m&&(A+=`
Request ID: ${m}`),g){let C=`
Resources:`;for(const k of g){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);C+=`
- ${k}`}A+=C}return`${R}
${A}`}class Nt extends Error{constructor({message:t,code:a,cause:r,name:l}){var c;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=l??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=a}}class wc extends Nt{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function kA({error:n,options:t}){var a,r,l;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((a=c.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new Nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new Nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new Nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new Nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const u=window.location.hostname;if(K1(u)){if(c.rp.id!==u)return new Nt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function jA({error:n,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new Nt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(K1(r)){if(a.rpId!==r)return new Nt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new Nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new Nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new Nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class AA{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const EA=new AA;function CA(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:a,excludeCredentials:r}=n,l=Rc(n,["challenge","user","excludeCredentials"]),c=Qs(t).buffer,u=Object.assign(Object.assign({},a),{id:Qs(a.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:c,user:u});if(r&&r.length>0){p.excludeCredentials=new Array(r.length);for(let m=0;m<r.length;m++){const g=r[m];p.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Qs(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return p}function RA(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:a}=n,r=Rc(n,["challenge","allowCredentials"]),l=Qs(t).buffer,c=Object.assign(Object.assign({},r),{challenge:l});if(a&&a.length>0){c.allowCredentials=new Array(a.length);for(let u=0;u<a.length;u++){const p=a[u];c.allowCredentials[u]=Object.assign(Object.assign({},p),{id:Qs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return c}function OA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n;return{id:n.id,rawId:n.id,response:{attestationObject:$a(new Uint8Array(n.response.attestationObject)),clientDataJSON:$a(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function DA(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const a=n,r=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:$a(new Uint8Array(l.authenticatorData)),clientDataJSON:$a(new Uint8Array(l.clientDataJSON)),signature:$a(new Uint8Array(l.signature)),userHandle:l.userHandle?$a(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function K1(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Cv(){var n,t;return!!(Xt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function MA(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wc("Browser returned unexpected credential type",t)}:{data:null,error:new wc("Empty credential response",t)}}catch(t){return{data:null,error:kA({error:t,options:n})}}}async function zA(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wc("Browser returned unexpected credential type",t)}:{data:null,error:new wc("Empty credential response",t)}}catch(t){return{data:null,error:jA({error:t,options:n})}}}const NA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},BA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _c(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),a=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),r={};for(const l of n)if(l)for(const c in l){const u=l[c];if(u!==void 0)if(Array.isArray(u))r[c]=u;else if(a(u))r[c]=u;else if(t(u)){const p=r[c];t(p)?r[c]=_c(p,u):r[c]=_c(u)}else r[c]=u}return r}function LA(n,t){return _c(NA,n,t||{})}function UA(n,t){return _c(BA,n,t||{})}class PA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:r,signal:l},c){var u;try{const{data:p,error:m}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!p)return{data:null,error:m};const g=l??EA.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:y}=p.webauthn.credential_options.publicKey;if(!y.name){const x=r;if(x)y.name=`${y.id}:${x}`;else{const S=(await this.client.getUser()).data.user,_=((u=S?.user_metadata)===null||u===void 0?void 0:u.name)||S?.email||S?.id||"User";y.name=`${y.id}:${_}`}}y.displayName||(y.displayName=y.name)}switch(p.webauthn.type){case"create":{const y=LA(p.webauthn.credential_options.publicKey,c?.create),{data:x,error:b}=await MA({publicKey:y,signal:g});return x?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}case"request":{const y=UA(p.webauthn.credential_options.publicKey,c?.request),{data:x,error:b}=await zA(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:y,signal:g}));return x?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:x}},error:null}:{data:null,error:b}}}}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new Pa("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:a,webauthn:r}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!a)return{data:null,error:new xo("rpId is required for WebAuthn authentication")};try{if(!Cv())return{data:null,error:new Pa("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:r},signal:l},{request:c});if(!u)return{data:null,error:p};const{webauthn:m}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:m.type,rpId:a,rpOrigins:r,credential_response:m.credential_response}})}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Pa("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!a)return{data:null,error:new xo("rpId is required for WebAuthn registration")};try{if(!Cv())return{data:null,error:new Pa("Browser does not support WebAuthn",null)};const{data:u,error:p}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(y=>{var x;return(x=y.data)===null||x===void 0?void 0:x.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:p};const{data:m,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:a,rpOrigins:r},signal:l},{create:c});return m?this._verify({factorId:u.id,challengeId:m.challengeId,webauthn:{rpId:a,rpOrigins:r,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(u){return oe(u)?{data:null,error:u}:{data:null,error:new Pa("Unexpected error in register",u)}}}}SA();const IA={url:Bj,storageKey:Lj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Rv(n,t,a){return await a()}const zs={};class So{get jwks(){var t,a;return(a=(t=zs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=zs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{cachedAt:t})}constructor(t){var a,r,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},IA),t);if(this.storageKey=c.storageKey,this.instanceID=(a=So.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,So.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&Xt()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new vA({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=F1(c.fetch),this.lock=c.lock||Rv,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&Xt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=xA:this.lock=Rv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new PA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:G1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Ev(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(p){this._debug("#broadcastChannel","error",p)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${$1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},r="none";if(Xt()&&(a=Jj(window.location.href),this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce")),Xt()&&this.detectSessionInUrl&&r!=="none"){const{data:l,error:c}=await this._getSessionFromURL(a,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Hj(c)){const m=(t=c.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:u,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",p),await this._saveSession(u),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return oe(a)?this._returnResult({error:a}):this._returnResult({error:new Pa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,r,l;try{const c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Hn}),{data:u,error:p}=c;if(p||!u)return this._returnResult({data:{user:null,session:null},error:p});const m=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var a,r,l;try{let c;if("email"in t){const{email:y,password:x,options:b}=t;let S=null,_=null;this.flowType==="pkce"&&([S,_]=await Os(this.storage,this.storageKey)),c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:y,password:x,data:(a=b?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:S,code_challenge_method:_},xform:Hn})}else if("phone"in t){const{phone:y,password:x,options:b}=t;c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:x,data:(r=b?.data)!==null&&r!==void 0?r:{},channel:(l=b?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Hn})}else throw new Jl("You must provide either an email or phone number and a password");const{data:u,error:p}=c;if(p||!u)return await Kt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:p});const m=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let a;if("email"in t){const{email:c,password:u,options:p}=t;a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:jv})}else if("phone"in t){const{phone:c,password:u,options:p}=t;a=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:p?.captchaToken}},xform:jv})}else throw new Jl("You must provide either an email or phone number and a password");const{data:r,error:l}=a;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!r||!r.session||!r.user){const c=new Rs;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:l})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,r,l,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,r,l,c,u,p,m,g,y,x,b;let S,_;if("message"in t)S=t.message,_=t.signature;else{const{chain:j,wallet:R,statement:A,options:C}=t;let k;if(Xt())if(typeof R=="object")k=R;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")k=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=R}const L=new URL((a=C?.url)!==null&&a!==void 0?a:window.location.href),V=await k.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=Y1(V[0]);let F=(r=C?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!F){const te=await k.request({method:"eth_chainId"});F=wA(te)}const q={domain:L.host,address:Y,statement:A,uri:L.href,version:"1",chainId:F,nonce:(l=C?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(c=C?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(p=C?.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=C?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=C?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=C?.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=TA(q),_=await k.request({method:"personal_sign",params:[_A(S),Y]})}try{const{data:j,error:R}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:_},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Hn});if(R)throw R;if(!j||!j.session||!j.user){const A=new Rs;return this._returnResult({data:{user:null,session:null},error:A})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:R})}catch(j){if(oe(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async signInWithSolana(t){var a,r,l,c,u,p,m,g,y,x,b,S;let _,j;if("message"in t)_=t.message,j=t.signature;else{const{chain:R,wallet:A,statement:C,options:k}=t;let L;if(Xt())if(typeof A=="object")L=A;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))L=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=A}const V=new URL((a=k?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in L&&L.signIn){const Y=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),C?{statement:C}:null));let F;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")F=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)F=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)_=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),j=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${V.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(l=(r=k?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=k?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((p=k?.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((m=k?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((g=k?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((x=(y=k?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||x===void 0)&&x.length?["Resources",...k.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const Y=await L.signMessage(new TextEncoder().encode(_),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=Y}}try{const{data:R,error:A}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:$a(j)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Hn});if(A)throw A;if(!R||!R.session||!R.user){const C=new Rs;return this._returnResult({data:{user:null,session:null},error:C})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:A})}catch(R){if(oe(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const a=await Ma(this.storage,`${this.storageKey}-code-verifier`),[r,l]=(a??"").split("/");try{if(!r&&this.flowType==="pkce")throw new qj;const{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Hn});if(await Kt(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!c||!c.session||!c.user){const p=new Rs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:p})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:u})}catch(c){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:a,provider:r,token:l,access_token:c,nonce:u}=t,p=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:l,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Hn}),{data:m,error:g}=p;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new Rs;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,r,l,c,u;try{if("email"in t){const{email:p,options:m}=t;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Os(this.storage,this.storageKey));const{error:x}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(r=m?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:p,options:m}=t,{data:g,error:y}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(u=m?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new Jl("You must provide either an email or phone number.")}catch(p){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async verifyOtp(t){var a,r;try{let l,c;"options"in t&&(l=(a=t.options)===null||a===void 0?void 0:a.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:p}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Hn});if(p)throw p;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,g=u.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(l){if(oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var a,r,l,c,u;try{let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Os(this.storage,this.storageKey));const g=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:p,code_challenge_method:m}),headers:this.headers,xform:mA});return!((c=g.data)===null||c===void 0)&&c.url&&Xt()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(p){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(p))return this._returnResult({data:null,error:p});throw p}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;if(r)throw r;if(!a)throw new _n;const{error:l}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:r,type:l,options:c}=t,{error:u}=await pe(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:r,type:l,options:c}=t,{data:u,error:p}=await pe(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:p})}throw new Jl("You must provide either an email or phone number and a type")}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<mh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const u=await Ma(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=vh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=dA(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:aa}):await this._useSession(async a=>{var r,l,c;const{data:u,error:p}=a;if(p)throw p;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _n}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:aa})})}catch(a){if(oe(a))return gh(a)&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async r=>{const{data:l,error:c}=r;if(c)throw c;if(!l.session)throw new _n;const u=l.session;let p=null,m=null;this.flowType==="pkce"&&t.email!=null&&([p,m]=await Os(this.storage,this.storageKey));const{data:g,error:y}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:p,code_challenge_method:m}),jwt:u.access_token,xform:aa});if(y)throw y;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(r){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _n;const a=Date.now()/1e3;let r=a,l=!0,c=null;const{payload:u}=ec(t.access_token);if(u.exp&&(r=u.exp,l=r<=a),l){const{data:p,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!p)return{data:{user:null,session:null},error:null};c=p}else{const{data:p,error:m}=await this._getUser(t.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:t.access_token,refresh_token:t.refresh_token,user:p.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var r;if(!t){const{data:u,error:p}=a;if(p)throw p;t=(r=u.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new _n;const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Xt())throw new Zl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bv("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:l,access_token:c,refresh_token:u,expires_in:p,expires_at:m,token_type:g}=t;if(!c||!p||!u||!g)throw new Zl("No session defined in URL");const y=Math.round(Date.now()/1e3),x=parseInt(p);let b=y+x;m&&(b=parseInt(m));const S=b-y;S*1e3<=Us&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${x}s`);const _=b-x;y-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,y):y-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,y);const{data:j,error:R}=await this._getUser(c);if(R)throw R;const A={provider_token:r,provider_refresh_token:l,access_token:c,expires_in:x,expires_at:b,refresh_token:u,token_type:g,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:l,error:c}=a;if(c&&!gh(c))return this._returnResult({error:c});const u=(r=l.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:p}=await this.admin.signOut(u,t);if(p&&!($j(p)&&(p.status===404||p.status===401||p.status===403)||gh(p)))return this._returnResult({error:p})}return t!=="others"&&(await this._removeSession(),await Kt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=Qj(),r={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async a=>{var r,l;try{const{data:{session:c},error:u}=a;if(u)throw u;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,a={}){let r=null,l=null;this.flowType==="pkce"&&([r,l]=await Os(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:l,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:r,error:l}=await this._useSession(async c=>{var u,p,m,g,y;const{data:x,error:b}=c;if(b)throw b;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(p=t.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(g=x.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Xt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(oe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var r;try{const{error:l,data:{session:c}}=a;if(l)throw l;const{options:u,provider:p,token:m,access_token:g,nonce:y}=t,x=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:p,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Hn}),{data:b,error:S}=x;return S?this._returnResult({data:{user:null,session:null},error:S}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new Rs}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:S}))}catch(l){if(await Kt(this.storage,`${this.storageKey}-code-verifier`),oe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var r,l;const{data:c,error:u}=a;if(u)throw u;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await tA(async l=>(l>0&&await eA(200*Math.pow(2,l-1)),this._debug(a,"refreshing attempt",l),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Hn})),(l,c)=>{const u=200*Math.pow(2,l);return c&&yh(c)&&Date.now()+u-r<Us})}catch(r){if(this._debug(a,"error",r),oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",r),Xt()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const l=await Ma(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await Ps(this.userStorage,this.storageKey+"-user",u)),l.user=(t=u?.user)!==null&&t!==void 0?t:vh()}else if(l&&!l.user&&!l.user){const u=await Ma(this.storage,this.storageKey+"-user");u&&u?.user?(l.user=u.user,await Kt(this.storage,this.storageKey+"-user"),await Ps(this.storage,this.storageKey,l)):l.user=vh()}if(this._debug(r,"session from storage",l),!this._isValidSession(l)){this._debug(r,"session is not valid"),l!==null&&await this._removeSession();return}const c=((a=l.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<mh;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${mh}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),yh(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:p}=await this._getUser(l.access_token);!p&&u?.user?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(r,"error",l),console.error(l);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var a,r;if(!t)throw new _n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Mc;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new _n;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const p={data:c.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(c){if(this._debug(l,"error",c),oe(c)){const u={data:null,error:c};return yh(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,a,r=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:a});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(t,a)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let p=0;p<c.length;p+=1)console.error(c[p]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Kt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Ps(this.userStorage,this.storageKey+"-user",{user:a.user});const l=Object.assign({},a);delete l.user;const c=Tv(l);await Ps(this.storage,this.storageKey,c)}else{const l=Tv(a);await Ps(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Kt(this.storage,this.storageKey),await Kt(this.storage,this.storageKey+"-code-verifier"),await Kt(this.storage,this.storageKey+"-user"),this.userStorage&&await Kt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Us);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((r.expires_at*1e3-t)/Us);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Us}ms, refresh threshold is ${Zh} ticks`),l<=Zh&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof W1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,r){const l=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&l.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await Os(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(p.toString())}if(r?.queryParams){const c=new URLSearchParams(r.queryParams);l.push(c.toString())}return r?.skipBrowserRedirect&&l.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var r;const{data:l,error:c}=a;return c?this._returnResult({data:null,error:c}):await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var r,l;const{data:c,error:u}=a;if(u)return this._returnResult({data:null,error:u});const p=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:g}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var r;const{data:l,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OA(t.webauthn.credential_response):DA(t.webauthn.credential_response)})}:{code:t.code}),{data:p,error:m}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),this._returnResult({data:p,error:m}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var r;const{data:l,error:c}=a;if(c)return this._returnResult({data:null,error:c});const u=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=l?.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:p}=u;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:CA(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:RA(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=a?.factors)!==null&&t!==void 0?t:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,r,l,c;if(t)try{const{payload:S}=ec(t);let _=null;S.aal&&(_=S.aal);let j=_;const{data:{user:R},error:A}=await this.getUser(t);if(A)return this._returnResult({data:null,error:A});((r=(a=R?.factors)===null||a===void 0?void 0:a.filter(L=>L.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(j="aal2");const k=S.amr||[];return{data:{currentLevel:_,nextLevel:j,currentAuthenticationMethods:k},error:null}}catch(S){if(oe(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:u},error:p}=await this.getSession();if(p)return this._returnResult({data:null,error:p});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=ec(u.access_token);let g=null;m.aal&&(g=m.aal);let y=g;((c=(l=u.user.factors)===null||l===void 0?void 0:l.filter(S=>S.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(y="aal2");const b=m.amr||[];return{data:{currentLevel:g,nextLevel:y,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new _n})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new _n});const u=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&Xt()&&!a?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,a){try{return await this._useSession(async r=>{const{data:{session:l},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new _n});const u=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:p=>({data:p,error:null})});return u.data&&u.data.redirect_url&&Xt()&&!a?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;return r?this._returnResult({data:null,error:r}):a?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new _n})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:r},error:l}=a;return l?this._returnResult({data:null,error:l}):r?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new _n})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let r=a.keys.find(p=>p.kid===t);if(r)return r;const l=Date.now();if(r=this.jwks.keys.find(p=>p.kid===t),r&&this.jwks_cached_at+Ij>l)return r;const{data:c,error:u}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,r=c.keys.find(p=>p.kid===t),!r)?null:r}async getClaims(t,a={}){try{let r=t;if(!r){const{data:S,error:_}=await this.getSession();if(_||!S.session)return this._returnResult({data:null,error:_});r=S.session.access_token}const{header:l,payload:c,signature:u,raw:{header:p,payload:m}}=ec(r);a?.allowExpired||lA(c.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!g){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:c,header:l,signature:u},error:null}}const y=cA(l.alg),x=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,x,u,Kj(`${p}.${m}`)))throw new nf("Invalid JWT signature");return{data:{claims:c,header:l,signature:u},error:null}}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}}So.nextInstanceID={};const VA=So,$A="2.95.3";let no="";typeof Deno<"u"?no="deno":typeof document<"u"?no="web":typeof navigator<"u"&&navigator.product==="ReactNative"?no="react-native":no="node";const HA={"X-Client-Info":`supabase-js-${no}/${$A}`},qA={headers:HA},GA={schema:"public"},FA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WA={};function wo(n){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(n)}function YA(n,t){if(wo(n)!="object"||!n)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var r=a.call(n,t);if(wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function KA(n){var t=YA(n,"string");return wo(t)=="symbol"?t:t+""}function XA(n,t,a){return(t=KA(t))in n?Object.defineProperty(n,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[t]=a,n}function Ov(n,t){var a=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),a.push.apply(a,r)}return a}function Tt(n){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Ov(Object(a),!0).forEach(function(r){XA(n,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):Ov(Object(a)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(a,r))})}return n}const QA=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),JA=()=>Headers,ZA=(n,t,a)=>{const r=QA(a),l=JA();return async(c,u)=>{var p;const m=(p=await t())!==null&&p!==void 0?p:n;let g=new l(u?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),r(c,Tt(Tt({},u),{},{headers:g}))}};function eE(n){return n.endsWith("/")?n:n+"/"}function tE(n,t){var a,r;const{db:l,auth:c,realtime:u,global:p}=n,{db:m,auth:g,realtime:y,global:x}=t,b={db:Tt(Tt({},m),l),auth:Tt(Tt({},g),c),realtime:Tt(Tt({},y),u),storage:{},global:Tt(Tt(Tt({},x),p),{},{headers:Tt(Tt({},(a=x?.headers)!==null&&a!==void 0?a:{}),(r=p?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function nE(n){const t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(eE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var iE=class extends VA{constructor(n){super(n)}},aE=class{constructor(n,t,a){var r,l;this.supabaseUrl=n,this.supabaseKey=t;const c=nE(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:GA,realtime:WA,auth:Tt(Tt({},FA),{},{storageKey:u}),global:qA},m=tE(a??{},p);if(this.storageKey=(r=m.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=ZA(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Tt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new $k(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new Nj(this.storageUrl.href,this.headers,this.fetch,a?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new zk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,a)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,a;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(t=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:r,userStorage:l,storageKey:c,flowType:u,lock:p,debug:m,throwOnError:g},y,x){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iE({url:this.authUrl.href,headers:Tt(Tt({},b),y),storageKey:c,autoRefreshToken:n,persistSession:t,detectSessionInUrl:a,storage:r,userStorage:l,flowType:u,lock:p,debug:m,throwOnError:g,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new sj(this.realtimeUrl.href,Tt(Tt({},n),{},{params:Tt(Tt({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t?.access_token)})}_handleTokenChanged(n,t,a){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const sE=(n,t,a)=>new aE(n,t,a);function rE(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}rE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const oE="https://yesrafqjqhqkeizlvbvv.supabase.co",lE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inllc3JhZnFqcWhxa2Vpemx2YnZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEyMDMwMDksImV4cCI6MjA4Njc3OTAwOX0.X81-kF__VSj1P-sIHhwjnX8ezSqxFCLl6qUDEn7M8Rs",za=!0,Ne=sE(oE,lE),cE=new Set(["gmail.com","googlemail.com","outlook.com","hotmail.com","live.com","msn.com","yahoo.com","yahoo.co.uk","yahoo.ca","yahoo.com.au","icloud.com","me.com","mac.com","aol.com","protonmail.com","proton.me","pm.me","zoho.com","zohomail.com","fastmail.com","hey.com","mail.com","email.com","yandex.com","yandex.ru","gmx.com","gmx.net","tutanota.com","tuta.com"]);function uE(n){const t=n.split("@")[1]?.toLowerCase();return cE.has(t)}async function dE(n){if(!Ne)return{allowed:!0,used_extra:!1};const{data:t,error:a}=await Ne.rpc("consume_request",{p_user_id:n});if(a)throw a;return t}async function hE(n,t){const{data:a,error:r}=await Ne.rpc("redeem_promo_code",{p_user_id:n,p_code:t});if(r)throw r;return a}async function fE(n){const{data:t,error:a}=await Ne.from("profiles").select("*").eq("id",n).single();if(a)throw a;return t}async function pE(n,t){const{error:a}=await Ne.from("profiles").update({display_name:t}).eq("id",n);if(a)throw a}async function mE(n,t,a){if(!Ne)return;const{error:r}=await Ne.from("request_log").insert({user_id:n,idea:t,results:a||null});r&&console.error("Failed to log request:",r)}async function af(n){const{data:t,error:a}=await Ne.from("request_log").select("*").eq("user_id",n).order("created_at",{ascending:!1}).limit(20);if(a)throw a;return t||[]}async function gE(n){if(!Ne)return!1;const{data:t,error:a}=await Ne.from("profiles").select("has_used_premium, premium_credits").eq("id",n).single();return a?!1:t?.premium_credits>0?!0:!t?.has_used_premium}async function yE(n){if(!Ne)return;const{data:t}=await Ne.from("profiles").select("premium_credits").eq("id",n).single();t?.premium_credits>0?await Ne.from("profiles").update({premium_credits:t.premium_credits-1}).eq("id",n):await Ne.from("profiles").update({has_used_premium:!0}).eq("id",n)}async function vE(n,t){if(!Ne)return;const{error:a}=await Ne.from("premium_feedback").insert({user_id:n,liked_it:t.likedIt,was_good:t.wasGood,would_pay:t.wouldPay,price_range:t.priceRange||null,should_add_account:t.shouldAddAccount,created_at:new Date().toISOString()});a&&console.error("Failed to save feedback:",a)}const bE="henrybrewer00@gmail.com";async function Dv(n=50){if(!Ne)return[];const{data:t,error:a}=await Ne.from("profiles").select("id, email, display_name, created_at, premium_credits, has_used_premium, extra_requests, requests_this_week, is_admin").order("created_at",{ascending:!1}).limit(n);if(a)throw a;return t||[]}async function xE(n,t){if(!Ne)return;const{data:a}=await Ne.from("profiles").select("premium_credits").eq("id",n).single(),r=(a?.premium_credits||0)+t,{error:l}=await Ne.from("profiles").update({premium_credits:r}).eq("id",n);if(l)throw l;return r}async function SE(n,t){if(!Ne)return;const{data:a}=await Ne.from("profiles").select("extra_requests").eq("id",n).single(),r=(a?.extra_requests||0)+t,{error:l}=await Ne.from("profiles").update({extra_requests:r}).eq("id",n);if(l)throw l;return r}async function wE(n){if(!Ne)return;const{error:t}=await Ne.from("profiles").update({has_used_premium:!1}).eq("id",n);if(t)throw t}async function _E(n){if(!Ne)return null;const{data:t,error:a}=await Ne.from("profiles").select("id, email, display_name, created_at, premium_credits, has_used_premium, extra_requests, requests_this_week").ilike("email",`%${n}%`).limit(10);if(a)throw a;return t||[]}const X1=T.createContext(null);function TE({children:n}){const[t,a]=T.useState(null),[r,l]=T.useState(null),[c,u]=T.useState(!0),p=T.useCallback(async g=>{try{const y=await fE(g);l(y)}catch(y){console.warn("Failed to fetch profile:",y)}},[]);T.useEffect(()=>{Ne.auth.getSession().then(({data:{session:y}})=>{a(y),y?.user&&p(y.user.id),u(!1)});const{data:{subscription:g}}=Ne.auth.onAuthStateChange((y,x)=>{a(x),x?.user?p(x.user.id):l(null)});return()=>g.unsubscribe()},[p]);const m=T.useCallback(async()=>{await Ne.auth.signOut(),a(null),l(null)},[]);return h.jsx(X1.Provider,{value:{session:t,user:t?.user||null,profile:r,loading:c,signOut:m,refreshProfile:()=>t?.user&&p(t.user.id)},children:n})}function Q1(){const n=T.useContext(X1);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}const J1=(...n)=>n.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim();const kE=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const jE=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase());const Mv=n=>{const t=jE(n);return t.charAt(0).toUpperCase()+t.slice(1)};var AE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EE=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const CE=T.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:u,...p},m)=>T.createElement("svg",{ref:m,...AE,width:t,height:t,stroke:n,strokeWidth:r?Number(a)*24/Number(t):a,className:J1("lucide",l),...!c&&!EE(p)&&{"aria-hidden":"true"},...p},[...u.map(([g,y])=>T.createElement(g,y)),...Array.isArray(c)?c:[c]]));const Pe=(n,t)=>{const a=T.forwardRef(({className:r,...l},c)=>T.createElement(CE,{ref:c,iconNode:t,className:J1(`lucide-${kE(Mv(n))}`,`lucide-${n}`,r),...l}));return a.displayName=Mv(n),a};const RE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],OE=Pe("arrow-left",RE);const DE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ME=Pe("arrow-right",DE);const zE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nr=Pe("check",zE);const NE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z1=Pe("chevron-down",NE);const BE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ex=Pe("chevron-up",BE);const LE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],UE=Pe("circle-stop",LE);const PE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tx=Pe("clock",PE);const IE=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],zv=Pe("code-xml",IE);const VE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],nx=Pe("copy",VE);const $E=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],HE=Pe("database",$E);const qE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],GE=Pe("dollar-sign",qE);const FE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],If=Pe("download",FE);const WE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],zc=Pe("external-link",WE);const YE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KE=Pe("eye",YE);const XE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],QE=Pe("file-text",XE);const JE=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],ix=Pe("gift",JE);const ZE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eC=Pe("globe",ZE);const tC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nC=Pe("key",tC);const iC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ni=Pe("loader-circle",iC);const aC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sC=Pe("lock",aC);const rC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],oC=Pe("log-out",rC);const lC=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cC=Pe("mail",lC);const uC=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],dC=Pe("megaphone",uC);const hC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],fC=Pe("pencil",hC);const pC=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Nv=Pe("play",pC);const mC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Vf=Pe("rotate-ccw",mC);const gC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yC=Pe("search",gC);const vC=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bC=Pe("settings",vC);const xC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ax=Pe("shield",xC);const SC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],wC=Pe("sparkles",SC);const _C=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TC=Pe("triangle-alert",_C);const kC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],sx=Pe("user",kC);const jC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],AC=Pe("users",jC);const EC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Nc=Pe("x",EC);const CC=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bc=Pe("zap",CC);function RC({onAuthSuccess:n}){const[t,a]=T.useState("login"),[r,l]=T.useState(""),[c,u]=T.useState(""),[p,m]=T.useState(""),[g,y]=T.useState(!1),[x,b]=T.useState(""),[S,_]=T.useState(""),j=async C=>{C.preventDefault(),b(""),y(!0);try{const{error:k}=await Ne.auth.signInWithPassword({email:r,password:c});if(k)throw k}catch(k){b(k.message==="Invalid login credentials"?"Invalid email or password. Try again or reset your password.":k.message)}finally{y(!1)}},R=async C=>{if(C.preventDefault(),b(""),!uE(r)){b("Please use a major email provider (Gmail, Outlook, iCloud, Yahoo, etc). Temporary emails are not allowed.");return}if(c.length<8){b("Password must be at least 8 characters.");return}if(!p.trim()){b("Please enter a display name.");return}y(!0);try{const{error:k}=await Ne.auth.signUp({email:r,password:c,options:{data:{display_name:p.trim()},emailRedirectTo:window.location.origin}});if(k)throw k;a("verify"),_(r)}catch(k){b(k.message)}finally{y(!1)}},A=async C=>{if(C.preventDefault(),b(""),!r.trim()){b("Please enter your email.");return}y(!0);try{const{error:k}=await Ne.auth.resetPasswordForEmail(r,{redirectTo:`${window.location.origin}/#reset-password`});if(k)throw k;_("Check your inbox for a password reset link.")}catch(k){b(k.message)}finally{y(!1)}};return t==="verify"?h.jsx(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},style:{justifyContent:"center",alignItems:"center",padding:"40px 20px"},children:h.jsxs("div",{style:{maxWidth:420,width:"100%",textAlign:"center"},children:[h.jsx("div",{style:{width:72,height:72,borderRadius:20,background:"var(--grad-emerald)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",margin:"0 auto 24px",boxShadow:"0 0 40px rgba(16,185,129,0.3)"},children:""}),h.jsx("h2",{className:"display display-sm",style:{marginBottom:12},children:"Check your inbox"}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",lineHeight:1.6,marginBottom:8},children:"We sent a verification link to"}),h.jsx("p",{style:{color:"#6ee7b7",fontWeight:600,fontSize:"1rem",marginBottom:24},children:S}),h.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.85rem",lineHeight:1.6,marginBottom:32},children:"Click the link in the email to verify your account. Check spam if you don't see it."}),h.jsx("button",{className:"btn btn-secondary",onClick:()=>{a("login"),b(""),_("")},children:"Back to Login"})]})}):h.jsxs(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},style:{justifyContent:"center",alignItems:"center",padding:"40px 20px"},children:[h.jsxs("div",{style:{maxWidth:400,width:"100%"},children:[h.jsxs("div",{style:{textAlign:"center",marginBottom:36},children:[h.jsxs("div",{className:"logo-mark",style:{justifyContent:"center",marginBottom:16},children:[h.jsx("div",{className:"logo-icon",children:""}),"VibeNow"]}),h.jsxs("h2",{className:"display display-sm",style:{marginBottom:8},children:[t==="login"&&"Welcome back",t==="signup"&&"Create your account",t==="forgot"&&"Reset password"]}),h.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:[t==="login"&&"Sign in to generate startup kits",t==="signup"&&"No temporary emails",t==="forgot"&&"We'll send you a reset link"]})]}),x&&h.jsx("div",{style:{background:"var(--red-dim)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:12,padding:"10px 14px",marginBottom:16,color:"#fca5a5",fontSize:"0.85rem",textAlign:"center"},children:x}),S&&t==="forgot"&&h.jsx("div",{style:{background:"var(--emerald-dim)",border:"1px solid rgba(16,185,129,0.3)",borderRadius:12,padding:"10px 14px",marginBottom:16,color:"#6ee7b7",fontSize:"0.85rem",textAlign:"center"},children:S}),h.jsxs("form",{onSubmit:t==="login"?j:t==="signup"?R:A,children:[t==="signup"&&h.jsxs("div",{style:{marginBottom:14},children:[h.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)",marginBottom:6},children:"Display Name"}),h.jsxs("div",{style:{position:"relative"},children:[h.jsx(sx,{size:16,style:{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)",color:"var(--text-dim)"}}),h.jsx("input",{type:"text",value:p,onChange:C=>m(C.target.value),placeholder:"Your name",style:xh})]})]}),h.jsxs("div",{style:{marginBottom:14},children:[h.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)",marginBottom:6},children:"Email"}),h.jsxs("div",{style:{position:"relative"},children:[h.jsx(cC,{size:16,style:{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)",color:"var(--text-dim)"}}),h.jsx("input",{type:"email",value:r,onChange:C=>l(C.target.value),placeholder:t==="signup"?"you@gmail.com":"your@email.com",required:!0,style:xh})]}),t==="signup"&&h.jsx("p",{style:{fontSize:"0.72rem",color:"var(--text-dim)",marginTop:4},children:"Gmail, Outlook, iCloud, Yahoo, Proton, and other major providers accepted"})]}),t!=="forgot"&&h.jsxs("div",{style:{marginBottom:20},children:[h.jsx("label",{style:{display:"block",fontSize:"0.8rem",fontWeight:600,color:"var(--text-muted)",marginBottom:6},children:"Password"}),h.jsxs("div",{style:{position:"relative"},children:[h.jsx(sC,{size:16,style:{position:"absolute",left:14,top:"50%",transform:"translateY(-50%)",color:"var(--text-dim)"}}),h.jsx("input",{type:"password",value:c,onChange:C=>u(C.target.value),placeholder:t==="signup"?"Min 8 characters":"",required:!0,minLength:t==="signup"?8:void 0,style:xh})]})]}),t==="login"&&h.jsx("div",{style:{textAlign:"right",marginBottom:16},children:h.jsx("button",{type:"button",onClick:()=>{a("forgot"),b(""),_("")},style:{background:"none",border:"none",color:"#a78bfa",fontSize:"0.82rem",cursor:"pointer"},children:"Forgot password?"})}),h.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,style:{width:"100%",marginBottom:16},children:g?h.jsx(ni,{size:16,style:{animation:"spin 1s linear infinite"}}):h.jsxs(h.Fragment,{children:[t==="login"&&"Sign In",t==="signup"&&"Create Account",t==="forgot"&&"Send Reset Link",h.jsx(ME,{size:16})]})})]}),h.jsxs("div",{style:{textAlign:"center",fontSize:"0.85rem",color:"var(--text-muted)"},children:[t==="login"&&h.jsxs(h.Fragment,{children:["Don't have an account?"," ",h.jsx("button",{onClick:()=>{a("signup"),b(""),_("")},style:{background:"none",border:"none",color:"#a78bfa",cursor:"pointer",fontWeight:600,fontSize:"0.85rem"},children:"Sign Up"})]}),(t==="signup"||t==="forgot")&&h.jsxs(h.Fragment,{children:["Already have an account?"," ",h.jsx("button",{onClick:()=>{a("login"),b(""),_("")},style:{background:"none",border:"none",color:"#a78bfa",cursor:"pointer",fontWeight:600,fontSize:"0.85rem"},children:"Sign In"})]})]})]}),h.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const xh={width:"100%",background:"var(--surface-1)",border:"1px solid var(--border)",borderRadius:12,color:"var(--text)",fontFamily:"var(--font-body)",fontSize:"0.95rem",padding:"12px 14px 12px 40px",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"};function OC(){const[n,t]=T.useState([]),[a,r]=T.useState(!0),[l,c]=T.useState(""),[u,p]=T.useState(null),[m,g]=T.useState(!1),[y,x]=T.useState(null),[b,S]=T.useState(null),[_,j]=T.useState("5"),[R,A]=T.useState(!1),[C,k]=T.useState("");T.useEffect(()=>{Dv(30).then(t).catch(console.error).finally(()=>r(!1))},[]);const L=async()=>{if(l.trim()){g(!0);try{const q=await _E(l.trim());p(q)}catch{p([])}finally{g(!1)}}},V=(q,te)=>{x(q),S(te),j("5"),k("")},Y=async()=>{if(y){A(!0);try{if(b==="credits"){const te=await xE(y.id,parseInt(_)||5);k(` Gave ${_} premium credits. New total: ${te}`)}else if(b==="requests"){const te=await SE(y.id,parseInt(_)||5);k(` Gave ${_} extra requests. New total: ${te}`)}else b==="reset"&&(await wE(y.id),k(" Premium reset  user can generate premium again"));const q=await Dv(30);t(q)}catch(q){k(` Error: ${q.message}`)}finally{A(!1)}}},F=u!==null?u:n;return h.jsxs(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"0 0 40px"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:24,padding:"12px 16px",background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:12},children:[h.jsx(ax,{size:16,color:"#f87171"}),h.jsx("span",{style:{fontWeight:700,color:"#f87171",fontSize:"0.85rem"},children:"Admin Panel"}),h.jsx("span",{style:{fontSize:"0.72rem",color:"rgba(248,113,113,0.6)",marginLeft:"auto"},children:"henrybrewer00@gmail.com only"})]}),h.jsxs("div",{style:{display:"flex",gap:8,marginBottom:20},children:[h.jsx("input",{value:l,onChange:q=>c(q.target.value),onKeyDown:q=>q.key==="Enter"&&L(),placeholder:"Search by email...",style:{flex:1,background:"rgba(255,255,255,0.04)",border:"1px solid var(--border)",borderRadius:10,padding:"8px 12px",color:"var(--text)",fontSize:"0.85rem",outline:"none",fontFamily:"inherit"}}),h.jsxs("button",{onClick:L,disabled:m,style:{background:"rgba(167,139,250,0.12)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:10,padding:"8px 14px",cursor:"pointer",color:"#a78bfa",display:"flex",alignItems:"center",gap:6,fontSize:"0.82rem"},children:[m?h.jsx(ni,{size:13,style:{animation:"spin 1s linear infinite"}}):h.jsx(yC,{size:13}),"Search"]}),u!==null&&h.jsx("button",{onClick:()=>p(null),style:{background:"none",border:"1px solid var(--border)",borderRadius:10,padding:"8px 10px",cursor:"pointer",color:"var(--text-dim)"},children:h.jsx(Nc,{size:13})})]}),a?h.jsx("div",{style:{textAlign:"center",padding:20,color:"var(--text-dim)"},children:h.jsx(ni,{size:18,style:{animation:"spin 1s linear infinite"}})}):h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[h.jsxs("p",{style:{fontSize:"0.7rem",color:"var(--text-dim)",marginBottom:4},children:[h.jsx(AC,{size:11,style:{verticalAlign:"middle",marginRight:4}}),u!==null?`${F.length} results`:`${F.length} recent users`]}),F.map(q=>h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border)",borderRadius:12,padding:"12px 14px",display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsxs("p",{style:{fontWeight:600,fontSize:"0.82rem",color:"var(--text)",marginBottom:1},children:[q.display_name||q.email||q.id.slice(0,8),q.is_admin&&h.jsx("span",{style:{marginLeft:6,fontSize:"0.65rem",background:"rgba(239,68,68,0.15)",color:"#f87171",padding:"1px 6px",borderRadius:4},children:"admin"})]}),h.jsxs("p",{style:{fontSize:"0.68rem",color:"var(--text-dim)",margin:0},children:[q.email||"no email","  ",q.requests_this_week||0,"/wk  ",q.premium_credits||0," creds  +",q.extra_requests||0," extra"]})]}),h.jsxs("div",{style:{display:"flex",gap:6,flexShrink:0},children:[h.jsxs("button",{onClick:()=>V(q,"credits"),title:"Give premium credits",style:{background:"rgba(167,139,250,0.1)",border:"1px solid rgba(167,139,250,0.2)",borderRadius:8,padding:"4px 8px",cursor:"pointer",color:"#a78bfa",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:4},children:[h.jsx(ix,{size:11})," Credits"]}),h.jsxs("button",{onClick:()=>V(q,"requests"),title:"Give extra requests",style:{background:"rgba(74,222,128,0.08)",border:"1px solid rgba(74,222,128,0.2)",borderRadius:8,padding:"4px 8px",cursor:"pointer",color:"#4ade80",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:4},children:[h.jsx(Bc,{size:11})," Requests"]}),h.jsxs("button",{onClick:()=>V(q,"reset"),title:"Reset premium used flag",style:{background:"rgba(251,191,36,0.08)",border:"1px solid rgba(251,191,36,0.2)",borderRadius:8,padding:"4px 8px",cursor:"pointer",color:"#fbbf24",fontSize:"0.7rem",display:"flex",alignItems:"center",gap:4},children:[h.jsx(Vf,{size:11})," Reset"]})]})]},q.id))]}),y&&h.jsx("div",{style:{position:"fixed",inset:0,zIndex:900,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>{x(null),k("")},children:h.jsxs("div",{onClick:q=>q.stopPropagation(),style:{background:"rgba(12,12,12,0.99)",border:"1px solid var(--border)",borderRadius:16,padding:"24px",maxWidth:380,width:"100%"},children:[h.jsx("p",{style:{fontWeight:700,marginBottom:6,color:"var(--text)"},children:b==="credits"?" Give Premium Credits":b==="requests"?" Give Extra Requests":" Reset Premium"}),h.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text-dim)",marginBottom:16},children:y.display_name||y.email||y.id.slice(0,12)}),b!=="reset"&&h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("p",{style:{fontSize:"0.72rem",color:"var(--text-dim)",marginBottom:6},children:"Amount"}),h.jsx("input",{type:"number",min:"1",max:"1000",value:_,onChange:q=>j(q.target.value),style:{width:"100%",background:"rgba(255,255,255,0.06)",border:"1px solid var(--border)",borderRadius:8,padding:"8px 12px",color:"var(--text)",fontSize:"1rem",outline:"none",fontFamily:"inherit",boxSizing:"border-box"}})]}),C&&h.jsx("p",{style:{fontSize:"0.78rem",marginBottom:12,color:C.startsWith("")?"#4ade80":"#f87171"},children:C}),h.jsxs("div",{style:{display:"flex",gap:8},children:[h.jsxs("button",{onClick:Y,disabled:R,style:{flex:1,background:"var(--grad-primary)",border:"none",borderRadius:10,padding:"10px",cursor:"pointer",color:"#fff",fontWeight:600,fontSize:"0.85rem",fontFamily:"inherit",display:"flex",alignItems:"center",justifyContent:"center",gap:6},children:[R?h.jsx(ni,{size:14,style:{animation:"spin 1s linear infinite"}}):h.jsx(nr,{size:14}),"Confirm"]}),h.jsx("button",{onClick:()=>{x(null),k("")},style:{background:"rgba(255,255,255,0.05)",border:"1px solid var(--border)",borderRadius:10,padding:"10px 16px",cursor:"pointer",color:"var(--text-dim)",fontFamily:"inherit"},children:"Cancel"})]})]})}),h.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}function DC({onBack:n,onViewPast:t}){const{user:a,profile:r,signOut:l,refreshProfile:c}=Q1();if(!a)return h.jsx(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},style:{justifyContent:"center",alignItems:"center",padding:"40px 20px",textAlign:"center"},children:h.jsxs("div",{style:{maxWidth:360},children:[h.jsx("div",{style:{fontSize:"2.5rem",marginBottom:16},children:""}),h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"1.4rem",marginBottom:8},children:"Sign In Required"}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem",marginBottom:24},children:"Authentication is not configured in this build. Make sure Supabase secrets are set in GitHub Actions."}),h.jsx("button",{className:"btn btn-secondary",onClick:n,children:" Go Back"})]})});const u=a?.email===bE,[p,m]=T.useState("profile"),[g,y]=T.useState(r?.display_name||""),[x,b]=T.useState(!1),[S,_]=T.useState(!1),[j,R]=T.useState(""),[A,C]=T.useState(""),[k,L]=T.useState(!1),[V,Y]=T.useState(""),[F,q]=T.useState(""),[te,he]=T.useState(!1),[ke,ye]=T.useState(null),[ot,vt]=T.useState(null),[Ie,P]=T.useState(!1),K=r?.week_started_at?new Date(new Date(r.week_started_at).getTime()+10080*60*1e3):null,J=r?.requests_this_week||0,ge=r?.extra_requests||0,ve=J<1||ge>0,O=async()=>{if(g.trim()){b(!0);try{await pE(a.id,g.trim()),await c(),_(!0),setTimeout(()=>_(!1),2e3)}catch(Q){console.error(Q)}finally{b(!1)}}},H=async Q=>{if(Q.preventDefault(),Y(""),j.length<8){Y("Password must be at least 8 characters.");return}if(j!==A){Y("Passwords don't match.");return}L(!0);try{const{error:le}=await Ne.auth.updateUser({password:j});if(le)throw le;Y(" Password updated successfully!"),R(""),C("")}catch(le){Y(le.message)}finally{L(!1)}},X=async Q=>{if(Q.preventDefault(),!!F.trim()){he(!0),ye(null);try{const le=await hE(a.id,F);ye(le),le.success&&(await c(),q(""))}catch(le){ye({success:!1,reason:le.message})}finally{he(!1)}}},Z=async()=>{if(!ot){P(!0);try{const Q=await af(a.id);vt(Q)}catch(Q){console.error(Q),vt([])}finally{P(!1)}}},de=[{id:"profile",label:"Profile",icon:h.jsx(sx,{size:14})},{id:"password",label:"Password",icon:h.jsx(nC,{size:14})},{id:"promo",label:"Promo Code",icon:h.jsx(ix,{size:14})},{id:"history",label:"History",icon:h.jsx(tx,{size:14})},{id:"beta",label:"Beta",icon:h.jsx(dC,{size:14})},...u?[{id:"admin",label:"Admin",icon:h.jsx(ax,{size:14,color:"#f87171"})}]:[]];return h.jsxs(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{padding:"0 0 80px"},children:[h.jsxs("div",{className:"topbar",children:[h.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:n,children:[h.jsx(OE,{size:14})," Back"]}),h.jsxs("div",{className:"logo-mark",children:[h.jsx("div",{className:"logo-icon",children:""}),"VibeNow"]}),h.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:l,style:{color:"#ef4444"},children:[h.jsx(oC,{size:14})," Sign Out"]})]}),h.jsxs("div",{className:"container",style:{paddingTop:16},children:[h.jsxs("div",{style:{background:ve?"var(--emerald-dim)":"var(--red-dim)",border:`1px solid ${ve?"rgba(16,185,129,0.25)":"rgba(239,68,68,0.25)"}`,borderRadius:16,padding:"16px 18px",marginBottom:24},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[h.jsx("span",{style:{fontWeight:700,fontSize:"0.9rem",color:ve?"#6ee7b7":"#fca5a5"},children:ve?" Ready to generate":" Weekly limit reached"}),h.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.06)",border:"1px solid var(--border)",color:"var(--text-muted)"},children:[J,"/1 used"]})]}),h.jsxs("div",{style:{display:"flex",gap:16,fontSize:"0.8rem",color:"var(--text-muted)"},children:[h.jsxs("span",{children:["Extra requests: ",h.jsx("strong",{style:{color:ge>0?"#6ee7b7":"var(--text-dim)"},children:ge})]}),K&&h.jsxs("span",{children:["Resets: ",K.toLocaleDateString()]})]})]}),h.jsx("div",{style:{display:"flex",gap:4,marginBottom:24,overflowX:"auto"},children:de.map(Q=>h.jsxs("button",{onClick:()=>{m(Q.id),Q.id==="history"&&Z()},style:{display:"flex",alignItems:"center",gap:6,padding:"10px 16px",borderRadius:10,background:p===Q.id?"var(--violet-dim)":"transparent",color:p===Q.id?"#a78bfa":"var(--text-muted)",border:`1px solid ${p===Q.id?"rgba(124,58,237,0.3)":"var(--border)"}`,fontSize:"0.82rem",fontWeight:600,cursor:"pointer",whiteSpace:"nowrap"},children:[Q.icon," ",Q.label]},Q.id))}),p==="profile"&&h.jsxs("div",{className:"card",style:{padding:24},children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:20},children:"Profile"}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("label",{style:Ns,children:"Email"}),h.jsx("div",{style:{...Bv},children:a?.email})]}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("label",{style:Ns,children:"Display Name"}),h.jsx("input",{type:"text",value:g,onChange:Q=>y(Q.target.value),style:tc,placeholder:"Your name"})]}),h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("label",{style:Ns,children:"Member Since"}),h.jsx("div",{style:Bv,children:new Date(r?.created_at).toLocaleDateString()})]}),h.jsx("button",{className:"btn btn-primary btn-sm",onClick:O,disabled:x,children:x?h.jsx(ni,{size:14,style:{animation:"spin 1s linear infinite"}}):S?h.jsxs(h.Fragment,{children:[h.jsx(nr,{size:14})," Saved!"]}):"Save Changes"})]}),p==="password"&&h.jsxs("div",{className:"card",style:{padding:24},children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:20},children:"Change Password"}),V&&h.jsx("div",{style:{background:V.startsWith("")?"var(--emerald-dim)":"var(--red-dim)",border:`1px solid ${V.startsWith("")?"rgba(16,185,129,0.3)":"rgba(239,68,68,0.3)"}`,borderRadius:10,padding:"10px 14px",marginBottom:16,color:V.startsWith("")?"#6ee7b7":"#fca5a5",fontSize:"0.85rem"},children:V}),h.jsxs("form",{onSubmit:H,children:[h.jsxs("div",{style:{marginBottom:14},children:[h.jsx("label",{style:Ns,children:"New Password"}),h.jsx("input",{type:"password",value:j,onChange:Q=>R(Q.target.value),placeholder:"Min 8 characters",style:tc,required:!0,minLength:8})]}),h.jsxs("div",{style:{marginBottom:20},children:[h.jsx("label",{style:Ns,children:"Confirm Password"}),h.jsx("input",{type:"password",value:A,onChange:Q=>C(Q.target.value),placeholder:"Repeat password",style:tc,required:!0})]}),h.jsx("button",{type:"submit",className:"btn btn-primary btn-sm",disabled:k,children:k?h.jsx(ni,{size:14,style:{animation:"spin 1s linear infinite"}}):"Update Password"})]})]}),p==="promo"&&h.jsxs("div",{className:"card",style:{padding:24},children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:8},children:"Redeem Promo Code"}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem",marginBottom:20,lineHeight:1.5},children:"Enter a promo code to get extra generation requests."}),ke&&h.jsx("div",{style:{background:ke.success?"var(--emerald-dim)":"var(--red-dim)",border:`1px solid ${ke.success?"rgba(16,185,129,0.3)":"rgba(239,68,68,0.3)"}`,borderRadius:10,padding:"10px 14px",marginBottom:16,fontSize:"0.85rem",color:ke.success?"#6ee7b7":"#fca5a5"},children:ke.success?` +${ke.bonus_requests_added} extra request(s) added!`:ke.reason==="already_used"?"You've already used this promo code.":ke.reason==="invalid_code"?"Invalid or expired promo code.":ke.reason}),h.jsxs("form",{onSubmit:X,style:{display:"flex",gap:8},children:[h.jsx("input",{type:"text",value:F,onChange:Q=>q(Q.target.value.toUpperCase()),placeholder:"ENTER CODE",style:{...tc,flex:1,textTransform:"uppercase",letterSpacing:"0.1em",fontWeight:700}}),h.jsx("button",{type:"submit",className:"btn btn-emerald btn-sm",disabled:te||!F.trim(),children:te?h.jsx(ni,{size:14,style:{animation:"spin 1s linear infinite"}}):"Redeem"})]}),r?.used_promo_codes?.length>0&&h.jsxs("div",{style:{marginTop:20},children:[h.jsx("label",{style:Ns,children:"Used Codes"}),h.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:r.used_promo_codes.map(Q=>h.jsx("span",{className:"badge badge-violet",children:Q},Q))})]})]}),p==="history"&&h.jsxs("div",{className:"card",style:{padding:24},children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:8},children:"Generation History"}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.82rem",marginBottom:20},children:"Tap any entry with a  icon to view the full results."}),Ie&&h.jsx("div",{style:{textAlign:"center",padding:32,color:"var(--text-muted)"},children:h.jsx(ni,{size:20,style:{animation:"spin 1s linear infinite"}})}),ot&&ot.length===0&&h.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.9rem",textAlign:"center",padding:32},children:"No requests yet. Generate your first startup kit!"}),ot&&ot.length>0&&h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:ot.map(Q=>h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 14px",background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:10,cursor:Q.results?"pointer":"default",transition:"border-color 0.2s"},onClick:()=>Q.results&&t?.({idea:Q.idea,results:Q.results}),onMouseEnter:le=>Q.results&&(le.currentTarget.style.borderColor="rgba(124,58,237,0.4)"),onMouseLeave:le=>le.currentTarget.style.borderColor="var(--border)",children:[h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text)",flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:12},children:Q.idea||"Untitled"}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,flexShrink:0},children:[h.jsx("span",{style:{fontSize:"0.72rem",color:"var(--text-dim)"},children:new Date(Q.created_at).toLocaleDateString()}),Q.results&&h.jsx(zc,{size:13,style:{color:"#a78bfa"}})]})]},Q.id))})]}),p==="beta"&&h.jsxs("div",{className:"card",style:{padding:24},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:20},children:[h.jsx("div",{style:{width:36,height:36,borderRadius:10,background:"var(--grad-primary)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.1rem"},children:""}),h.jsxs("div",{children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",margin:0},children:"VibeNow Beta"}),h.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.75rem",margin:0},children:"v2.1.0  Latest"})]})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:MC.map((Q,le)=>h.jsxs("div",{style:{padding:"16px 18px",background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:12},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[h.jsx("span",{style:{fontSize:"0.8rem",fontWeight:700,color:Q.type==="feature"?"#a78bfa":Q.type==="fix"?"#6ee7b7":"#fbbf24",background:Q.type==="feature"?"var(--violet-dim)":Q.type==="fix"?"var(--emerald-dim)":"rgba(251,191,36,0.1)",border:`1px solid ${Q.type==="feature"?"rgba(124,58,237,0.3)":Q.type==="fix"?"rgba(16,185,129,0.3)":"rgba(251,191,36,0.3)"}`,padding:"3px 10px",borderRadius:99},children:Q.type==="feature"?" Feature":Q.type==="fix"?" Fix":" Improvement"}),h.jsx("span",{style:{fontSize:"0.72rem",color:"var(--text-dim)"},children:Q.date})]}),h.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:700,color:"var(--text)",margin:"0 0 6px"},children:Q.title}),h.jsx("p",{style:{fontSize:"0.82rem",color:"var(--text-muted)",lineHeight:1.5,margin:0},children:Q.description})]},le))}),h.jsx("div",{style:{marginTop:20,padding:"14px 18px",background:"var(--violet-dim)",border:"1px solid rgba(124,58,237,0.25)",borderRadius:12,textAlign:"center"},children:h.jsxs("p",{style:{fontSize:"0.82rem",color:"#a78bfa",margin:0,lineHeight:1.5},children:[" You're part of the beta! Use code ",h.jsx("strong",{children:"VIBEBETA"})," for a free extra generation.",h.jsx("br",{}),h.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSewbQW_gP4GkuV-U8I9cUQ2o3zElJMZLXHkqY3RH314souZ3Q/viewform?usp=dialog",target:"_blank",rel:"noopener noreferrer",style:{color:"#c4b5fd",fontWeight:600},children:"Fill out this form"})," to win up to 100 extra requests!"]})})]}),p==="admin"&&u&&h.jsx(OC,{})]}),h.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const Ns={display:"block",fontSize:"0.78rem",fontWeight:600,color:"var(--text-muted)",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.08em"},tc={width:"100%",background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:10,color:"var(--text)",fontFamily:"var(--font-body)",fontSize:"0.9rem",padding:"10px 14px",outline:"none"},Bv={padding:"10px 14px",background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:10,color:"var(--text-dim)",fontSize:"0.9rem"},MC=[{type:"fix",date:"Feb 22",title:"Deploy fixed + TypeError crash fix",description:"Site now updates instantly on every push. Fixed crash (TypeError: Cannot read .id of null) when clicking Sign In without Supabase configured."},{type:"feature",date:"Feb 22",title:"VibeBuild: 10 providers, 60+ models",description:"Added OpenAI direct, Anthropic direct (Claude Opus 4, Sonnet 4.5, Haiku 4.5), Google AI (Gemini 2.5 Pro/Flash), xAI/Grok 3, Mistral, Together AI, Cohere, DeepSeek direct, and Custom/Self-hosted (Ollama, LM Studio, vLLM). Any model ID can be typed in."},{type:"feature",date:"Feb 22",title:"VibeBuild: Free model filter + done popup",description:'Toggle "Free only" to filter to models with no cost (e.g. Gemini 2.0 Flash Thinking). After generation completes, a popup shows file count + cost with Download ZIP and View Code buttons.'},{type:"fix",date:"Feb 22",title:"WhatsNew v2.1.0 popup",description:"Release notes popup now shows the deploy fix, expanded providers, free filter, and build done popup."},{type:"feature",date:"Feb 21",title:"VibeBuild website builder launched",description:"Build full projects with your own API key  pick provider, language (HTML, React, Vue, Next.js, Python, etc.), database (SQLite, Postgres, MySQL, MongoDB), see live activity log, stop/queue commands, download as ZIP."},{type:"feature",date:"Feb 21",title:"Admin panel",description:"Admin account (henrybrewer00@gmail.com) can list users, give premium credits, extra requests, and reset premium status."},{type:"feature",date:"Feb 21",title:"Real AI app icons (FLUX Schnell)",description:"Premium kits now generate actual AI-designed icons using FLUX Schnell via OpenRouter instead of generic SVG placeholders."},{type:"feature",date:"Feb 21",title:"Full 7-day marketing plan",description:"Marketing tab now has all 7 days: Reddit (Day 1), ProductHunt tease (Day 2), LinkedIn (Day 3), Hacker News (Day 4), IndieHackers (Day 5), TikTok demo (Day 6), ProductHunt launch (Day 7)."},{type:"fix",date:"Feb 21",title:"Scroll waveform fixed",description:"The side waveform now tracks actual window scroll position. Previously it was querying an element with no overflow which never scrolled."},{type:"feature",date:"Feb 20",title:"Build it button in results",description:"Added  Build it button next to Download ZIP in the results screen to open VibeBuild directly with your kit context."},{type:"feature",date:"Feb 18",title:"Domain name suggestions",description:"Each kit now suggests brandable domains with links to check availability. Includes .me and .tech which are free with GitHub Education."},{type:"feature",date:"Feb 18",title:"Pricing breakdown",description:"Kits now include a recommended pricing model with tiers, features, and price points tailored to your idea."},{type:"feature",date:"Feb 17",title:"Cloud-synced history",description:"Past generations are saved to your account. Pull them up from any device."},{type:"feature",date:"Feb 16",title:"Accounts + usage counter",description:"Sign up / log in with email. Manage your password and profile. Top bar shows how many generations you have left this week."},{type:"feature",date:"Feb 16",title:"Promo codes",description:"Redeem codes like VIBEBETA for bonus generations."},{type:"fix",date:"Feb 16",title:"Preview links fixed",description:"Clicking buttons in the live preview no longer navigates you away from VibeNow."}];function zC({onSubmit:n,onRandom:t,onAccount:a,onViewPast:r,profile:l,loading:c,history:u,premiumBanner:p,premiumMode:m}){const[g,y]=T.useState(""),[x,b]=T.useState(!1),S=T.useRef(null),_=T.useRef(null);T.useEffect(()=>{if(x){const k=setTimeout(()=>{S.current?.focus(),_.current?.scrollIntoView({behavior:"smooth",block:"start"})},350);return()=>clearTimeout(k)}},[x]);const j=()=>{const k=g.trim();!k||c||n(k)},R=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),j())},A=g.trim().length>0,C=g.length;return h.jsxs(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.97},transition:{duration:.25},style:{paddingTop:0},children:[h.jsxs("section",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"120px 24px 80px",textAlign:"center",position:"relative"},children:[h.jsxs(Re.div,{className:"section-eyebrow",style:{justifyContent:"center"},initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:.05,duration:.5},children:[h.jsx("div",{className:"el l"}),h.jsx("span",{children:"AI Startup Kit Generator"}),h.jsx("div",{className:"el r"})]}),h.jsxs(Re.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{delay:.12,type:"spring",stiffness:200,damping:22},style:{marginBottom:24},children:[h.jsx("h1",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"clamp(72px, 12vw, 148px)",lineHeight:.9,letterSpacing:"-0.04em",background:"linear-gradient(135deg, var(--accent-1), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",display:"block"},children:"VIBE"}),h.jsx("h1",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontStyle:"italic",fontSize:"clamp(72px, 12vw, 148px)",lineHeight:.9,letterSpacing:"-0.04em",color:"var(--text)",display:"block"},children:"now."})]}),h.jsx(Re.p,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.22,duration:.5},style:{color:"rgba(255,255,255,0.4)",fontWeight:300,fontSize:"1.1rem",maxWidth:420,marginBottom:40,lineHeight:1.6},children:"Describe your idea. Get a full launch kit in seconds."}),h.jsx(Re.button,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.3,duration:.5},className:"btn-filled",onClick:()=>b(!0),style:{padding:"16px 36px",fontSize:"1rem",fontWeight:500},children:"Start Generating "})]}),h.jsx(cn,{children:x&&h.jsx(Re.section,{ref:_,initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.45,type:"spring",stiffness:180,damping:24},style:{padding:"0 24px 100px",display:"flex",flexDirection:"column",alignItems:"center"},children:h.jsxs("div",{style:{width:"100%",maxWidth:640},children:[h.jsxs("div",{className:"section-eyebrow",children:[h.jsx("div",{className:"el l"}),h.jsx("span",{children:"Your Idea"}),h.jsx("div",{className:"el r"})]}),h.jsxs("div",{style:{marginBottom:28},children:[h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"clamp(36px, 6vw, 64px)",lineHeight:.95,letterSpacing:"-0.03em"},children:h.jsx("span",{style:{background:"linear-gradient(135deg, var(--accent-1), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"your"})}),h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontStyle:"italic",fontSize:"clamp(36px, 6vw, 64px)",lineHeight:.95,letterSpacing:"-0.03em",color:"var(--text)"},children:"idea."}),h.jsx("p",{style:{color:"rgba(255,255,255,0.35)",fontWeight:300,fontSize:"0.95rem",marginTop:12},children:"Rough is fine  describe any concept and we'll shape it into a full kit."})]}),h.jsx("div",{className:"input-wrap",style:{marginBottom:8},children:h.jsx("textarea",{ref:S,value:g,onChange:k=>y(k.target.value.slice(0,500)),onKeyDown:R,placeholder:"e.g. An app that helps freelancers track time and auto-send invoices...",disabled:c})}),h.jsxs("div",{style:{textAlign:"right",fontSize:"12px",color:"var(--muted)",marginBottom:16},children:[C," / 500"]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[h.jsx("button",{className:"btn-ghost",onClick:t,disabled:c,style:{display:"flex",alignItems:"center",gap:6},children:"Random "}),h.jsx("button",{className:"btn-filled",onClick:j,disabled:!A||c,style:{padding:"12px 28px",fontSize:"0.95rem",opacity:A&&!c?1:.4,cursor:A&&!c?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:8},children:m?" Premium Generate ":"Generate "})]}),h.jsx("p",{style:{textAlign:"center",marginTop:14,fontSize:"12px",color:"var(--muted)",fontWeight:300},children:"No signup required on free tier"}),m?h.jsxs(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},style:{marginTop:16,padding:"12px 16px",background:"linear-gradient(135deg,rgba(168,85,247,0.15),rgba(236,72,153,0.10))",border:"1px solid rgba(192,132,252,0.3)",borderRadius:14,display:"flex",alignItems:"center",gap:10},children:[h.jsx("span",{style:{fontSize:"1.2rem"},children:""}),h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:600,fontSize:"0.88rem",color:"var(--accent-1)",margin:0},children:"Premium mode is on"}),h.jsx("p",{style:{fontSize:"0.78rem",color:"rgba(192,132,252,0.6)",margin:0},children:"Uses advanced AI models and detailed prompts."})]})]}):p?h.jsx(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},style:{marginTop:16},children:p}):null,u&&u.length>0&&h.jsxs(Re.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2,type:"spring",stiffness:200,damping:24},style:{marginTop:40},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12,color:"var(--muted)",fontSize:"0.82rem",fontWeight:500},children:[h.jsx(tx,{size:14}),"Past Generations"]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:u.slice(0,5).map(k=>h.jsxs("button",{onClick:()=>r(k),style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",background:"var(--surface)",border:"1px solid var(--border)",borderRadius:14,cursor:"pointer",textAlign:"left",width:"100%",transition:"border-color 0.2s"},onMouseEnter:L=>L.currentTarget.style.borderColor="rgba(192,132,252,0.3)",onMouseLeave:L=>L.currentTarget.style.borderColor="var(--border)",children:[h.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1,marginRight:12,fontWeight:300},children:k.idea}),h.jsx("span",{style:{fontSize:"0.72rem",color:"var(--muted)",flexShrink:0},children:new Date(k.createdAt).toLocaleDateString()})]},k.id))})]})]})})})]})}function NC({idea:n,onSwipe:t,isTop:a}){const r=D1(0),l=Rk(),c=to(r,[-200,0,200],[-18,0,18]),u=to(r,[20,80],[0,1]),p=to(r,[-80,-20],[1,0]),m=to(r,[-150,0,150],["rgba(239,68,68,0.08)","rgba(13,13,26,1)","rgba(16,185,129,0.08)"]),g=async(y,x)=>{const{offset:b,velocity:S}=x,_=80,j=500;b.x>_||S.x>j?(await l.start({x:520,opacity:0,transition:{duration:.3,ease:"easeOut"}}),t("right")):b.x<-_||S.x<-j?(await l.start({x:-520,opacity:0,transition:{duration:.3,ease:"easeOut"}}),t("left")):l.start({x:0,transition:{type:"spring",stiffness:300,damping:20}})};return a?h.jsxs(Re.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.7,onDragEnd:g,animate:l,style:{x:r,rotate:c,background:m,position:"absolute",top:0,left:0,zIndex:10,cursor:"grab",touchAction:"none",userSelect:"none"},className:"swipe-card",whileTap:{cursor:"grabbing"},children:[h.jsx(Re.div,{className:"swipe-hint swipe-hint-left",style:{opacity:p},children:" Pass"}),h.jsx(Re.div,{className:"swipe-hint swipe-hint-right",style:{opacity:u},children:" Pick"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",height:"100%",gap:16},children:[h.jsx("span",{className:"badge badge-category",style:{alignSelf:"flex-start"},children:n.category}),h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:800,fontSize:"clamp(1.4rem, 4vw, 1.75rem)",lineHeight:1.1,letterSpacing:"-0.02em",color:"var(--text)",flex:1},children:n.title}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",lineHeight:1.6},children:n.hook||n.description}),h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:16,borderTop:"1px solid var(--border)",color:"var(--text-dim)",fontSize:"0.75rem"},children:[h.jsx("span",{children:" Pass"}),h.jsx("span",{children:"Pick "})]})]})]}):null}const Lv=5;function BC({ideas:n,onChoose:t,onStartOver:a,onQuickBuild:r}){const[l,c]=T.useState([]),[u,p]=T.useState(0),[m,g]=T.useState([]);T.useEffect(()=>{const R=n.slice(0,Lv);c(R),g(R),p(0)},[n]);const y=l.length,x=Lv,b=T.useCallback(R=>{const A=l[0],C=l.slice(1);c(C),p(k=>k+1),R==="right"&&t(A)},[l,t]);T.useEffect(()=>{const R=A=>{l.length!==0&&(A.key==="ArrowRight"&&b("right"),A.key==="ArrowLeft"&&b("left"))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[b,l.length]);const S=l[0],_=l[1],j=l[2];return l.length===0?h.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:20,padding:"40px 24px",textAlign:"center"},children:[h.jsx("div",{style:{fontSize:"3rem"},children:""}),h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontSize:"1.5rem",fontWeight:800,color:"var(--text)"},children:"That's all of them!"}),h.jsx("p",{style:{color:"var(--text-muted)",maxWidth:300,lineHeight:1.6},children:"You've seen all 5 ideas. Browse them again and pick one to build out."}),h.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[h.jsxs("button",{className:"btn btn-primary",onClick:()=>{c([...m]),p(0)},children:[h.jsx(Vf,{size:16}),"See them again"]}),h.jsx("button",{className:"btn btn-secondary",onClick:a,children:"Start over"})]})]}):h.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"16px 0 40px"},children:[h.jsxs("div",{style:{width:320,marginBottom:20},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[h.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.8rem",fontWeight:500},children:[y," cards left"]}),h.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.8rem"},children:"  or drag"})]}),h.jsx("div",{style:{height:3,background:"var(--surface-2)",borderRadius:99,overflow:"hidden"},children:h.jsx(Re.div,{style:{height:"100%",background:"var(--grad-primary)",borderRadius:99},animate:{width:`${(x-y)/x*100}%`},transition:{type:"spring",stiffness:200,damping:30}})})]}),h.jsxs("div",{style:{position:"relative",width:320,height:340,marginBottom:32},children:[j&&h.jsx("div",{style:{position:"absolute",top:16,left:"50%",transform:"translateX(-50%) scale(0.88)",transformOrigin:"bottom center",width:320,height:340,background:"var(--surface-1)",border:"1px solid var(--border)",borderRadius:24,opacity:.35,zIndex:1}}),_&&h.jsx("div",{style:{position:"absolute",top:8,left:"50%",transform:"translateX(-50%) scale(0.94)",transformOrigin:"bottom center",width:320,height:340,background:"var(--surface-1)",border:"1px solid var(--border)",borderRadius:24,opacity:.6,zIndex:2}}),h.jsx(cn,{mode:"popLayout",children:S&&h.jsx(NC,{idea:S,onSwipe:b,isTop:!0},S.title+u)})]}),h.jsxs("div",{style:{display:"flex",gap:20,alignItems:"center"},children:[h.jsx("button",{className:"btn btn-icon",onClick:()=>b("left"),style:{background:"var(--red-dim)",border:"1px solid rgba(239,68,68,0.3)",color:"var(--red)"},title:"Skip ()",children:h.jsx(Nc,{size:22})}),h.jsx("button",{className:"btn btn-icon",onClick:()=>b("right"),style:{background:"var(--emerald-dim)",border:"1px solid rgba(16,185,129,0.3)",color:"var(--emerald)",width:64,height:64},title:"Pick this idea ()",children:h.jsx(nr,{size:26})})]}),S&&r&&h.jsx("button",{onClick:()=>r(S),style:{marginTop:12,padding:"10px 28px",borderRadius:100,background:"linear-gradient(135deg, #7c3aed, #ec4899)",border:"none",color:"#fff",fontWeight:700,fontSize:"0.85rem",cursor:"pointer",fontFamily:"inherit",letterSpacing:"0.02em",boxShadow:"0 4px 20px rgba(124,58,237,0.4)"},children:"Quick Build this idea"}),h.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.72rem",marginTop:12},children:"Pick  to build this out  Skip  to see more"})]})}const LC="modulepreload",UC=function(n){return"/"+n},Uv={},rx=function(t,a,r){let l=Promise.resolve();if(a&&a.length>0){let g=function(y){return Promise.all(y.map(x=>Promise.resolve(x).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};var u=g;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),m=p?.nonce||p?.getAttribute("nonce");l=g(a.map(y=>{if(y=UC(y),y in Uv)return;Uv[y]=!0;const x=y.endsWith(".css"),b=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${b}`))return;const S=document.createElement("link");if(S.rel=x?"stylesheet":LC,x||(S.as="script"),S.crossOrigin="",S.href=y,m&&S.setAttribute("nonce",m),document.head.appendChild(S),x)return new Promise((_,j)=>{S.addEventListener("load",_),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(p){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=p,window.dispatchEvent(m),!m.defaultPrevented)throw p}return l.then(p=>{for(const m of p||[])m.status==="rejected"&&c(m.reason);return t().catch(c)})},ox="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",PC="AIzaSyDsBjUN2f5zggjBaIpCz-g2ONZnYLMG9NY",$f="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",IC=void 0;async function Ga(n,t,a=.7){const r=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ox}`},body:JSON.stringify({model:n,messages:[{role:"user",content:t}],temperature:a,response_format:{type:"json_object"}})});if(!r.ok)throw new Error(`Groq ${r.status}`);const l=await r.json();return JSON.parse(l.choices[0].message.content)}async function lx(n,t,a=.7){const r=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ox}`},body:JSON.stringify({model:n,messages:[{role:"user",content:t}],temperature:a})});if(!r.ok)throw new Error(`Groq ${r.status}`);return(await r.json()).choices[0].message.content}async function VC(n,t=.7,a=2,r="gemini-2.0-flash"){const l=`https://generativelanguage.googleapis.com/v1beta/models/${r}:generateContent?key=${PC}`;for(let c=0;c<=a;c++){const u=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:t}})});if(u.ok)return(await u.json()).candidates[0].content.parts[0].text;if(u.status===429&&c<a){console.warn(`Gemini text 429  retry ${c+1}/${a} after ${(c+1)*2}s`),await new Promise(p=>setTimeout(p,(c+1)*2e3));continue}if(u.status===429)return console.warn("Gemini text 429  switching to Groq"),await lx("llama-3.3-70b-versatile",n,t);throw new Error(`Gemini text ${u.status}`)}}async function $C(n){const t=await fetch("https://openrouter.ai/api/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$f}`,"HTTP-Referer":"https://vibenow.me","X-Title":"VibeNow"},body:JSON.stringify({model:"black-forest-labs/flux-schnell",prompt:n,n:1,size:"512x512",response_format:"url"})});if(!t.ok){const l=await t.text().catch(()=>"");throw new Error(`OpenRouter Image ${t.status}: ${l.slice(0,120)}`)}const r=(await t.json()).data?.[0];if(!r)throw new Error("No image returned");return r.url||(r.b64_json?`data:image/png;base64,${r.b64_json}`:null)}async function Fa(n,t=.7,a="deepseek/deepseek-chat-v3-0324",r=2e3){const l=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$f}`,"HTTP-Referer":"https://vibenow.me","X-Title":"VibeNow"},body:JSON.stringify({model:a,messages:[{role:"user",content:n}],temperature:t,max_tokens:r,response_format:{type:"json_object"}})});if(!l.ok)throw new Error(`OpenRouter ${l.status}`);const c=await l.json();return JSON.parse(c.choices[0].message.content)}async function sf(n,t=.7,a="deepseek/deepseek-chat-v3-0324"){const r=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$f}`,"HTTP-Referer":"https://vibenow.me","X-Title":"VibeNow"},body:JSON.stringify({model:a,messages:[{role:"user",content:n}],temperature:t})});if(!r.ok)throw new Error(`OpenRouter ${r.status}`);return(await r.json()).choices[0].message.content}async function Pv(n,t,a=.7){const r=await fetch("https://api.llmgateway.io/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${IC}`},body:JSON.stringify({model:n,messages:[{role:"user",content:t}],temperature:a})});if(!r.ok)throw new Error(`LLM Gateway ${r.status}`);return(await r.json()).choices[0].message.content}async function HC(n){const t=`Generate exactly 5 diverse, original startup/app ideas inspired by: "${n}"

Vary category, audience, and approach. Be creative and specific. Each idea must be genuinely different from the others.

Return ONLY valid JSON:
{ "ideas": [
    { "title": "Short product name (2-4 words)", "category": "SaaS|B2B|Consumer|DevTool|Health|Finance|Creator|Education|Marketplace", "hook": "One punchy compelling sentence about what it does" }
] }`;try{const a=await Fa(t,.9),r=a.ideas||a;return Array.isArray(r)?r.slice(0,5):Iv()}catch{try{const a=await Ga("llama-3.1-8b-instant",t,.9);return(a.ideas||a).slice(0,5)}catch{return Iv()}}}async function cx(n){const t=`Create a highly specific 7-day cross-platform marketing launch plan for this startup: "${n}"

Each platform entry MUST include the EXACT channel (specific subreddit, hashtag, group, etc.).

Subreddit examples by type:
- General startup: r/entrepreneur, r/startups, r/SideProject
- SaaS/devtools: r/SaaS, r/webdev, r/programming, r/MachineLearning
- Marketing/growth: r/marketing, r/digitalmarketing, r/growthhacking
- Finance: r/personalfinance, r/financialindependence, r/investing
- Health: r/LifeHacks, r/selfimprovement, r/productivity
- Creator: r/NewTubers, r/podcasting, r/blogging
- B2B: r/sales, r/b2b, r/smallbusiness

Return ONLY valid JSON:
{
  "productName": "Short product name",
  "tagline": "One-line tagline",
  "days": [
    {
      "day": 1,
      "theme": "Day theme",
      "platforms": [
        {
          "platform": "Reddit",
          "channel": "r/entrepreneur",
          "postTitle": "Exact post title to use",
          "postContent": "Full ready-to-post content (3+ paragraphs, specific to this idea, NOT generic)",
          "tip": "Specific pro tip for this subreddit (post timing, flair to use, rules to know)"
        }
      ]
    }
  ]
}

Exact 7-day platform schedule:
- Day 1: Reddit (2 most relevant subreddits), Twitter/X (#buildinpublic thread)
- Day 2: LinkedIn post (founder story angle), Hacker News Show HN
- Day 3: Twitter/X thread (problem breakdown), cold email 10 potential users
- Day 4: IndieHackers milestone post, YouTube comment outreach on relevant videos
- Day 5: Reddit AMA-style post, Twitter/X share a key insight/lesson
- Day 6: Email list warmup, Instagram/TikTok short demo video script
- Day 7: Product Hunt (full launch  exact hunter strategy, comment templates, upvote DM template), Twitter/X launch announcement

Every post must be SPECIFIC to "${n}"  real content, not placeholders.`;try{return await Fa(t,.7,"deepseek/deepseek-chat-v3-0324",6e3)}catch{try{return await Ga("llama-3.3-70b-versatile",t,.7)}catch{return Gf(n)}}}async function ux(n){const t=`You are a product strategist. The user described a project idea casually: "${n}"

Take this and flesh it out into a detailed product description. Cover:
- What exactly the product is and does (be specific about features)
- Who it's for (target audience)
- Key differentiators / what makes it unique
- Core user flows
- Monetization angle (if applicable, otherwise say "open source" or "free tool")

Write 4-6 sentences. Be specific and opinionated  make real decisions. Don't be generic.
Return ONLY the description text, no labels or formatting.`;let a,r;try{const c=await sf(t,.7);a=n.split(":")[0].trim(),r=c.trim()}catch{const c=n.split(":");a=c[0].trim(),r=c.slice(1).join(":").trim()||n}const l=`You are a senior software architect. Write a COMPLETE, EXHAUSTIVE vibe-coding system prompt for an AI coding assistant to build this project from scratch:

Product: "${a}"
Description: "${r}"

CRITICAL RULES:
- The output is a standalone system prompt. A developer using Cursor/Claude should be able to ship a COMPLETE, POLISHED product using ONLY this prompt.
- The MAJORITY of this document should describe THE ACTUAL APP IN EXTREME DETAIL. Not boilerplate. Not generic SaaS advice. THE ACTUAL APP.
- Adapt to what this project actually is. If it's a game, write about game mechanics, levels, scoring, physics, controls. If it's a tool, write about the tool's workflow. If it's a social app, write about feeds, profiles, interactions. DO NOT shoehorn SaaS patterns onto non-SaaS projects.
- Only include sections that are relevant (e.g. skip Stripe/Auth for a simple game, skip database for a static tool).

Write ALL applicable sections below in FULL DETAIL. No summaries. No "etc." No skipping.

---

## PRODUCT VISION & CONCEPT
- Full name: ${a}
- Elevator pitch (2 sentences  what is it and why does anyone care?)
- Detailed description (8-10 sentences): What does the user SEE when they open this? What do they DO? Walk through the entire experience from the moment they land on it. Be hyper-specific. Describe the actual interface, the actual interactions, the actual content. Paint a picture so vivid a designer could mock it up from this alone.
- The "wow moment"  what specific thing makes a user think "this is cool" within the first 30 seconds?
- What problem does this solve OR what experience does this create?
- Who specifically uses this? (be concrete  "16-year-old who's bored in class" not "general consumers")

## DETAILED APP WALKTHROUGH
This is the most important section. Walk through EVERY screen, EVERY interaction, EVERY state of the app in narrative form. Write this like you're describing exactly what someone sees and does:

- **First Load**: What appears on screen? Describe the layout, colors, typography, animations. What draws the eye first? What can the user click/tap?
- **Core Loop**: Step by step, what does the user DO? Describe each action and its result. What changes on screen? What feedback do they get? Be extremely specific  don't say "the user interacts with the main feature", say exactly what buttons they press, what happens when they press them, what animations play, what sounds occur.
- **All Screens/Views**: Describe every distinct screen or view in the app. For each one: what's on it, how do you get there, what can you do, what does it look like.
- **States & Transitions**: Loading states, empty states, error states, success states. What does each look like? What copy appears? What animations play between screens?
- **Edge Cases**: What happens when things go wrong? Empty data? Slow connection? Invalid input? Describe the UX for each.

## VISUAL DESIGN SPEC
- Color palette: exact hex codes for primary, secondary, background, text, accent, error, success
- Typography: font families, sizes for headings/body/captions, line heights, font weights
- Spacing system: base unit, padding/margin scale
- Border radius, shadows, elevation levels
- Dark mode / light mode (which one, or both?)
- Animation style: easing curves, durations, what animates and what doesn't
- Overall aesthetic in 2-3 words (e.g. "playful and bold", "minimal and clean", "retro pixel art")
- Inspiration: name 2-3 existing apps/sites that capture the visual vibe

## FEATURE SPECS (every feature, full detail)
List every feature this specific app needs. For EACH one write:
**[Feature Name]**
- What it does (3-4 sentences, specific to THIS app)
- Exact UI: layout, every button, every input, every visual element, every state
- Logic: what happens under the hood when the user triggers this feature
- Edge cases: 5+ specific scenarios and how each is handled
- Micro-interactions: hover effects, click feedback, transitions, sounds

Adapt the feature list to THIS project. Examples of what to cover depending on the type:
- Game: controls, physics/mechanics, scoring, levels/difficulty, game over/restart, high scores, power-ups, collision detection, win/lose conditions
- Tool: input methods, processing steps, output format, export options, history/undo
- Social: profiles, feeds, posting, interactions, notifications, discovery
- SaaS: onboarding, dashboard, core workflow, settings, billing

## TECH STACK
Pick the RIGHT stack for THIS project (not always Next.js + Prisma  a canvas game needs different tech than a dashboard app):
- Framework & why it fits this project
- Styling approach & why
- Key libraries/packages with versions (list every major dependency)
- State management approach
- Data storage (if needed  could be localStorage, could be a full DB, could be nothing)
- Auth (only if the app needs it)
- Hosting recommendation
- Any special APIs or services needed

## COMPLETE FILE & FOLDER STRUCTURE
Full directory tree with descriptions. Adapt to the chosen tech stack:
\`\`\`
project/
 [every file and folder with # comment describing purpose]
\`\`\`

## DATA MODEL
Define all data structures. This could be:
- Database schema (if using a DB)
- TypeScript interfaces/types (if client-only)
- Game state objects (if a game)
- API response shapes (if consuming APIs)
Write out every field, every type, every relationship.

## COMPLETE API / LOGIC DESIGN
For apps with a backend, spec every endpoint. For client-only apps, spec every major function:
- Function/endpoint name
- Input parameters with types
- What it does (step by step logic)
- Return value with exact shape
- Error handling

## BUILD ORDER (exact sequence)
Every step with exact terminal commands:
Step 1: Project setup  exact commands to scaffold
Step 2: Core structure  what files to create first and why
Step 3-N: Build each feature in order of dependency. For each step:
  - What to build
  - Exact commands if needed
  - How to test/verify it works before moving on
(Minimum 10 steps. Be specific to THIS project.)

## POLISH & DETAILS
- Loading states and skeleton screens
- Error handling and user-friendly error messages (exact copy)
- Keyboard shortcuts (if applicable)
- Mobile responsiveness (exact breakpoints and what changes)
- Accessibility: focus states, aria labels, screen reader support
- Performance: what to optimize and how
- SEO (if web-facing): meta tags, OG images, descriptions

---

Write every section in full. Minimum 3000 words. The BULK should be about the actual app  its features, its interactions, its design. Tech stack and infrastructure should be ~20% of the document, the app itself ~80%. This prompt is pasted directly into Cursor/Claude  it must be 100% self-contained.`;try{return(await sf(l,.4)).replace(/^```[\w]*\n?/,"").replace(/\n?```$/,"").trim()}catch{try{return(await VC(l,.4)).replace(/^```[\w]*\n?/,"").replace(/\n?```$/,"").trim()}catch{return Ff(n)}}}async function dx(n){const t=n.split(":")[0].trim().split(" ").slice(0,4).join(" "),a=`Generate startup legal document templates for this product: "${n}"
Product name: "${t}"

CRITICAL: Use "${t}" everywhere. Never use "[Company Name]" or any placeholder. Contact: support@${t.toLowerCase().replace(/\s+/g,"")}.com

Return ONLY valid JSON:
{
  "productName": "${t}",
  "privacyPolicy": "Complete Privacy Policy markdown. Cover: data collection, usage, storage, cookies, third-party sharing, user rights (GDPR/CCPA), data retention, contact. Use ${t} throughout. Minimum 700 words.",
  "termsOfService": "Complete Terms of Service markdown. Cover: acceptance, service description, user accounts, prohibited uses, IP ownership, disclaimers, liability limits, termination, governing law, dispute resolution. Use ${t} throughout. Minimum 700 words.",
  "disclaimer": "Legal disclaimer (250 words) covering no warranty, no financial/legal advice, limitation of liability, use at own risk. Use ${t} throughout."
}`;try{const r=await Fa(a,.4),l=c=>typeof c=="string"?c.replace(/\[Company Name\]/g,t).replace(/\[Your Company\]/g,t).replace(/\[App Name\]/g,t):c;return{...r,productName:r.productName||t,privacyPolicy:l(r.privacyPolicy),termsOfService:l(r.termsOfService),disclaimer:l(r.disclaimer)}}catch{try{const r=await Ga("llama-3.3-70b-versatile",a,.4),l=c=>typeof c=="string"?c.replace(/\[Company Name\]/g,t).replace(/\[Your Company\]/g,t):c;return{...r,privacyPolicy:l(r.privacyPolicy),termsOfService:l(r.termsOfService),disclaimer:l(r.disclaimer)}}catch{return Wf(n)}}}async function hx(n){const t=n.split(":")[0].trim(),a=`You are a world-class SVG app icon designer. Create 5 stunning app store quality icons for: "${n}"

Each icon must look like a REAL iOS/Android app icon:
- viewBox="0 0 512 512"
- A vivid 2-color linear gradient background rect with rx="96" (use <defs> + <linearGradient>)
- Detailed, filled central artwork that is SPECIFIC and MEANINGFUL to this product (not a generic circle)
- Unique gradient IDs per icon (grad1, grad2...)
- NO text inside icons

Icons to create:
1. "logo"  Main app icon, most detailed
2. "feature"  Primary feature of this app
3. "social"  Community/sharing aspect
4. "data"  Analytics or insights
5. "premium"  Pro/upgrade badge (star or crown)

Use different gradient color pairs: purple/pink, blue/cyan, green/teal, orange/yellow, red/rose.

Return ONLY valid JSON (no markdown):
{
  "productName": "${t}",
  "icons": [
    {
      "name": "logo",
      "description": "What this icon shows",
      "svg": "<svg viewBox='0 0 512 512' xmlns='http://www.w3.org/2000/svg'><defs>...</defs><rect width='512' height='512' rx='96' fill='url(#grad1)'/>[central artwork]</svg>"
    }
  ]
}`;try{return await Fa(a,.6)}catch{try{return await Ga("llama-3.3-70b-versatile",a,.6)}catch{return Yf(n)}}}async function fx(n){const t=`Generate a practical step-by-step guide to bring this startup to life: "${n}"

Return ONLY valid JSON:
{
  "steps": [
    {
      "step": 1,
      "title": "Step title",
      "description": "What to do and why (2-3 sentences specific to this idea)",
      "timeEstimate": "e.g. 1 day",
      "tools": [
        {
          "name": "Tool name",
          "type": "Category",
          "description": "Why this tool fits this step specifically",
          "pricing": "Exact pricing",
          "hasFree": true,
          "url": "domain.com"
        }
      ]
    }
  ]
}

Exactly 7 steps with these tools ONLY in these steps:
1. Plan & Architect  Claude.ai, ChatGPT, Notion, Linear
2. Build MVP (vibe-coding)  Cursor, Bolt.new, Lovable.dev, Windsurf
3. Database & Backend  Supabase, Neon, Railway, PlanetScale
4. Frontend & Design  v0.dev, Framer, Figma, shadcn/ui
5. Payments  Stripe, Lemon Squeezy, Paddle
6. Launch & Marketing  Product Hunt, Beehiiv, Buffer, Typefully
7. Monitor & Scale  Vercel, PostHog, Sentry, Plausible, Resend

Never put Bolt.new in step 7. Never put Vercel in step 2. Keep tools in their correct steps only.`;try{return await Fa(t,.5)}catch{try{return await Ga("llama-3.1-8b-instant",t,.5)}catch{return Kf(n)}}}async function qC(n,t){const a=`You are editing a specific section of a technical AI coding prompt.

CURRENT SECTION:
${n}

USER INSTRUCTION: "${t}"

Rewrite this section incorporating the instruction. Match the existing style, formatting, and level of detail. Return ONLY the rewritten section  no explanation, no prefix, no markdown fences.`;try{return await sf(a,.5)}catch{try{return await lx("llama-3.3-70b-versatile",a,.5)}catch{throw new Error("Line edit failed")}}}async function px(n){const t=`You are a branding expert. For this startup idea: "${n}"

Generate 8 brandable domain name suggestions. Mix these TLDs: .com, .io, .co, .app, .dev, .me, .tech
Make names short (1-2 words), catchy, and memorable. Avoid hyphens.

Return ONLY valid JSON:
{
  "tip": "One sentence explaining the naming strategy",
  "domains": [
    { "domain": "example.com", "reason": "Why this name works (one short sentence)" }
  ]
}`;try{return await Fa(t,.85)}catch{try{return await Ga("llama-3.3-70b-versatile",t,.85)}catch{return Hf(n)}}}function Hf(n){const t=n.toLowerCase().replace(/[^a-z0-9]+/g,"").slice(0,10);return{tip:"Short, brandable names work best for startups.",domains:[{domain:`${t}.com`,reason:"Classic .com for credibility"},{domain:`${t}.io`,reason:"Popular with tech startups"},{domain:`${t}app.dev`,reason:"Modern developer-friendly TLD"},{domain:`get${t}.com`,reason:"Action-oriented prefix"},{domain:`${t}.me`,reason:"Free with GitHub Education Pack"},{domain:`${t}.tech`,reason:"Free with GitHub Education Pack"}]}}async function mx(n){const t=`You are a SaaS pricing strategist. For this startup idea: "${n}"

Create a detailed pricing strategy with 3 tiers.

Return ONLY valid JSON:
{
  "strategy": "Name of pricing model (e.g. Freemium, Usage-Based, Tiered SaaS)",
  "reasoning": "2-3 sentences explaining why this model fits this product",
  "tiers": [
    {
      "name": "Tier name",
      "price": "$0" or "$X",
      "period": "month" or "year" or null for free,
      "description": "One sentence about who this tier is for",
      "popular": false,
      "features": ["feature 1", "feature 2", "feature 3", "feature 4"]
    }
  ],
  "tips": ["Pricing tip 1", "Pricing tip 2", "Pricing tip 3"]
}

Make one tier popular/recommended. Make the free tier genuinely useful. Price competitively.`;try{return await Fa(t,.7)}catch{try{return await Ga("llama-3.3-70b-versatile",t,.7)}catch{return qf()}}}function qf(n){return{strategy:"Freemium",reasoning:"Start with a generous free tier to drive adoption, then convert power users to paid plans.",tiers:[{name:"Free",price:"$0",period:null,description:"For individuals getting started",popular:!1,features:["Core features","Community support","Basic analytics","1 project"]},{name:"Pro",price:"$12",period:"month",description:"For serious builders",popular:!0,features:["Everything in Free","Unlimited projects","Priority support","Advanced analytics","Custom branding"]},{name:"Team",price:"$29",period:"month",description:"For growing teams",popular:!1,features:["Everything in Pro","Team collaboration","Admin controls","API access","Dedicated support"]}],tips:["Start with annual discount (20%) to improve retention","Offer a 14-day free trial of Pro","Price based on value delivered, not costs"]}}async function GC(n){const t=g=>new Promise(y=>setTimeout(y,g)),[a,r,l]=await Promise.allSettled([cx(n),ux(n),dx(n)]);await t(400);const[c,u,p,m]=await Promise.allSettled([hx(n),fx(n),px(n),mx(n)]);return{marketing:a.status==="fulfilled"?a.value:Gf(n),buildPrompt:r.status==="fulfilled"?r.value:Ff(n),legal:l.status==="fulfilled"?l.value:Wf(n),icons:c.status==="fulfilled"?c.value:Yf(n),launchSteps:u.status==="fulfilled"?u.value:Kf(n),domains:p.status==="fulfilled"?p.value:Hf(n),pricing:m.status==="fulfilled"?m.value:qf()}}async function FC(n){const t=`You are a product strategist. The user described a project: "${n}"

Flesh it out into a detailed product description covering what it is, who it's for, key features, differentiators, and monetization. Write 5-7 sentences, be specific. Return only the description text.`;let a,r;try{r=await Pv("claude-haiku-4-5-20251001",t,.7),a=n.split(":")[0].trim()}catch{const c=n.split(":");a=c[0].trim(),r=c.slice(1).join(":").trim()||n}const l=`You are a senior software architect. Write a COMPLETE, EXHAUSTIVE vibe-coding system prompt for an AI coding assistant to build this project from scratch:

Product: "${a}"
Description: "${r}"

CRITICAL RULES:
- Standalone system prompt  developer uses ONLY this to ship a complete product.
- 80% detailed app description, 20% tech. THE ACTUAL APP in extreme detail.
- Adapt to what this project actually is (game, tool, social, SaaS  write accordingly).
- Only include sections that apply (no Stripe/Auth for a simple game).

## PRODUCT VISION & CONCEPT
- Full name, elevator pitch, 8-10 sentence detailed description of the complete user experience
- The "wow moment" in the first 30 seconds
- Exactly who uses this (be concrete)

## DETAILED APP WALKTHROUGH
Walk through EVERY screen, EVERY interaction, EVERY state in narrative form:
- First Load: layout, colors, typography, animations, what draws the eye
- Core Loop: exact step-by-step  button presses, screen changes, animations, feedback
- All Screens/Views: every distinct screen, how to get there, what you can do
- States: loading, empty, error, success  exact copy and animations for each
- Edge Cases: wrong input, slow connection, empty data  UX for each

## VISUAL DESIGN SPEC
- Color palette with exact hex codes, typography, spacing system
- Dark/light mode, animation style, overall aesthetic in 3 words
- 2-3 existing apps that match the visual vibe

## FEATURE SPECS
For each feature specific to this project:
- What it does (4-5 sentences)
- Exact UI: every element, every state
- Logic: what happens under the hood
- 5+ edge cases
- Micro-interactions and feedback

## TECH STACK
Right stack for THIS project with versions. Justify each choice.

## COMPLETE FILE STRUCTURE
Full directory tree with inline comments

## DATA MODEL
All types/interfaces/schema  every field, type, relationship

## BUILD ORDER
12+ steps with exact terminal commands and verification for each

## POLISH
Loading states, error messages (exact copy), keyboard shortcuts, responsiveness, accessibility

Write every section in full. Minimum 4000 words. 80% app, 20% tech.`;try{const c=await Pv("claude-haiku-4-5-20251001",l,.4);return console.log(" Premium build prompt: Claude Haiku succeeded"),c.replace(/^```[\w]*\n?/,"").replace(/\n?```$/,"").trim()}catch(c){return console.warn("Premium build prompt failed:",c.message),ux(n)}}async function WC(n){const t=n.split(":")[0].trim(),a=[{name:"logo",description:"Main app logo",prompt:`App store icon for "${t}", ${n.slice(0,80)}, vibrant gradient background, bold centered symbol, flat design, no text, no words, 512x512`},{name:"feature",description:"Primary feature",prompt:`App icon representing the main feature of "${t}", colorful gradient, modern flat design, no text, 512x512`},{name:"social",description:"Community",prompt:`Social community icon for "${t}", purple blue gradient, people or network symbol, no text, 512x512`},{name:"analytics",description:"Data & insights",prompt:`Analytics dashboard icon for "${t}", teal green gradient, chart bars or graph, minimal flat design, no text, 512x512`},{name:"premium",description:"Premium tier",prompt:`Premium pro tier icon for "${t}", gold yellow gradient, star or crown symbol, luxury minimal style, no text, 512x512`}];try{const l=(await Promise.allSettled(a.map(c=>$C(c.prompt)))).map((c,u)=>c.status==="fulfilled"&&c.value?{...a[u],imageUrl:c.value}:null).filter(Boolean);if(l.length>=3)return{productName:t,icons:l,isImageIcons:!0};throw new Error("Not enough icons")}catch(r){return console.warn("Image gen failed, falling back to SVG:",r.message),hx(n)}}async function YC(n){const[t,a,r,l,c,u,p]=await Promise.allSettled([cx(n),FC(n),dx(n),WC(n),fx(n),px(n),mx(n)]);return{marketing:t.status==="fulfilled"?t.value:Gf(n),buildPrompt:a.status==="fulfilled"?a.value:Ff(n),legal:r.status==="fulfilled"?r.value:Wf(n),icons:l.status==="fulfilled"?l.value:Yf(n),launchSteps:c.status==="fulfilled"?c.value:Kf(n),domains:u.status==="fulfilled"?u.value:Hf(n),pricing:p.status==="fulfilled"?p.value:qf(),isPremium:!0}}async function KC(n,t){const a=(await rx(async()=>{const{default:m}=await import("./chunk-D7KnG0-e.js").then(g=>g.j);return{default:m}},[])).default,r=new a,l=(n.marketing?.productName||t||"vibenow-plan").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"").slice(0,30);if(r.file("README.md",`# ${n.marketing?.productName||"Your Startup"}

> Generated by VibeNow  ${new Date().toLocaleDateString()}

**Idea:** ${t}

## Contents
- \`marketing-plan.md\`  Day 1 & Day 7 launch marketing plan
- \`build-prompt.txt\`  Detailed AI vibe-coding prompt
- \`pricing-strategy.md\`  Recommended pricing model & tiers
- \`domain-suggestions.md\`  Brandable domain name ideas
- \`legal/\`  Privacy policy, terms, disclaimer (review with attorney before use)
- \`icons/\`  SVG icon set
- \`launch-steps.md\`  Step-by-step launch guide

---
*Review all legal documents with a qualified attorney before use.*
`),n.marketing?.days){let m=`# 7-Day Marketing Plan: ${n.marketing.productName}

`;n.marketing.days.forEach(g=>{m+=`## Day ${g.day}: ${g.theme}

`,g.platforms?.forEach(y=>{m+=`### ${y.platform}  ${y.channel}
**Post:** ${y.postTitle}

${y.postContent}

>  ${y.tip}

`})}),r.file("marketing-plan.md",m)}if(n.buildPrompt){const m=typeof n.buildPrompt=="string"?n.buildPrompt:n.buildPrompt.prompt||"";r.file("build-prompt.txt",m)}if(n.legal){const m=r.folder("legal");m.file("DISCLAIMER.md",`>  IMPORTANT: These are AI-generated templates. Review with a qualified attorney before use.

${n.legal.disclaimer||""}`),m.file("privacy-policy.md",n.legal.privacyPolicy||""),m.file("terms-of-service.md",n.legal.termsOfService||"")}if(n.icons?.icons){const m=r.folder("icons");n.icons.icons.forEach(g=>m.file(`${g.name}.svg`,g.svg||""))}if(n.launchSteps?.steps){let m=`# Launch Steps

`;n.launchSteps.steps.forEach(g=>{m+=`## Step ${g.step}: ${g.title}
${g.description}

**Time:** ${g.timeEstimate||"Varies"}

### Tools
`,g.tools?.forEach(y=>{m+=`- **${y.name}** (${y.type})  ${y.description} | ${y.pricing} | ${y.hasFree?" Free tier":" Paid"} | ${y.url}
`}),m+=`
`}),r.file("launch-steps.md",m)}if(n.domains?.domains){let m=`# Domain Suggestions

`;n.domains.tip&&(m+=`> ${n.domains.tip}

`),n.domains.domains.forEach(g=>{m+=`- **${g.domain}**  ${g.reason}
`}),r.file("domain-suggestions.md",m)}if(n.pricing?.tiers){let m=`# Pricing Strategy

**Model:** ${n.pricing.strategy||"Freemium"}

`;n.pricing.reasoning&&(m+=`${n.pricing.reasoning}

`),m+=`## Tiers

`,n.pricing.tiers.forEach(g=>{m+=`### ${g.name}  ${g.price}${g.period?"/"+g.period:""}
`,g.description&&(m+=`${g.description}
`),g.features&&g.features.forEach(y=>{m+=`- ${y}
`}),m+=`
`}),n.pricing.tips&&(m+=`## Tips

`,n.pricing.tips.forEach(g=>{m+=`- ${g}
`})),r.file("pricing-strategy.md",m)}const c=await r.generateAsync({type:"blob"}),u=URL.createObjectURL(c),p=document.createElement("a");p.href=u,p.download=`${l}.zip`,document.body.appendChild(p),p.click(),document.body.removeChild(p),setTimeout(()=>URL.revokeObjectURL(u),5e3)}function Iv(){return[{title:"AI Email Ghostwriter",category:"SaaS",hook:"Write professional emails in your voice  never stare at a blank composer again."},{title:"Micro SaaS Blueprint",category:"DevTool",hook:"Full code boilerplate to go from idea to paid product in a single weekend."},{title:"Sleep ROI Tracker",category:"Health",hook:"Correlate your sleep patterns with productivity, mood, and revenue data."},{title:"Cold Outreach Machine",category:"B2B",hook:"AI personalizes 100 cold emails per day using LinkedIn scraping, with auto follow-ups."},{title:"Niche Report Club",category:"B2B",hook:"Weekly AI-generated market intelligence for specific industries, delivered by email."},{title:"Creator Revenue OS",category:"Creator",hook:"One dashboard to track Substack, YouTube, courses, merch  every revenue stream."},{title:"Solo CRM",category:"B2B",hook:"The relationship tracker built for founders who hate Salesforce."},{title:"Legal Templates AI",category:"SaaS",hook:"Generate startup-grade legal documents in seconds."},{title:"Podcast Clip Factory",category:"Creator",hook:"Upload a podcast  get 10 viral-ready clips in minutes."},{title:"No-Code AI App Builder",category:"DevTool",hook:"Describe your app in plain English  ship before lunch."}]}function Gf(n){const t=n.split(":")[0].trim().split(" ").slice(0,3).join(" "),a=n.split(":")[1]?.trim()||n;return{productName:t,tagline:`The smarter way to ${a}`,days:[{day:1,theme:"Soft Launch & Community Teaser",platforms:[{platform:"Reddit",channel:"r/entrepreneur",postTitle:`I'm building ${t}  would love feedback`,postContent:`Hey r/entrepreneur,

Building ${t}: ${a}

Would love honest feedback from founders here. What would make this a must-have?`,tip:'Post Tuesday-Thursday 9am EST. Use "Seeking Feedback" flair. Reply to every comment within 2 hours.'},{platform:"Twitter/X",channel:"#buildinpublic",postTitle:"Day 1 build-in-public thread",postContent:` Building ${t} in public.

The problem: ${a}

#buildinpublic #indiehackers #saas`,tip:"Pin this tweet. Reply to it daily."}]},{day:2,theme:"LinkedIn & Hacker News",platforms:[{platform:"LinkedIn",channel:"Personal profile",postTitle:`Why I'm building ${t}`,postContent:`I spent years frustrated by ${a}.

So I'm building ${t}.

Here's the story behind it and what we're solving...`,tip:"Post at 8am your local time. Tag 2-3 relevant connections. Add a poll."},{platform:"Hacker News",channel:"Show HN",postTitle:`Show HN: ${t}  ${a}`,postContent:`Hi HN! I built ${t} to solve ${a}. Looking for early feedback from this community.`,tip:"Submit between 9am-12pm EST. Reply to every comment within 30 min."}]},{day:3,theme:"Twitter Thread & Cold Outreach",platforms:[{platform:"Twitter/X",channel:"#buildinpublic",postTitle:"Problem breakdown thread",postContent:`The real problem with ${a}:

1/ Most solutions are too complex
2/ They don't solve X
3/ Here's how ${t} is different...`,tip:"Use numbered tweets for threads. Add visuals to tweet 1."},{platform:"Email",channel:"Cold email",postTitle:"Cold email to 10 potential users",postContent:`Subject: Quick question about ${a}

Hi [Name],

I noticed you [context]. I'm building ${t} to solve ${a}.

Would love 15 min to learn about your workflow. Can I grab time?`,tip:"Keep it under 5 sentences. One clear CTA. Personalize the first line."}]},{day:4,theme:"IndieHackers & YouTube Outreach",platforms:[{platform:"IndieHackers",channel:"indiehackers.com",postTitle:`Milestone: ${t} day 4 update`,postContent:`Day 4 of building ${t} in public.

Here's what I've learned so far about ${a}...

Metrics: [users, signups, feedback received]`,tip:"IndieHackers loves specific numbers. Always include metrics even if small."},{platform:"YouTube",channel:"Comments on relevant videos",postTitle:"YouTube comment outreach",postContent:`Great video! I'm building ${t} which also tackles ${a}. Would love your take on [specific thing from video].`,tip:"Be genuinely helpful first. Never spam links. Reply to the video content."}]},{day:5,theme:"Reddit AMA & Insight Sharing",platforms:[{platform:"Reddit",channel:"r/startups",postTitle:`Building ${t}: what I've learned about ${a} in 5 days`,postContent:`I've been talking to users about ${a} for the past few days. Here's what surprised me...

Happy to answer any questions about the build process or problem space.`,tip:"AMA format gets 3x more comments. Respond to every comment in first 2 hours."},{platform:"Twitter/X",channel:"#buildinpublic",postTitle:"Key insight thread",postContent:`After 5 days of building ${t}, here's the biggest insight:

${a} is actually a symptom of a deeper problem...`,tip:"Contrarian takes get shared. Lead with the most surprising finding."}]},{day:6,theme:"Email Warmup & Demo Video",platforms:[{platform:"Email",channel:"Waitlist/subscribers",postTitle:`${t} is almost live  sneak peek`,postContent:`Subject: ${t} launches tomorrow

Hey [name],

Tomorrow we launch on Product Hunt. Here's what's inside...

As an early subscriber, you get [benefit]. Click here to get notified.`,tip:"Send at 10am local. Include one clear CTA. 3-4 sentences max."},{platform:"TikTok",channel:"#buildinpublic",postTitle:"Demo video script",postContent:`Hook (0-3s): "I built an app that does ${a}"
Problem (3-10s): Show the painful current solution
Solution (10-25s): Demo ${t}
CTA (25-30s): "Link in bio to try it free"`,tip:"First 3 seconds determine if people watch. Show the product immediately."}]},{day:7,theme:"Product Hunt Launch Day",platforms:[{platform:"Product Hunt",channel:"producthunt.com",postTitle:`${t}  ${a}`,postContent:"Submit at 12:01am PST. Notify your email list. DM every Twitter follower. Post in every community you engaged with this week. Comment on every upvote within 5 minutes.",tip:"Have 30+ people ready to upvote in the first hour. First 2 hours determine final rank. Hunter should have 500+ followers."},{platform:"Twitter/X",channel:"#ProductHunt",postTitle:"Launch day announcement",postContent:` ${t} is LIVE on Product Hunt!

After 7 days of building in public, we're here.

${a}

Support appreciated  [PH link]

#ProductHunt #buildinpublic`,tip:"Post at 12:01am PST. Repost at 8am, 12pm, 6pm. Tag supporters."}]}]}}function Ff(n){const t=n.split(":")[0].trim();return`You are building ${t} from scratch.

## What You're Building
${n}

## Tech Stack
- Frontend: Next.js 14 (App Router) + TypeScript + Tailwind CSS v3
- UI Components: shadcn/ui
- Database: Supabase (PostgreSQL) + Prisma v5
- Auth: Supabase Auth
- Payments: Stripe
- Email: Resend
- Hosting: Vercel
- Analytics: PostHog
- Error tracking: Sentry

## Build Order
1. npx create-next-app@latest ${t.toLowerCase().replace(/\s+/g,"-")} --typescript --tailwind --app
2. Install: shadcn/ui, prisma, @supabase/supabase-js, stripe, resend
3. Set up Supabase project and configure auth
4. Run prisma init and write schema
5. Build auth pages (login, signup, reset)
6. Build core dashboard layout
7. Implement primary feature
8. Add Stripe billing
9. Set up email flows with Resend
10. Deploy to Vercel

## Core Rules
- TypeScript strict mode everywhere
- Mobile-first responsive design
- Error boundaries on all async components
- Loading skeletons for all data fetches
- Zod validation on all API inputs
- Never expose secrets to the client bundle`}function Wf(n){const t=n.split(":")[0].trim().split(" ").slice(0,3).join(" ");return{productName:t,privacyPolicy:`# Privacy Policy

**${t}** ("we", "us", "our") respects your privacy.

**Last updated:** ${new Date().toLocaleDateString()}

## Information We Collect
- Account info (name, email, password hash)
- Usage data and analytics
- Payment info (via Stripe  we never store card numbers)

## How We Use It
To provide and improve ${t}, send transactional emails, and comply with legal requirements.

## Contact
support@${t.toLowerCase().replace(/\s/g,"")}.com`,termsOfService:`# Terms of Service

**Last updated:** ${new Date().toLocaleDateString()}

By using ${t}, you agree to these terms.

## Use of Service
You may use ${t} only for lawful purposes.

## Limitation of Liability
${t} is not liable for indirect or consequential damages.

## Governing Law
These terms are governed by applicable law in your jurisdiction.`,disclaimer:`${t} is provided "as is" without warranty. Use at your own risk. Not responsible for decisions made using this service.`}}function Yf(n){return{productName:n.split(":")[0].trim().split(" ").slice(0,2).join(" "),icons:[{name:"logo",description:"Main app logo",svg:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g1" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#7c3aed"/><stop offset="100%" style="stop-color:#ec4899"/></linearGradient></defs><rect width="512" height="512" rx="96" fill="url(#g1)"/><polygon points="256,80 320,220 476,220 352,316 400,460 256,368 112,460 160,316 36,220 192,220" fill="white" opacity="0.9"/></svg>'},{name:"feature",description:"Core feature",svg:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g2" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#2563eb"/><stop offset="100%" style="stop-color:#7c3aed"/></linearGradient></defs><rect width="512" height="512" rx="96" fill="url(#g2)"/><circle cx="256" cy="220" r="90" fill="white" opacity="0.9"/><rect x="156" y="330" width="200" height="30" rx="15" fill="white" opacity="0.7"/><rect x="196" y="375" width="120" height="30" rx="15" fill="white" opacity="0.5"/></svg>'},{name:"community",description:"Community / share",svg:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g3" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#059669"/><stop offset="100%" style="stop-color:#2563eb"/></linearGradient></defs><rect width="512" height="512" rx="96" fill="url(#g3)"/><circle cx="180" cy="200" r="60" fill="white" opacity="0.9"/><circle cx="332" cy="200" r="60" fill="white" opacity="0.9"/><circle cx="256" cy="330" r="60" fill="white" opacity="0.9"/><line x1="180" y1="260" x2="256" y2="330" stroke="white" stroke-width="20" opacity="0.6"/><line x1="332" y1="260" x2="256" y2="330" stroke="white" stroke-width="20" opacity="0.6"/><line x1="180" y1="200" x2="332" y2="200" stroke="white" stroke-width="20" opacity="0.6"/></svg>'},{name:"analytics",description:"Analytics / insights",svg:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g4" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#d97706"/><stop offset="100%" style="stop-color:#dc2626"/></linearGradient></defs><rect width="512" height="512" rx="96" fill="url(#g4)"/><rect x="100" y="340" width="70" height="120" rx="10" fill="white" opacity="0.9"/><rect x="200" y="260" width="70" height="200" rx="10" fill="white" opacity="0.9"/><rect x="300" y="180" width="70" height="280" rx="10" fill="white" opacity="0.9"/><rect x="400" y="100" width="70" height="360" rx="10" fill="white" opacity="0.9"/></svg>'},{name:"premium",description:"Premium / pro tier",svg:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="g5" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#f59e0b"/><stop offset="100%" style="stop-color:#ef4444"/></linearGradient></defs><rect width="512" height="512" rx="96" fill="url(#g5)"/><polygon points="256,100 310,210 430,226 341,312 362,432 256,374 150,432 171,312 82,226 202,210" fill="white" opacity="0.95"/></svg>'}]}}function Kf(n){return{steps:[{step:1,title:"Plan with AI",description:`Use the build prompt from this package to plan the full architecture of ${n.split(":")[0].trim()}. Paste it into Claude or Cursor for a complete blueprint.`,timeEstimate:"1 day",tools:[{name:"Claude.ai",type:"AI Assistant",description:"Best for planning, architecture decisions, and complex problem solving",pricing:"Free + Pro $20/mo",hasFree:!0,url:"claude.ai"},{name:"Notion",type:"Project Management",description:"Document your roadmap, specs, and decisions",pricing:"Free tier available",hasFree:!0,url:"notion.so"}]},{step:2,title:"Build the MVP",description:"Use an AI code editor to build the core feature only. Deploy early and iterate fast.",timeEstimate:"1-2 weeks",tools:[{name:"Cursor",type:"AI Code Editor",description:"VS Code with AI pair programming. Best for complex codebases.",pricing:"Free tier + Pro $20/mo",hasFree:!0,url:"cursor.sh"},{name:"Bolt.new",type:"AI App Builder",description:"Build full-stack apps from prompts directly in browser",pricing:"Free tier available",hasFree:!0,url:"bolt.new"}]},{step:3,title:"Database & Backend",description:"Set up your database and backend services. Supabase gives you auth + database + storage in one.",timeEstimate:"2-3 days",tools:[{name:"Supabase",type:"Backend as a Service",description:"PostgreSQL + auth + storage. Best free tier for startups.",pricing:"Free tier + $25/mo Pro",hasFree:!0,url:"supabase.com"},{name:"Neon",type:"Serverless Postgres",description:"Serverless PostgreSQL with generous free tier",pricing:"Free tier + $19/mo",hasFree:!0,url:"neon.tech"}]},{step:4,title:"Design the Frontend",description:"Generate UI components from prompts, then customize to your brand.",timeEstimate:"3-5 days",tools:[{name:"v0.dev",type:"UI Generator",description:"Generate React + Tailwind UI from text prompts",pricing:"Free tier + $20/mo",hasFree:!0,url:"v0.dev"},{name:"Figma",type:"Design Tool",description:"Design mockups and prototypes before building",pricing:"Free tier + $15/mo",hasFree:!0,url:"figma.com"}]},{step:5,title:"Add Payments",description:"Integrate Stripe for subscriptions or one-time payments. Ship with hosted checkout first, optimize later.",timeEstimate:"1-2 days",tools:[{name:"Stripe",type:"Payment Processing",description:"Industry standard. Best docs, best developer experience.",pricing:"2.9% + 30 per transaction",hasFree:!0,url:"stripe.com"},{name:"Lemon Squeezy",type:"Merchant of Record",description:"Handles global tax compliance automatically",pricing:"5% + 50 per transaction",hasFree:!0,url:"lemonsqueezy.com"}]},{step:6,title:"Launch & Market",description:"Execute your 7-day marketing plan. Community posts  email list  Product Hunt on Day 7.",timeEstimate:"1 week",tools:[{name:"Product Hunt",type:"Launch Platform",description:"Built-in audience of early adopters and tech enthusiasts",pricing:"Free to list",hasFree:!0,url:"producthunt.com"},{name:"Beehiiv",type:"Email Newsletter",description:"Build and send to your email list",pricing:"Free up to 2,500 subscribers",hasFree:!0,url:"beehiiv.com"}]},{step:7,title:"Monitor & Scale",description:"Track users, fix bugs, and double down on the acquisition channel that works.",timeEstimate:"Ongoing",tools:[{name:"Vercel",type:"Hosting & Deployment",description:"Zero-config deployment, automatic scaling, edge network",pricing:"Free tier + $20/mo Pro",hasFree:!0,url:"vercel.com"},{name:"PostHog",type:"Product Analytics",description:"Open-source product analytics, session replay, feature flags",pricing:"Free up to 1M events/mo",hasFree:!0,url:"posthog.com"}]}]}}const XC={Reddit:"","Twitter/X":"",LinkedIn:"",TikTok:"",Instagram:"","Hacker News":"",IndieHackers:"","Product Hunt":""};function QC({data:n}){const[t,a]=T.useState(0),[r,l]=T.useState(null);if(!n?.days)return h.jsx(ZC,{});const c=n.days[t];return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[h.jsxs("div",{children:[h.jsx("p",{className:"label",style:{color:"var(--text-dim)",marginBottom:12},children:"Select Day"}),h.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:n.days.map((u,p)=>h.jsxs("button",{onClick:()=>{a(p),l(null)},style:{padding:"8px 16px",borderRadius:99,fontSize:"0.85rem",fontWeight:600,cursor:"pointer",background:t===p?"var(--grad-primary)":"rgba(255,255,255,0.05)",color:t===p?"#fff":"rgba(255,255,255,0.4)",border:t===p?"none":"1px solid var(--border)",boxShadow:t===p?"0 4px 16px rgba(168,85,247,0.3)":"none",transition:"all 0.18s ease"},children:["Day ",u.day]},u.day))})]}),h.jsx(cn,{mode:"wait",children:c&&h.jsxs(Re.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},children:[h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.15rem",color:"var(--text)"},children:c.theme}),h.jsxs("p",{style:{color:"var(--text-dim)",fontSize:"0.8rem",marginTop:4},children:[c.platforms?.length||0," platforms  click to expand"]})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:c.platforms?.map((u,p)=>h.jsx(JC,{platform:u,isOpen:r===p,onToggle:()=>l(r===p?null:p)},p))})]},t)})]})}function JC({platform:n,isOpen:t,onToggle:a}){const r=XC[n.platform]||"";return h.jsxs("div",{style:{background:t?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.03)",border:`1px solid ${t?"rgba(192,132,252,0.3)":"var(--border)"}`,borderRadius:20,overflow:"hidden",transition:"all 0.2s ease",boxShadow:t?"0 0 30px rgba(192,132,252,0.12)":"none"},children:[h.jsxs("button",{onClick:a,style:{width:"100%",display:"flex",alignItems:"center",gap:12,padding:"14px 16px",background:"transparent",cursor:"pointer",textAlign:"left"},children:[h.jsx("span",{style:{fontSize:"1.3rem",flexShrink:0},children:r}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("p",{style:{fontWeight:600,fontSize:"0.95rem",color:"var(--text)"},children:n.platform}),h.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text-dim)",marginTop:2},children:n.channel})]}),h.jsx("div",{style:{color:"var(--text-dim)",flexShrink:0},children:t?h.jsx(ex,{size:16}):h.jsx(Z1,{size:16})})]}),h.jsx(cn,{children:t&&h.jsx(Re.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.22,ease:"easeInOut"},style:{overflow:"hidden"},children:h.jsxs("div",{style:{padding:"0 16px 16px",display:"flex",flexDirection:"column",gap:14},children:[h.jsx("div",{style:{height:1,background:"var(--border)"}}),h.jsxs("div",{children:[h.jsx("p",{className:"label",style:{color:"var(--text-dim)",marginBottom:6},children:"Post Title"}),h.jsx("p",{style:{color:"var(--text)",fontWeight:600,fontSize:"0.95rem"},children:n.postTitle})]}),h.jsxs("div",{children:[h.jsx("p",{className:"label",style:{color:"var(--text-dim)",marginBottom:6},children:"Post Content"}),h.jsx("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:12,padding:"12px 14px",fontSize:"0.875rem",color:"var(--text-muted)",lineHeight:1.65,whiteSpace:"pre-wrap",fontFamily:"var(--font-body)"},children:n.postContent})]}),n.tip&&h.jsxs("div",{style:{background:"rgba(16,185,129,0.08)",border:"1px solid rgba(16,185,129,0.2)",borderRadius:10,padding:"10px 12px",display:"flex",gap:8,alignItems:"flex-start"},children:[h.jsx("span",{style:{fontSize:"0.85rem",flexShrink:0},children:""}),h.jsx("p",{style:{fontSize:"0.8rem",color:"#6ee7b7",lineHeight:1.5},children:n.tip})]})]})})})]})}function ZC(){return h.jsx("div",{style:{textAlign:"center",padding:"40px 0",color:"var(--text-muted)"},children:"Marketing plan not available. Try regenerating."})}function eR(n){const t=n.split(`
`),a=[];let r={header:"",lines:[]};for(const l of t)l.startsWith("## ")||l.startsWith("# ")?((r.lines.length>0||r.header)&&a.push({...r,content:r.lines.join(`
`)}),r={header:l,lines:[]}):r.lines.push(l);return(r.lines.length>0||r.header)&&a.push({...r,content:r.lines.join(`
`)}),a}function tR({data:n}){const t=typeof n=="string"?n:n?.prompt||"",[a,r]=T.useState(()=>eR(t)),[l,c]=T.useState(!1),[u,p]=T.useState(null),[m,g]=T.useState(""),[y,x]=T.useState(!1),b=T.useRef(null),S=a.map(k=>[k.header,k.content].filter(Boolean).join(`
`)).join(`
`),_=S.split(/\s+/).filter(Boolean).length,j=()=>{navigator.clipboard.writeText(S),c(!0),setTimeout(()=>c(!1),2e3)},R=k=>{p(k),g(""),setTimeout(()=>b.current?.focus(),50)},A=()=>{p(null),g("")},C=async k=>{if(!m.trim())return;const L=a[k],V=[L.header,L.content].filter(Boolean).join(`
`);x(!0);try{const Y=await qC(V,m);r(F=>F.map((q,te)=>{if(te!==k)return q;const he=Y.split(`
`),ke=he[0]?.startsWith("## ")||he[0]?.startsWith("# ")?he[0]:q.header,ye=he[0]?.startsWith("## ")||he[0]?.startsWith("# ")?he.slice(1).join(`
`):Y;return{...q,header:ke,content:ye,lines:ye.split(`
`)}}))}finally{x(!1),A()}};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[h.jsxs("div",{style:{background:"rgba(192,132,252,0.08)",border:"1px solid rgba(192,132,252,0.2)",borderRadius:14,padding:"14px 16px",display:"flex",gap:12,alignItems:"flex-start"},children:[h.jsx("span",{style:{fontSize:"1.1rem",flexShrink:0},children:""}),h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:600,fontSize:"0.9rem",color:"var(--accent-1)",marginBottom:4},children:"AI Vibe-Coding Prompt"}),h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",lineHeight:1.5},children:"Hover any section to edit it with AI. Copy and paste into Cursor, Claude, or any AI coding assistant."})]})]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,flexWrap:"wrap"},children:[h.jsx(Sh,{label:"Words",value:_.toLocaleString()}),h.jsx(Sh,{label:"Sections",value:a.filter(k=>k.header).length.toString()}),h.jsx(Sh,{label:"Model",value:"Gemini 2.0 Flash"}),h.jsxs("button",{className:"btn btn-primary btn-sm",onClick:j,style:{marginLeft:"auto"},children:[l?h.jsx(nr,{size:14}):h.jsx(nx,{size:14}),l?"Copied!":"Copy Full Prompt"]})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6},children:a.map((k,L)=>h.jsx(nR,{section:k,isEditing:u===L,instruction:m,loading:y,inputRef:u===L?b:null,onEditOpen:()=>R(L),onEditClose:A,onInstructionChange:g,onAdjust:()=>C(L)},L))}),h.jsxs("div",{children:[h.jsx("p",{className:"label",style:{color:"var(--text-dim)",marginBottom:10},children:"Paste into"}),h.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[{name:"Cursor",url:"https://cursor.sh"},{name:"Claude.ai",url:"https://claude.ai"},{name:"Bolt.new",url:"https://bolt.new"},{name:"Lovable.dev",url:"https://lovable.dev"}].map(k=>h.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:5,padding:"7px 14px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border)",borderRadius:100,fontSize:"0.78rem",fontWeight:500,color:"rgba(255,255,255,0.4)",textDecoration:"none"},children:[k.name," ",h.jsx(zc,{size:10})]},k.name))})]})]})}function nR({section:n,isEditing:t,instruction:a,loading:r,inputRef:l,onEditOpen:c,onEditClose:u,onInstructionChange:p,onAdjust:m}){const[g,y]=T.useState(!1),x=!!n.header,b=n.header?.startsWith("# ")&&!n.header?.startsWith("## ");return h.jsxs("div",{style:{position:"relative",borderRadius:12,transition:"all 0.15s ease"},onMouseEnter:()=>y(!0),onMouseLeave:()=>{t||y(!1)},children:[h.jsxs("div",{style:{background:g||t?"rgba(192,132,252,0.06)":"transparent",border:`1px solid ${t?"rgba(192,132,252,0.4)":g?"rgba(192,132,252,0.2)":"transparent"}`,borderRadius:12,padding:"10px 14px",cursor:"default",transition:"all 0.15s ease"},children:[x&&h.jsx("p",{style:{fontFamily:"var(--font-display)",fontWeight:b?800:700,fontSize:b?"1rem":"0.85rem",color:b?"var(--text)":"var(--accent-1)",marginBottom:n.content.trim()?6:0},children:n.header.replace(/^#{1,3} /,"")}),n.content.trim()&&h.jsx("pre",{style:{fontFamily:"ui-monospace, SFMono-Regular, Menlo, monospace",fontSize:"0.75rem",color:"var(--text-muted)",lineHeight:1.7,whiteSpace:"pre-wrap",overflowX:"auto",margin:0},children:n.content.trim()}),g&&!t&&h.jsxs("button",{onClick:c,style:{position:"absolute",top:8,right:8,display:"flex",alignItems:"center",gap:4,padding:"4px 10px",background:"rgba(192,132,252,0.15)",border:"1px solid rgba(192,132,252,0.35)",borderRadius:100,fontSize:"0.7rem",fontWeight:600,color:"var(--accent-1)",cursor:"pointer"},children:[h.jsx(fC,{size:10}),"Edit with AI"]})]}),t&&h.jsxs("div",{style:{background:"rgba(192,132,252,0.08)",border:"1px solid rgba(192,132,252,0.3)",borderTop:"none",borderRadius:"0 0 12px 12px",padding:"12px 14px",display:"flex",gap:8,alignItems:"center"},children:[h.jsx("input",{ref:l,value:a,onChange:S=>p(S.target.value),onKeyDown:S=>{S.key==="Enter"&&m(),S.key==="Escape"&&u()},placeholder:"e.g. Add Redis caching, use Drizzle instead of Prisma, add WebSocket support...",style:{flex:1,background:"rgba(0,0,0,0.3)",border:"1px solid rgba(192,132,252,0.3)",borderRadius:8,padding:"8px 12px",fontSize:"0.8rem",color:"var(--text)",outline:"none"}}),h.jsx("button",{onClick:m,disabled:r||!a.trim(),className:"btn btn-primary btn-sm",style:{flexShrink:0,minWidth:80},children:r?h.jsx(ni,{size:13,style:{animation:"spin 1s linear infinite"}}):" Apply"}),h.jsx("button",{onClick:u,style:{background:"none",border:"none",color:"var(--text-dim)",cursor:"pointer",padding:4},children:h.jsx(Nc,{size:15})})]})]})}function Sh({label:n,value:t}){return h.jsxs("div",{style:{padding:"5px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border)",borderRadius:100,fontSize:"0.75rem"},children:[h.jsxs("span",{style:{color:"var(--text-dim)"},children:[n,": "]}),h.jsx("span",{style:{color:"var(--text-muted)",fontWeight:500},children:t})]})}const Vv=[{key:"privacyPolicy",label:"Privacy Policy"},{key:"termsOfService",label:"Terms of Service"},{key:"disclaimer",label:"Disclaimer"}];function iR({data:n}){const[t,a]=T.useState(0),[r,l]=T.useState(!1),c=Vv[t],u=n?.[c?.key]||"",p=()=>{navigator.clipboard.writeText(u),l(!0),setTimeout(()=>l(!1),2e3)};return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[h.jsxs("div",{style:{background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.3)",borderRadius:14,padding:"14px 16px",display:"flex",gap:12,alignItems:"flex-start"},children:[h.jsx(TC,{size:18,style:{color:"#f87171",flexShrink:0,marginTop:2}}),h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:700,fontSize:"0.9rem",color:"#f87171",marginBottom:4},children:"Important Legal Notice"}),h.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)",lineHeight:1.55},children:["These documents are ",h.jsx("strong",{style:{color:"var(--text)"},children:"AI-generated templates"})," for reference only. They are ",h.jsx("strong",{style:{color:"#f87171"},children:"not legal advice"})," and must be reviewed by a qualified attorney before use. Do not deploy these as-is on a live product."]})]})]}),h.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:Vv.map((m,g)=>h.jsx("button",{onClick:()=>{a(g),l(!1)},style:{padding:"8px 16px",borderRadius:99,fontSize:"0.85rem",fontWeight:600,cursor:"pointer",background:t===g?"rgba(192,132,252,0.1)":"rgba(255,255,255,0.05)",color:t===g?"var(--accent-1)":"rgba(255,255,255,0.4)",border:t===g?"1px solid rgba(192,132,252,0.3)":"1px solid var(--border)",transition:"all 0.18s ease"},children:m.label},m.key))}),h.jsxs("button",{className:"btn btn-secondary btn-sm",onClick:p,style:{alignSelf:"flex-start",width:"auto"},children:[r?h.jsx(nr,{size:14}):h.jsx(nx,{size:14}),r?"Copied!":`Copy ${c.label}`]}),h.jsx(cn,{mode:"wait",children:h.jsx(Re.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.18},style:{background:"rgba(255,255,255,0.03)",border:"1px solid var(--border)",borderRadius:20,padding:"20px",fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:1.75,whiteSpace:"pre-wrap",maxHeight:480,overflowY:"auto",fontFamily:"var(--font-body)"},children:u||"Document not available."},t)})]})}function aR({data:n}){const t=n?.icons||[],a=n?.productName||"App",r=n?.isImageIcons||!1,l=c=>{const u=new Blob([c.svg],{type:"image/svg+xml"}),p=URL.createObjectURL(u),m=document.createElement("a");m.href=p,m.download=`${c.name}.svg`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(p)};return t.length?h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[h.jsxs("div",{children:[h.jsxs("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:4},children:[a," Icon Set",r&&h.jsx("span",{style:{marginLeft:10,fontSize:"0.68rem",fontWeight:700,padding:"2px 8px",borderRadius:99,background:"linear-gradient(135deg,rgba(124,58,237,0.2),rgba(236,72,153,0.15))",border:"1px solid rgba(124,58,237,0.3)",color:"#a78bfa",verticalAlign:"middle"},children:" Premium"})]}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.875rem"},children:r?`${t.length} AI-generated icons  right-click to save`:`${t.length} SVG icons  stroke-based  works on any background`})]}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:14},children:t.map((c,u)=>r?h.jsx(sR,{icon:c},u):h.jsx(rR,{icon:c,onDownload:()=>l(c)},u))}),!r&&h.jsxs("div",{children:[h.jsx("p",{className:"label",style:{color:"var(--text-dim)",marginBottom:12},children:"Size Preview"}),h.jsx("div",{style:{display:"flex",gap:20,alignItems:"flex-end",flexWrap:"wrap"},children:t.slice(0,1).map((c,u)=>[16,24,32,48,64].map(p=>h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:6},children:[h.jsx("div",{style:{width:p,height:p,color:"#a78bfa"},dangerouslySetInnerHTML:{__html:c.svg}}),h.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--text-dim)"},children:[p,"px"]})]},p)))})]}),h.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text-dim)"},children:r?"Right-click any icon  Save Image As to download.":'Download individual icons above, or use "Download ZIP" to get all at once.'})]}):h.jsx("div",{style:{textAlign:"center",padding:"40px 0",color:"var(--text-muted)"},children:"Icons not available."})}function sR({icon:n}){const[t,a]=T.useState(!1);return h.jsxs("div",{style:{background:t?"rgba(255,255,255,0.06)":"rgba(255,255,255,0.03)",border:`1px solid ${t?"rgba(192,132,252,0.3)":"var(--border)"}`,borderRadius:20,padding:"16px 12px 12px",display:"flex",flexDirection:"column",alignItems:"center",gap:10,transition:"all 0.18s ease"},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[h.jsx("img",{src:n.imageUrl,alt:n.name,style:{width:80,height:80,borderRadius:18,objectFit:"cover"},loading:"lazy"}),h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("p",{style:{fontSize:"0.78rem",fontWeight:600,color:"var(--text)",marginBottom:2},children:n.name}),h.jsx("p",{style:{fontSize:"0.68rem",color:"var(--text-dim)",lineHeight:1.3},children:n.description})]})]})}function rR({icon:n,onDownload:t}){const[a,r]=T.useState(!1);return h.jsxs("div",{style:{background:a?"rgba(255,255,255,0.06)":"rgba(255,255,255,0.03)",border:`1px solid ${a?"rgba(192,132,252,0.3)":"var(--border)"}`,borderRadius:20,padding:"20px 16px 14px",display:"flex",flexDirection:"column",alignItems:"center",gap:12,transition:"all 0.18s ease",cursor:"default"},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[h.jsx("div",{style:{width:80,height:80,color:"#a78bfa",display:"flex",alignItems:"center",justifyContent:"center"},dangerouslySetInnerHTML:{__html:n.svg}}),h.jsxs("div",{style:{textAlign:"center"},children:[h.jsx("p",{style:{fontSize:"0.78rem",fontWeight:600,color:"var(--text)",marginBottom:2},children:n.name}),h.jsx("p",{style:{fontSize:"0.68rem",color:"var(--text-dim)",lineHeight:1.3},children:n.description})]}),h.jsxs("button",{onClick:t,style:{display:"flex",alignItems:"center",gap:4,padding:"5px 12px",background:a?"rgba(192,132,252,0.12)":"transparent",border:`1px solid ${a?"rgba(192,132,252,0.35)":"var(--border)"}`,borderRadius:100,fontSize:"0.7rem",fontWeight:500,color:a?"var(--accent-1)":"var(--muted)",cursor:"pointer",transition:"all 0.18s ease"},children:[h.jsx(If,{size:11}),"SVG"]})]})}function oR({data:n}){const[t,a]=T.useState(!1),[r,l]=T.useState(0),c=n?.steps||[];return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:10},children:[h.jsxs("div",{children:[h.jsxs("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:4},children:[c.length," Steps to Launch"]}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem"},children:"Recommended AI tools and platforms for each step"})]}),h.jsxs("button",{onClick:()=>a(!t),style:{display:"flex",alignItems:"center",gap:7,padding:"8px 14px",borderRadius:99,fontSize:"0.8rem",fontWeight:600,cursor:"pointer",background:t?"rgba(16,185,129,0.1)":"rgba(255,255,255,0.05)",border:t?"1px solid rgba(16,185,129,0.3)":"1px solid var(--border)",color:t?"#6ee7b7":"var(--text-muted)",transition:"all 0.18s ease"},children:[h.jsx("span",{style:{fontSize:"0.9rem"},children:t?"":""}),"Free tools only"]})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:c.map((u,p)=>h.jsx(lR,{step:u,isOpen:r===p,onToggle:()=>l(r===p?null:p),freeOnly:t},p))})]})}function lR({step:n,isOpen:t,onToggle:a,freeOnly:r}){const l=r?(n.tools||[]).filter(c=>c.hasFree):n.tools||[];return h.jsxs("div",{style:{background:t?"rgba(255,255,255,0.05)":"rgba(255,255,255,0.03)",border:`1px solid ${t?"rgba(192,132,252,0.3)":"var(--border)"}`,borderRadius:20,overflow:"hidden",transition:"all 0.2s ease",boxShadow:t?"0 0 30px rgba(192,132,252,0.12)":"none"},children:[h.jsxs("button",{onClick:a,style:{width:"100%",display:"flex",alignItems:"center",gap:14,padding:"14px 16px",background:"transparent",cursor:"pointer",textAlign:"left"},children:[h.jsx("div",{style:{width:32,height:32,borderRadius:10,background:t?"var(--grad-primary)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-display)",fontWeight:800,fontSize:"0.85rem",color:t?"#fff":"var(--text-muted)",flexShrink:0,transition:"all 0.2s ease"},children:n.step}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("p",{style:{fontWeight:600,fontSize:"0.95rem",color:"var(--text)"},children:n.title}),h.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-dim)",marginTop:2},children:[n.timeEstimate,"  ",l.length," tool",l.length!==1?"s":""]})]}),h.jsx("div",{style:{color:"var(--text-dim)",flexShrink:0},children:t?h.jsx(ex,{size:16}):h.jsx(Z1,{size:16})})]}),h.jsx(cn,{children:t&&h.jsx(Re.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.22,ease:"easeInOut"},style:{overflow:"hidden"},children:h.jsxs("div",{style:{padding:"0 16px 16px"},children:[h.jsx("div",{style:{height:1,background:"var(--border)",marginBottom:14}}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.875rem",lineHeight:1.65,marginBottom:16},children:n.description}),l.length>0?h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[h.jsx("p",{className:"label",style:{color:"var(--text-dim)",marginBottom:4},children:"Recommended Tools"}),l.map((c,u)=>h.jsx(cR,{tool:c},u))]}):h.jsx("p",{style:{color:"var(--text-dim)",fontSize:"0.8rem"},children:"No free tools available for this step."})]})})})]})}function cR({tool:n}){return h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"10px 12px",background:"rgba(255,255,255,0.04)",borderRadius:12,border:"1px solid var(--border)"},children:[h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:3},children:[h.jsx("p",{style:{fontWeight:600,fontSize:"0.875rem",color:"var(--text)"},children:n.name}),h.jsx("span",{style:{padding:"2px 8px",borderRadius:99,fontSize:"0.65rem",fontWeight:600,background:n.hasFree?"rgba(16,185,129,0.1)":"rgba(239,68,68,0.1)",color:n.hasFree?"#6ee7b7":"#f87171",border:`1px solid ${n.hasFree?"rgba(16,185,129,0.2)":"rgba(239,68,68,0.2)"}`,letterSpacing:"0.05em",textTransform:"uppercase"},children:n.hasFree?"Free tier":"Paid"})]}),h.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)"},children:n.description}),h.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-dim)",marginTop:2},children:n.pricing})]}),n.url&&h.jsxs("a",{href:`https://${n.url}`,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:4,padding:"6px 10px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border)",borderRadius:8,fontSize:"0.72rem",color:"rgba(255,255,255,0.4)",textDecoration:"none",flexShrink:0,transition:"all 0.15s ease"},onMouseEnter:t=>{t.currentTarget.style.borderColor="rgba(192,132,252,0.3)",t.currentTarget.style.color="var(--text)"},onMouseLeave:t=>{t.currentTarget.style.borderColor="var(--border)",t.currentTarget.style.color="rgba(255,255,255,0.4)"},children:["Visit ",h.jsx(zc,{size:10})]})]})}const uR={".com":{color:"#6ee7b7",bg:"rgba(16,185,129,0.1)",border:"rgba(16,185,129,0.3)"},".io":{color:"var(--accent-1)",bg:"rgba(192,132,252,0.1)",border:"rgba(192,132,252,0.3)"},".co":{color:"#93c5fd",bg:"rgba(59,130,246,0.1)",border:"rgba(59,130,246,0.3)"},".app":{color:"#fbbf24",bg:"rgba(251,191,36,0.1)",border:"rgba(251,191,36,0.3)"},".dev":{color:"#f472b6",bg:"rgba(244,114,182,0.1)",border:"rgba(244,114,182,0.3)"},".me":{color:"#34d399",bg:"rgba(52,211,153,0.1)",border:"rgba(52,211,153,0.3)",free:!0},".tech":{color:"#60a5fa",bg:"rgba(96,165,250,0.1)",border:"rgba(96,165,250,0.3)",free:!0}};function dR(n){const t="."+n.split(".").slice(1).join(".");return uR[t]||{color:"rgba(255,255,255,0.4)",bg:"rgba(255,255,255,0.05)",border:"var(--border)"}}function hR({data:n}){const t=n?.domains||[];return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[h.jsxs("div",{children:[h.jsxs("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:4},children:[h.jsx(eC,{size:18,style:{verticalAlign:"middle",marginRight:8}}),"Domain Suggestions"]}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem",lineHeight:1.5},children:"AI-picked brandable domains for your project. Click to check availability and register."})]}),n?.tip&&h.jsxs("div",{style:{padding:"12px 16px",background:"rgba(192,132,252,0.08)",border:"1px solid rgba(192,132,252,0.2)",borderRadius:14,fontSize:"0.82rem",color:"var(--accent-1)",lineHeight:1.5},children:[h.jsx(wC,{size:14,style:{verticalAlign:"middle",marginRight:6}}),n.tip]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:t.map((a,r)=>{const l=dR(a.domain),c=`https://www.namecheap.com/domains/registration/results/?domain=${encodeURIComponent(a.domain)}`;return h.jsxs("a",{href:c,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:14,padding:"14px 16px",background:"rgba(255,255,255,0.03)",border:"1px solid var(--border)",borderRadius:20,textDecoration:"none",transition:"border-color 0.2s"},onMouseEnter:u=>u.currentTarget.style.borderColor=l.border,onMouseLeave:u=>u.currentTarget.style.borderColor="var(--border)",children:[h.jsx("div",{style:{width:36,height:36,borderRadius:10,background:l.bg,border:`1px solid ${l.border}`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.7rem",fontWeight:800,color:l.color,flexShrink:0},children:("."+a.domain.split(".").slice(1).join(".")).toUpperCase()}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:2},children:[h.jsx("span",{style:{fontWeight:700,fontSize:"0.95rem",color:"var(--text)"},children:a.domain}),l.free&&h.jsx("span",{style:{fontSize:"0.65rem",fontWeight:700,padding:"2px 7px",borderRadius:99,background:"var(--emerald-dim)",border:"1px solid rgba(16,185,129,0.3)",color:"#6ee7b7"},children:"FREE w/ GitHub Education"})]}),h.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text-muted)",margin:0},children:a.reason})]}),h.jsx(zc,{size:14,style:{color:"var(--text-dim)",flexShrink:0}})]},r)})})]})}const nc={free:{accent:"#6ee7b7",bg:"rgba(16,185,129,0.1)",border:"rgba(16,185,129,0.3)"},starter:{accent:"#93c5fd",bg:"rgba(59,130,246,0.1)",border:"rgba(59,130,246,0.3)"},pro:{accent:"var(--accent-1)",bg:"rgba(192,132,252,0.1)",border:"rgba(192,132,252,0.3)"},enterprise:{accent:"#fbbf24",bg:"rgba(251,191,36,0.1)",border:"rgba(251,191,36,0.3)"}};function fR(n){const t=n.toLowerCase();return t.includes("free")||t.includes("basic")?nc.free:t.includes("pro")||t.includes("premium")||t.includes("growth")?nc.pro:t.includes("enterprise")||t.includes("business")||t.includes("team")?nc.enterprise:nc.starter}function pR({data:n}){const t=n?.tiers||[],a=n?.strategy||"",r=n?.reasoning||"";return h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:24},children:[h.jsxs("div",{children:[h.jsxs("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1.1rem",marginBottom:4},children:[h.jsx(GE,{size:18,style:{verticalAlign:"middle",marginRight:8}}),"Pricing Strategy"]}),h.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.85rem",lineHeight:1.5},children:"AI-recommended pricing model based on your product and market."})]}),a&&h.jsxs("div",{style:{padding:"16px 18px",background:"rgba(192,132,252,0.08)",border:"1px solid rgba(192,132,252,0.2)",borderRadius:14},children:[h.jsx("p",{style:{fontSize:"0.78rem",fontWeight:700,color:"var(--accent-1)",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Recommended Model"}),h.jsx("p",{style:{fontSize:"1rem",fontWeight:700,color:"var(--text)",marginBottom:8},children:a}),r&&h.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:1.6,margin:0},children:r})]}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:`repeat(${Math.min(t.length,3)}, 1fr)`,gap:14},children:t.map((l,c)=>{const u=fR(l.name),p=l.popular||l.recommended;return h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",border:`1px solid ${p?u.border:"var(--border)"}`,borderRadius:22,padding:"20px 18px",display:"flex",flexDirection:"column",position:"relative",boxShadow:p?`0 0 30px ${u.border}`:"none"},children:[p&&h.jsx("div",{style:{position:"absolute",top:-10,left:"50%",transform:"translateX(-50%)",fontSize:"0.68rem",fontWeight:700,padding:"3px 12px",borderRadius:99,background:u.bg,border:`1px solid ${u.border}`,color:u.accent,textTransform:"uppercase",letterSpacing:"0.08em"},children:"Recommended"}),h.jsx("p",{style:{fontSize:"0.82rem",fontWeight:700,color:u.accent,marginBottom:4,textTransform:"uppercase",letterSpacing:"0.05em"},children:l.name}),h.jsxs("div",{style:{marginBottom:12},children:[h.jsx("span",{style:{fontSize:"1.8rem",fontWeight:800,color:"var(--text)"},children:l.price}),l.period&&h.jsxs("span",{style:{fontSize:"0.82rem",color:"var(--text-dim)",marginLeft:4},children:["/",l.period]})]}),l.description&&h.jsx("p",{style:{fontSize:"0.82rem",color:"var(--text-muted)",lineHeight:1.5,marginBottom:14},children:l.description}),l.features&&h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,marginTop:"auto"},children:l.features.map((m,g)=>h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:8},children:[h.jsx(nr,{size:14,style:{color:u.accent,flexShrink:0,marginTop:2}}),h.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)",lineHeight:1.4},children:m})]},g))})]},c)})}),n?.tips&&n.tips.length>0&&h.jsxs("div",{style:{padding:"14px 18px",background:"rgba(255,255,255,0.03)",border:"1px solid var(--border)",borderRadius:14},children:[h.jsx("p",{style:{fontSize:"0.78rem",fontWeight:700,color:"var(--text-muted)",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.08em"},children:" Pricing Tips"}),h.jsx("ul",{style:{margin:0,paddingLeft:18},children:n.tips.map((l,c)=>h.jsx("li",{style:{fontSize:"0.82rem",color:"var(--text-muted)",lineHeight:1.6,marginBottom:4},children:l},c))})]})]})}const mR=[{id:"marketing",label:" Marketing"},{id:"build",label:" Build Prompt"},{id:"pricing",label:" Pricing"},{id:"domains",label:" Domains"},{id:"legal",label:" Legal Pack"},{id:"icons",label:" App Icons",premiumOnly:!0},{id:"launch",label:" Launch Steps"}];function gR({idea:n,results:t,onStartOver:a,isPremium:r,onOpenBuilder:l}){const[c,u]=T.useState("marketing"),[p,m]=T.useState(!1),g=async()=>{m(!0);try{await KC(t,n)}catch(y){console.error("Download failed",y)}finally{m(!1)}};return h.jsxs(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{overflowX:"hidden"},children:[h.jsxs("div",{className:"results-header",children:[h.jsx("p",{className:"results-eyebrow",children:"Your Startup Kit"}),h.jsxs("h1",{className:"results-title",children:["Your kit is ",h.jsx("em",{children:"ready."})]}),h.jsx("p",{className:"results-idea",title:n,children:n.length>120?n.slice(0,120)+"":n})]}),h.jsx("div",{className:"tabs-bar",children:mR.filter(y=>!y.premiumOnly||r).map(y=>h.jsx("button",{className:`tab-pill${c===y.id?" active":""}`,onClick:()=>u(y.id),children:y.label},y.id))}),h.jsx("div",{style:{maxWidth:880,margin:"0 auto",padding:"0 20px 80px"},children:h.jsx(cn,{mode:"wait",children:h.jsxs(Re.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.2},children:[c==="marketing"&&h.jsx(QC,{data:t.marketing}),c==="build"&&h.jsx(tR,{data:t.buildPrompt}),c==="pricing"&&h.jsx(pR,{data:t.pricing}),c==="domains"&&h.jsx(hR,{data:t.domains}),c==="legal"&&h.jsx(iR,{data:t.legal}),c==="icons"&&h.jsx(aR,{data:t.icons}),c==="launch"&&h.jsx(oR,{data:t.launchSteps})]},c)})}),h.jsxs("div",{style:{position:"fixed",bottom:0,left:0,right:0,zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",gap:12,padding:"16px 24px",background:"rgba(8,8,8,0.85)",borderTop:"1px solid var(--border)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},children:[h.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:a,children:[h.jsx(Vf,{size:14}),"Start over"]}),l&&h.jsxs("button",{className:"btn btn-ghost btn-sm",onClick:l,style:{border:"1px solid rgba(167,139,250,0.3)",color:"#a78bfa"},children:[h.jsx(Bc,{size:14})," Build it"]}),h.jsx("button",{className:"btn btn-primary btn-sm",onClick:g,disabled:p,children:p?h.jsxs(h.Fragment,{children:[h.jsx(ni,{size:14,style:{animation:"spin 1s linear infinite"}})," Zipping"]}):h.jsxs(h.Fragment,{children:[h.jsx(If,{size:14})," Download ZIP "]})})]}),h.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const $v={loading_swipe:["Warming up the idea engine","Generating fresh concepts","Almost ready"],generating:["Shaping your vibe","Crafting your launch kit","Almost there"],generating_premium:["Spinning up top-tier models","Building your premium kit","Finalising"]},yR=[.3,.6,.9,.5,.75,1,.4,.65,.85,.55,.7,.95,.45,.8,.6,1,.35,.7,.5,.9,.65,.4,.85,.55,.75,.3,.95,.6,.45,.7];function vR({screen:n,isPremium:t}){const r=$v[t&&n==="generating"?"generating_premium":n]||$v.loading_swipe,[l,c]=T.useState(0);T.useEffect(()=>{const p=setInterval(()=>c(m=>(m+1)%r.length),2200);return()=>clearInterval(p)},[r]);const u=t&&n==="generating"?"Building your premium kit":"Shaping your vibe";return h.jsxs(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",padding:"40px 20px",position:"relative"},children:[h.jsxs("div",{className:"music-ripples",children:[h.jsx("div",{className:"ripple"}),h.jsx("div",{className:"ripple"}),h.jsx("div",{className:"ripple"})]}),h.jsx(Re.div,{animate:{scale:[1,1.06,1]},transition:{repeat:1/0,duration:2.4,ease:"easeInOut"},style:{position:"relative",zIndex:1},children:h.jsxs("svg",{width:"56",height:"62",viewBox:"0 0 56 62",fill:"none",children:[h.jsx("path",{d:"M18 46V14L50 8V40",stroke:"url(#mg)",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("circle",{cx:"10",cy:"46",r:"8",stroke:"url(#mg)",strokeWidth:"3"}),h.jsx("circle",{cx:"42",cy:"40",r:"8",stroke:"url(#mg)",strokeWidth:"3"}),h.jsx("defs",{children:h.jsxs("linearGradient",{id:"mg",x1:"0",y1:"0",x2:"50",y2:"62",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:"#c084fc"}),h.jsx("stop",{offset:"1",stopColor:"#f472b6"})]})})]})}),h.jsx("div",{className:"music-waveform",style:{position:"relative",zIndex:1},children:yR.map((p,m)=>{const g=Math.round(p*54),y=Math.max(3,Math.round(p*12));return h.jsx("div",{className:"music-bar",style:{height:`${g}px`,"--min":y/g,"--max":1,"--dur":`${.45+m%7*.09}s`}},m)})}),h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"1.6rem",letterSpacing:"-0.02em",color:"var(--text)",marginBottom:8,position:"relative",zIndex:1},children:u}),h.jsx(cn,{mode:"wait",children:h.jsx(Re.p,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.3},style:{color:"var(--muted)",fontSize:"0.9rem",fontWeight:300,position:"relative",zIndex:1},children:r[l]},l)})]})}const wh="2.1.0",Hv="vibenow_seen_version",bR=[{emoji:"",title:"Bug Fixes & Deploy Fix",description:"Fixed the site not updating after deploys  vibenow.me now always serves the latest version instantly."},{emoji:"",title:"VibeBuild: 10 Providers, 60+ Models",description:"OpenAI, Anthropic, Google AI, xAI/Grok, Mistral, Groq, Together, Cohere, DeepSeek direct, and Custom/Self-hosted (Ollama/LM Studio). Type any model ID."},{emoji:"",title:"Free Models Filter",description:"Filter to free-only models in VibeBuild settings. Gemini 2.0 Flash Thinking and others are completely free."},{emoji:"",title:"Build Done Popup",description:"VibeBuild now shows a completion popup with file count and cost summary when generation finishes."}];function xR(){const[n,t]=T.useState(!1);T.useEffect(()=>{localStorage.getItem(Hv)!==wh&&t(!0)},[]);const a=()=>{localStorage.setItem(Hv,wh),t(!1)};return h.jsx(cn,{children:n&&h.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:200,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:a,children:h.jsxs(Re.div,{initial:{opacity:0,scale:.92,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",stiffness:300,damping:25},onClick:r=>r.stopPropagation(),style:{background:"rgba(12,12,12,0.98)",border:"1px solid var(--border)",borderRadius:20,padding:"28px 24px",maxWidth:420,width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.7)"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},children:[h.jsxs("div",{children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"1.3rem",margin:0,background:"linear-gradient(135deg, var(--accent-1), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"What's New"}),h.jsxs("p",{style:{fontSize:"0.72rem",color:"var(--muted)",margin:"2px 0 0"},children:["v",wh,"  Bug Fix & Improvements"]})]}),h.jsx("button",{onClick:a,style:{background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:8,padding:"4px 10px",cursor:"pointer",color:"var(--text-dim)",fontSize:"0.8rem"},children:""})]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:20},children:bR.map((r,l)=>h.jsxs("div",{style:{display:"flex",gap:12,padding:"10px 12px",background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:12},children:[h.jsx("span",{style:{fontSize:"1.3rem",flexShrink:0},children:r.emoji}),h.jsxs("div",{children:[h.jsx("p",{style:{fontWeight:700,fontSize:"0.88rem",color:"var(--text)",marginBottom:2},children:r.title}),h.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text-muted)",lineHeight:1.5,margin:0},children:r.description})]})]},l))}),h.jsxs("div",{style:{display:"flex",gap:10},children:[h.jsx("button",{className:"btn btn-primary",onClick:a,style:{flex:1},children:"Got it!"}),h.jsx("button",{className:"btn btn-secondary",onClick:()=>{a(),document.querySelector('[data-tab="beta"]')?.click()},style:{flex:"none",fontSize:"0.82rem"},children:"Full changelog"})]})]})})})}function SR({onTryPremium:n,onDismiss:t}){const[a,r]=T.useState(!1),[l,c]=T.useState(!1),u=()=>{r(!0),t?.()},p=()=>{c(!0),n()};return h.jsx(cn,{children:!a&&h.jsxs(Re.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},exit:{opacity:0,y:-12},transition:{duration:.3},style:{margin:"0 0 18px 0",padding:"14px 16px",background:"linear-gradient(135deg, rgba(124,58,237,0.15) 0%, rgba(236,72,153,0.1) 100%)",border:"1px solid rgba(124,58,237,0.35)",borderRadius:14,display:"flex",gap:14,alignItems:"flex-start"},children:[h.jsx("span",{style:{fontSize:"1.4rem",flexShrink:0,marginTop:1},children:""}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsx("p",{style:{fontWeight:700,fontSize:"0.92rem",color:"var(--text)",marginBottom:4},children:"Want to try something new?"}),h.jsxs("p",{style:{fontSize:"0.82rem",color:"var(--text-muted)",lineHeight:1.55,marginBottom:10},children:["We're testing a premium tier  faster models, better app icons, richer websites, more detailed build prompts. You've got ",h.jsx("strong",{style:{color:"#a78bfa"},children:"one free premium generation"})," on us. Try it out and let us know what you think."]}),h.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[h.jsx("button",{onClick:p,disabled:l,style:{background:l?"rgba(124,58,237,0.3)":"linear-gradient(135deg, #7c3aed, #ec4899)",border:"none",borderRadius:8,padding:"7px 16px",color:"#fff",fontWeight:700,fontSize:"0.82rem",cursor:l?"default":"pointer",opacity:l?.85:1},children:l?" Premium mode on  now generate below":"Try it free"}),h.jsx("button",{onClick:u,style:{background:"transparent",border:"1px solid var(--border)",borderRadius:8,padding:"7px 14px",color:"var(--text-dim)",fontSize:"0.82rem",cursor:"pointer"},children:"Maybe later"})]})]}),h.jsx("button",{onClick:u,style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-dim)",fontSize:"1rem",padding:2,flexShrink:0},children:""})]})})}const wR=["$35/mo","$510/mo","$1020/mo","$20+/mo"];function _R({label:n,active:t,onClick:a}){return h.jsx("button",{onClick:a,style:{padding:"8px 22px",borderRadius:99,fontSize:"0.88rem",fontWeight:600,cursor:"pointer",transition:"all 0.15s",background:t?"#fff":"rgba(255,255,255,0.07)",border:t?"none":"1px solid rgba(255,255,255,0.15)",color:t?"#0a0a0f":"rgba(255,255,255,0.7)",boxShadow:t?"0 2px 12px rgba(0,0,0,0.3)":"none"},children:n})}function TR({onSubmit:n,onSkip:t}){const[a,r]=T.useState(null),[l,c]=T.useState(null),[u,p]=T.useState(null),[m,g]=T.useState(""),[y,x]=T.useState(null),[b,S]=T.useState(0),_=[{q:"Did you like the premium generation?",value:a,set:r,options:[{label:"Yeah, loved it",val:!0},{label:"Not really",val:!1}]},{q:"Was the quality noticeably better?",value:l,set:c,options:[{label:"Definitely better",val:!0},{label:"Same as normal",val:!1}]},{q:"Would you pay for regular access?",value:u,set:p,options:[{label:"Yes, I would",val:!0},{label:"Probably not",val:!1}]},...u?[{q:"How much per month?",value:m,set:g,options:wR.map(k=>({label:k,val:k}))}]:[],{q:"Should we add a paid plan?",value:y,set:x,options:[{label:"Yes, build it",val:!0},{label:"Keep it free",val:!1}]}],j=_[b],R=b===_.length-1,A=j?.value!==null&&j?.value!=="",C=()=>{A&&(R?n({likedIt:a,wasGood:l,wouldPay:u,priceRange:m,shouldAddAccount:y}):S(k=>k+1))};return h.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:300,background:"linear-gradient(135deg, #0a0a0f 0%, #1a0a2e 50%, #0a0a1a 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:24},children:[h.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("div",{style:{display:"flex",gap:6},children:_.map((k,L)=>h.jsx("div",{style:{width:L<=b?24:8,height:8,borderRadius:99,background:L<b?"#a78bfa":L===b?"#fff":"rgba(255,255,255,0.15)",transition:"all 0.3s ease"}},L))}),h.jsx("button",{onClick:t,style:{background:"rgba(255,255,255,0.08)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:100,cursor:"pointer",color:"rgba(255,255,255,0.7)",fontSize:"0.8rem",padding:"6px 16px",fontFamily:"inherit"},children:"Skip "})]}),h.jsx("div",{style:{maxWidth:480,width:"100%",textAlign:"center"},children:h.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{type:"spring",stiffness:300,damping:28},children:[h.jsxs("p",{style:{fontSize:"0.75rem",fontWeight:700,color:"#a78bfa",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:16},children:["Quick feedback  question ",b+1," of ",_.length]}),h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:800,fontSize:"clamp(1.6rem, 5vw, 2.4rem)",color:"#fff",lineHeight:1.2,marginBottom:36},children:j?.q}),h.jsx("div",{style:{display:"flex",gap:12,justifyContent:"center",flexWrap:"wrap",marginBottom:48},children:j?.options.map(k=>h.jsx(_R,{label:k.label,active:j.value===k.val,onClick:()=>{j.set(k.val)}},String(k.val)))}),h.jsx("button",{onClick:C,disabled:!A,style:{padding:"14px 48px",borderRadius:14,background:A?"linear-gradient(135deg,#7c3aed,#ec4899)":"rgba(255,255,255,0.08)",border:"none",color:A?"#fff":"rgba(255,255,255,0.3)",fontWeight:700,fontSize:"1rem",cursor:A?"pointer":"not-allowed",transition:"all 0.2s",boxShadow:A?"0 4px 24px rgba(124,58,237,0.4)":"none"},children:R?"Submit feedback":"Next "})]},b)}),h.jsx("p",{style:{position:"absolute",bottom:24,fontSize:"0.72rem",color:"rgba(255,255,255,0.2)",textAlign:"center"},children:"Your answers are stored securely and only used to improve VibeNow."})]})}const Ws=[{id:"openrouter",name:"OpenRouter",badge:"All models",endpoint:"https://openrouter.ai/api/v1/chat/completions",extraHeaders:{"HTTP-Referer":"https://vibenow.me","X-Title":"VibeBuild"},models:[{id:"deepseek/deepseek-r1-0528:free",label:"DeepSeek R1 0528 (Free)",costIn:0,costOut:0},{id:"qwen/qwen3-coder:free",label:"Qwen3 Coder 480B (Free)",costIn:0,costOut:0},{id:"qwen/qwen3-next-80b-a3b-instruct:free",label:"Qwen3 Next 80B (Free)",costIn:0,costOut:0},{id:"meta-llama/llama-3.3-70b-instruct:free",label:"Llama 3.3 70B (Free)",costIn:0,costOut:0},{id:"qwen/qwen3-4b:free",label:"Qwen3 4B (Free)",costIn:0,costOut:0},{id:"mistralai/mistral-small-3.1-24b-instruct:free",label:"Mistral Small 3.1 24B (Free)",costIn:0,costOut:0},{id:"nousresearch/hermes-3-llama-3.1-405b:free",label:"Hermes 3 405B (Free)",costIn:0,costOut:0},{id:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B (Free)",costIn:0,costOut:0},{id:"openai/gpt-oss-20b:free",label:"GPT-OSS 20B (Free)",costIn:0,costOut:0},{id:"google/gemma-3-27b-it:free",label:"Gemma 3 27B (Free)",costIn:0,costOut:0},{id:"google/gemma-3-12b-it:free",label:"Gemma 3 12B (Free)",costIn:0,costOut:0},{id:"nvidia/nemotron-3-nano-30b-a3b:free",label:"Nemotron 3 Nano 30B (Free)",costIn:0,costOut:0},{id:"upstage/solar-pro-3:free",label:"Solar Pro 3 (Free)",costIn:0,costOut:0},{id:"z-ai/glm-4.5-air:free",label:"GLM 4.5 Air (Free)",costIn:0,costOut:0},{id:"meta-llama/llama-3.2-3b-instruct:free",label:"Llama 3.2 3B (Free)",costIn:0,costOut:0},{id:"anthropic/claude-opus-4.6",label:"Claude Opus 4.6",costIn:5,costOut:25},{id:"anthropic/claude-sonnet-4.6",label:"Claude Sonnet 4.6",costIn:3,costOut:15},{id:"anthropic/claude-opus-4.5",label:"Claude Opus 4.5",costIn:5,costOut:25},{id:"anthropic/claude-sonnet-4.5",label:"Claude Sonnet 4.5",costIn:3,costOut:15},{id:"anthropic/claude-haiku-4.5",label:"Claude Haiku 4.5",costIn:1,costOut:5},{id:"anthropic/claude-opus-4",label:"Claude Opus 4",costIn:15,costOut:75},{id:"anthropic/claude-sonnet-4",label:"Claude Sonnet 4",costIn:3,costOut:15},{id:"anthropic/claude-3.7-sonnet",label:"Claude 3.7 Sonnet",costIn:3,costOut:15},{id:"anthropic/claude-3.7-sonnet:thinking",label:"Claude 3.7 Sonnet (Thinking)",costIn:3,costOut:15},{id:"anthropic/claude-3.5-sonnet",label:"Claude 3.5 Sonnet",costIn:6,costOut:30},{id:"anthropic/claude-3.5-haiku",label:"Claude 3.5 Haiku",costIn:.8,costOut:4},{id:"openai/gpt-5",label:"GPT-5",costIn:1.25,costOut:10},{id:"openai/gpt-5.1",label:"GPT-5.1",costIn:1.25,costOut:10},{id:"openai/gpt-5.2",label:"GPT-5.2",costIn:1.75,costOut:14},{id:"openai/gpt-5-nano",label:"GPT-5 Nano",costIn:.05,costOut:.4},{id:"openai/gpt-4.1",label:"GPT-4.1",costIn:2,costOut:8},{id:"openai/gpt-4.1-mini",label:"GPT-4.1 Mini",costIn:.4,costOut:1.6},{id:"openai/gpt-4.1-nano",label:"GPT-4.1 Nano",costIn:.1,costOut:.4},{id:"openai/gpt-4o",label:"GPT-4o",costIn:2.5,costOut:10},{id:"openai/gpt-4o-mini",label:"GPT-4o Mini",costIn:.15,costOut:.6},{id:"openai/o4-mini",label:"o4 Mini",costIn:1.1,costOut:4.4},{id:"openai/o4-mini-high",label:"o4 Mini High",costIn:1.1,costOut:4.4},{id:"openai/o3",label:"o3",costIn:2,costOut:8},{id:"openai/o3-mini",label:"o3 Mini",costIn:1.1,costOut:4.4},{id:"google/gemini-3.1-pro-preview",label:"Gemini 3.1 Pro Preview",costIn:2,costOut:12},{id:"google/gemini-3-pro-preview",label:"Gemini 3 Pro Preview",costIn:2,costOut:12},{id:"google/gemini-2.5-pro",label:"Gemini 2.5 Pro",costIn:1.25,costOut:10},{id:"google/gemini-2.5-flash",label:"Gemini 2.5 Flash",costIn:.15,costOut:.6},{id:"google/gemini-2.0-flash-001",label:"Gemini 2.0 Flash",costIn:.1,costOut:.4},{id:"google/gemini-2.0-flash-lite-001",label:"Gemini 2.0 Flash Lite",costIn:.07,costOut:.3},{id:"deepseek/deepseek-chat-v3-0324",label:"DeepSeek V3",costIn:.14,costOut:.28},{id:"deepseek/deepseek-r1",label:"DeepSeek R1",costIn:.55,costOut:2.19},{id:"deepseek/deepseek-r1-0528",label:"DeepSeek R1 0528",costIn:.55,costOut:2.19},{id:"x-ai/grok-4",label:"Grok 4",costIn:3,costOut:15},{id:"x-ai/grok-3",label:"Grok 3",costIn:3,costOut:15},{id:"x-ai/grok-3-mini",label:"Grok 3 Mini",costIn:.3,costOut:.5},{id:"meta-llama/llama-4-maverick",label:"Llama 4 Maverick",costIn:.18,costOut:.6},{id:"meta-llama/llama-4-scout",label:"Llama 4 Scout",costIn:.08,costOut:.25},{id:"meta-llama/llama-3.3-70b-instruct",label:"Llama 3.3 70B",costIn:.12,costOut:.3},{id:"qwen/qwen3-235b-a22b-2507",label:"Qwen3 235B",costIn:.07,costOut:.1},{id:"qwen/qwen3-coder-plus",label:"Qwen3 Coder Plus",costIn:1,costOut:5},{id:"qwen/qwen3-32b",label:"Qwen3 32B",costIn:.08,costOut:.24},{id:"qwen/qwen3-14b",label:"Qwen3 14B",costIn:.06,costOut:.24},{id:"qwen/qwen2.5-coder-32b-instruct",label:"Qwen2.5 Coder 32B",costIn:.07,costOut:.16},{id:"mistralai/mistral-large-2411",label:"Mistral Large",costIn:2,costOut:6},{id:"mistralai/mistral-small-3.2-24b-instruct",label:"Mistral Small 3.2",costIn:.06,costOut:.18},{id:"mistralai/codestral-2501",label:"Codestral (Code)",costIn:.3,costOut:.9},{id:"nvidia/llama-3.1-nemotron-ultra-253b-v1",label:"Nemotron Ultra 253B",costIn:.4,costOut:.4},{id:"nvidia/llama-3.1-nemotron-70b-instruct",label:"Nemotron 70B",costIn:1.2,costOut:1.2},{id:"cohere/command-a",label:"Cohere Command A",costIn:2.5,costOut:10},{id:"cohere/command-r-plus-08-2024",label:"Cohere Command R+",costIn:2.5,costOut:10}]},{id:"openai",name:"OpenAI",badge:"Direct",endpoint:"https://api.openai.com/v1/chat/completions",models:[{id:"gpt-4.1",label:"GPT-4.1",costIn:2,costOut:8},{id:"gpt-4.1-mini",label:"GPT-4.1 Mini",costIn:.4,costOut:1.6},{id:"gpt-4.1-nano",label:"GPT-4.1 Nano",costIn:.1,costOut:.4},{id:"gpt-4o",label:"GPT-4o",costIn:5,costOut:15},{id:"gpt-4o-mini",label:"GPT-4o Mini",costIn:.15,costOut:.6},{id:"o3-mini",label:"o3 Mini",costIn:1.1,costOut:4.4},{id:"o4-mini",label:"o4 Mini",costIn:1.1,costOut:4.4},{id:"o3",label:"o3",costIn:10,costOut:40}]},{id:"anthropic",name:"Anthropic",badge:"Direct",format:"anthropic",endpoint:"https://api.anthropic.com/v1/messages",extraHeaders:{"anthropic-version":"2023-06-01"},models:[{id:"claude-opus-4-20250514",label:"Claude Opus 4",costIn:15,costOut:75},{id:"claude-sonnet-4-6-20250930",label:"Claude Sonnet 4.6",costIn:3,costOut:15},{id:"claude-opus-4-6-20250930",label:"Claude Opus 4.6",costIn:5,costOut:25},{id:"claude-sonnet-4-5-20250929",label:"Claude Sonnet 4.5",costIn:3,costOut:15},{id:"claude-haiku-4-5-20250929",label:"Claude Haiku 4.5",costIn:.8,costOut:4},{id:"claude-3-7-sonnet-20250219",label:"Claude 3.7 Sonnet",costIn:3,costOut:15},{id:"claude-3-5-sonnet-20241022",label:"Claude 3.5 Sonnet",costIn:3,costOut:15},{id:"claude-3-5-haiku-20241022",label:"Claude 3.5 Haiku",costIn:.8,costOut:4},{id:"claude-3-opus-20240229",label:"Claude 3 Opus",costIn:15,costOut:75}]},{id:"google",name:"Google AI",badge:"Direct",format:"gemini",endpoint:"https://generativelanguage.googleapis.com/v1beta/models",models:[{id:"gemini-2.5-pro",label:"Gemini 2.5 Pro",costIn:1.25,costOut:10},{id:"gemini-2.5-flash",label:"Gemini 2.5 Flash",costIn:.15,costOut:.6},{id:"gemini-2.0-flash",label:"Gemini 2.0 Flash",costIn:.1,costOut:.4},{id:"gemini-2.0-flash-lite",label:"Gemini 2.0 Flash Lite",costIn:.075,costOut:.3},{id:"gemini-1.5-pro",label:"Gemini 1.5 Pro",costIn:1.25,costOut:5},{id:"gemini-1.5-flash",label:"Gemini 1.5 Flash",costIn:.075,costOut:.3}]},{id:"deepseek",name:"DeepSeek",badge:"Direct",endpoint:"https://api.deepseek.com/v1/chat/completions",models:[{id:"deepseek-chat",label:"DeepSeek V3",costIn:.07,costOut:.28},{id:"deepseek-reasoner",label:"DeepSeek R1",costIn:.55,costOut:2.19}]},{id:"groq",name:"Groq",badge:"Fast",endpoint:"https://api.groq.com/openai/v1/chat/completions",models:[{id:"llama-3.3-70b-versatile",label:"Llama 3.3 70B",costIn:.09,costOut:.09},{id:"llama-3.1-8b-instant",label:"Llama 3.1 8B",costIn:.05,costOut:.05},{id:"llama4-scout-17b-16e-instruct",label:"Llama 4 Scout",costIn:.11,costOut:.34},{id:"llama4-maverick-17b-128e-instruct",label:"Llama 4 Maverick",costIn:.2,costOut:.6},{id:"gemma2-9b-it",label:"Gemma 2 9B",costIn:.04,costOut:.04},{id:"qwen-qwq-32b",label:"Qwen QwQ 32B",costIn:.29,costOut:.39}]},{id:"mistral",name:"Mistral",badge:"Direct",endpoint:"https://api.mistral.ai/v1/chat/completions",models:[{id:"mistral-large-latest",label:"Mistral Large",costIn:2,costOut:6},{id:"mistral-small-latest",label:"Mistral Small",costIn:.1,costOut:.3},{id:"codestral-latest",label:"Codestral",costIn:.3,costOut:.9},{id:"open-mistral-nemo",label:"Mistral Nemo",costIn:.15,costOut:.15},{id:"mistral-medium-latest",label:"Mistral Medium",costIn:.4,costOut:2}]},{id:"xai",name:"xAI / Grok",badge:"Direct",endpoint:"https://api.x.ai/v1/chat/completions",models:[{id:"grok-3",label:"Grok 3",costIn:3,costOut:15},{id:"grok-3-mini",label:"Grok 3 Mini",costIn:.3,costOut:.5},{id:"grok-2-1212",label:"Grok 2",costIn:2,costOut:10}]},{id:"together",name:"Together AI",badge:"Open Models",endpoint:"https://api.together.xyz/v1/chat/completions",models:[{id:"meta-llama/Llama-4-Maverick-17B-128E-Instruct-FP8",label:"Llama 4 Maverick",costIn:.18,costOut:.59},{id:"meta-llama/Meta-Llama-3.3-70B-Instruct-Turbo",label:"Llama 3.3 70B",costIn:.88,costOut:.88},{id:"deepseek-ai/DeepSeek-V3",label:"DeepSeek V3",costIn:.75,costOut:.75},{id:"Qwen/Qwen2.5-Coder-32B-Instruct",label:"Qwen 2.5 Coder",costIn:.8,costOut:.8},{id:"mistralai/Mistral-7B-Instruct-v0.3",label:"Mistral 7B",costIn:.2,costOut:.2}]},{id:"cohere",name:"Cohere",badge:"Direct",endpoint:"https://api.cohere.com/v2/chat",format:"cohere",models:[{id:"command-r-plus-08-2024",label:"Command R+",costIn:2.5,costOut:10},{id:"command-r-08-2024",label:"Command R",costIn:.15,costOut:.6},{id:"command-a-03-2025",label:"Command A",costIn:2.5,costOut:10}]},{id:"nvidia",name:"NVIDIA AI",badge:"NIM",endpoint:"https://integrate.api.nvidia.com/v1/chat/completions",models:[{id:"nvidia/llama-3.1-nemotron-ultra-253b-v1",label:"Nemotron Ultra 253B",costIn:.4,costOut:.4},{id:"nvidia/llama-3.3-nemotron-super-49b-v1",label:"Nemotron Super 49B",costIn:.13,costOut:.42},{id:"nvidia/llama-3.1-nemotron-70b-instruct",label:"Nemotron 70B",costIn:.35,costOut:.4},{id:"meta/llama-4-maverick-17b-128e-instruct",label:"Llama 4 Maverick",costIn:.2,costOut:.2},{id:"meta/llama-4-scout-17b-16e-instruct",label:"Llama 4 Scout",costIn:.1,costOut:.1},{id:"meta/llama-3.3-70b-instruct",label:"Llama 3.3 70B",costIn:.23,costOut:.23},{id:"mistralai/mistral-large-2-instruct",label:"Mistral Large 2",costIn:2,costOut:6},{id:"mistralai/codestral-22b-instruct-v0.1",label:"Codestral 22B",costIn:.3,costOut:.9},{id:"deepseek-ai/deepseek-r1",label:"DeepSeek R1",costIn:.55,costOut:2.19},{id:"qwen/qwen3-235b-a22b",label:"Qwen3 235B",costIn:.14,costOut:.6}]},{id:"custom",name:"Custom / Self-hosted",badge:"Any",endpoint:"",models:[]}],Ys=[{id:"html",label:"HTML / CSS / JS",canPreview:!0,setup:null,run:"Open index.html in browser"},{id:"react",label:"React (Vite)",canPreview:!1,setup:"npm install",run:"npm run dev"},{id:"vue",label:"Vue 3 (Vite)",canPreview:!1,setup:"npm install",run:"npm run dev"},{id:"svelte",label:"Svelte (Vite)",canPreview:!1,setup:"npm install",run:"npm run dev"},{id:"nextjs",label:"Next.js",canPreview:!1,setup:"npm install",run:"npm run dev"},{id:"node",label:"Node.js (Express)",canPreview:!1,setup:"npm install",run:"node server.js"},{id:"python",label:"Python (Flask)",canPreview:!1,setup:"pip install -r requirements.txt",run:"python app.py"},{id:"fastapi",label:"Python (FastAPI)",canPreview:!1,setup:"pip install -r requirements.txt",run:"uvicorn main:app --reload"}],Ks=[{id:"none",label:"None",docker:null,cmd:null},{id:"sqlite",label:"SQLite",docker:null,cmd:"sqlite3 db.sqlite < schema.sql"},{id:"postgresql",label:"PostgreSQL",docker:"docker run -d -p 5432:5432 -e POSTGRES_PASSWORD=password --name vibedb postgres:15",cmd:"psql -h localhost -U postgres -f schema.sql"},{id:"mysql",label:"MySQL",docker:"docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=password --name vibedb mysql:8",cmd:"mysql -h 127.0.0.1 -u root -ppassword < schema.sql"},{id:"mongodb",label:"MongoDB",docker:"docker run -d -p 27017:27017 --name vibedb mongo:7",cmd:"mongosh < schema.js"}];async function ic(n,t,a=3,r){let l=2e3;for(let c=0;c<=a;c++){const u=await fetch(n,t);if(u.status!==429||c===a)return u;r&&r(l/1e3,c+1),await new Promise(p=>setTimeout(p,l)),l=Math.min(l*2,3e4)}}function ac(n){const t=n.match(/<think(?:ing)?>([\s\S]*?)<\/think(?:ing)?>/i),a=t?t[1].trim():null;return{content:n.replace(/<think(?:ing)?>[\s\S]*?<\/think(?:ing)?>/gi,"").trim(),thinking:a}}async function Zr({providerId:n,model:t,apiKey:a,messages:r,signal:l,customEndpoint:c,onRetry:u}){const p=Ws.find(C=>C.id===n);if(!p)throw new Error("Unknown provider");const m=n==="custom"?c:p.endpoint;if(!m)throw new Error("No endpoint configured");const g=p.format;if(g==="anthropic"){const C=r.find(he=>he.role==="system")?.content||"",k=r.filter(he=>he.role!=="system"),L=await ic(m,{method:"POST",signal:l,headers:{"Content-Type":"application/json","x-api-key":a,...p.extraHeaders||{}},body:JSON.stringify({model:t,system:C,messages:k,max_tokens:8e3})},3,u);if(!L.ok){const he=await L.text().catch(()=>"");throw new Error(`${p.name} ${L.status}${he?": "+he.slice(0,120):""}`)}const V=await L.json(),Y=V.content?.[0]?.text||"";if(!Y)throw new Error(`${p.name}: empty response`);const{content:F,thinking:q}=ac(Y),te=V.usage||{};return{content:F,thinking:q,inputTokens:te.input_tokens||0,outputTokens:te.output_tokens||0}}if(g==="gemini"){const C=r.filter(ye=>ye.role!=="system").map(ye=>({role:ye.role==="assistant"?"model":"user",parts:[{text:ye.content}]})),k=r.find(ye=>ye.role==="system")?.content,L={contents:C,generationConfig:{temperature:.3,maxOutputTokens:8e3}};k&&(L.systemInstruction={parts:[{text:k}]});const V=`${m}/${t}:generateContent?key=${a}`,Y=await ic(V,{method:"POST",signal:l,headers:{"Content-Type":"application/json"},body:JSON.stringify(L)},3,u);if(!Y.ok){const ye=await Y.text().catch(()=>"");throw new Error(`${p.name} ${Y.status}${ye?": "+ye.slice(0,120):""}`)}const F=await Y.json(),q=F.candidates?.[0]?.content?.parts?.[0]?.text||"";if(!q){const ye=F.candidates?.[0]?.finishReason||F.promptFeedback?.blockReason||"no content";throw new Error(`${p.name}: ${ye}`)}const{content:te,thinking:he}=ac(q),ke=F.usageMetadata||{};return{content:te,thinking:he,inputTokens:ke.promptTokenCount||0,outputTokens:ke.candidatesTokenCount||0}}if(g==="cohere"){const C=await ic(m,{method:"POST",signal:l,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:t,messages:r,temperature:.3,max_tokens:8e3})},3,u);if(!C.ok){const q=await C.text().catch(()=>"");throw new Error(`${p.name} ${C.status}${q?": "+q.slice(0,120):""}`)}const k=await C.json(),L=k.message?.content?.[0]?.text||k.choices?.[0]?.message?.content||"",{content:V,thinking:Y}=ac(L),F=k.usage||{};return{content:V,thinking:Y,inputTokens:F.billed_units?.input_tokens||F.prompt_tokens||0,outputTokens:F.billed_units?.output_tokens||F.completion_tokens||0}}const y=await ic(m,{method:"POST",signal:l,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`,...p.extraHeaders||{}},body:JSON.stringify({model:t,messages:r,temperature:.3,max_tokens:8e3})},3,u);if(!y.ok){const C=await y.text().catch(()=>"");throw new Error(`${p.name} ${y.status}${C?": "+C.slice(0,200):""}`)}const x=await y.json(),b=x.choices?.[0]?.message?.reasoning||x.choices?.[0]?.message?.thinking||null,S=x.choices?.[0]?.message?.content||"";if(!S&&!b)throw new Error(`${p?.name||n}: empty response`);const{content:_,thinking:j}=ac(S),R=b||j||null,A=x.usage||{};return{content:_,thinking:R,inputTokens:A.prompt_tokens||Math.ceil(r.map(C=>C.content).join("").length/4),outputTokens:A.completion_tokens||Math.ceil(_.length/4)}}function qv(n,t){const a=t.split(".").pop(),r=new RegExp("```(?:"+a+"|html|css|js|jsx|ts|tsx|py|json|sql|md|svelte|vue)?\\n([\\s\\S]*?)```","i"),l=n.match(r);if(l)return l[1].trim();const c=n.split(`
`),u=c.findIndex(p=>/^(<!DOCTYPE|<html|import |from |const |function |class |CREATE |SELECT |{)/.test(p));return u!==-1?c.slice(u).join(`
`).trim():n.trim()}function kR(n,t,a,r){const c=Ws.find(u=>u.id===a)?.models.find(u=>u.id===r);return c?n/1e6*c.costIn+t/1e6*c.costOut:0}function jR(n,t){const a={html:[{name:"index.html",desc:"Main HTML"},{name:"style.css",desc:"Styles"},{name:"script.js",desc:"Logic"}],react:[{name:"src/App.jsx",desc:"Root component"},{name:"src/index.css",desc:"Styles"},{name:"package.json",desc:"Deps"},{name:"index.html",desc:"Entry"}],vue:[{name:"src/App.vue",desc:"Root component"},{name:"package.json",desc:"Deps"}],svelte:[{name:"src/App.svelte",desc:"Root component"},{name:"package.json",desc:"Deps"}],nextjs:[{name:"pages/index.js",desc:"Home page"},{name:"package.json",desc:"Deps"}],node:[{name:"server.js",desc:"Express server"},{name:"package.json",desc:"Deps"},{name:"public/index.html",desc:"Frontend"}],python:[{name:"app.py",desc:"Flask app"},{name:"requirements.txt",desc:"Deps"},{name:"templates/index.html",desc:"Template"}],fastapi:[{name:"main.py",desc:"FastAPI app"},{name:"requirements.txt",desc:"Deps"}]},r=a[n]||a.html;return t!=="none"&&r.push({name:t==="mongodb"?"database/schema.js":"database/schema.sql",desc:"DB schema"}),r}function AR({label:n,analyserRef:t,muted:a,onToggleMute:r}){const l=T.useRef([]),c=T.useRef(null),u=T.useRef(null),p=32;return T.useEffect(()=>{u.current||(u.current=Array(p).fill(8));const m=new Uint8Array(t?.current?.frequencyBinCount||p),g=Array.from({length:p},(b,S)=>({phase:S*38%1200/1e3,speed:.6+S*.037%.6,amp:.25+S*.023%.55}));let y=0;const x=()=>{y+=.016;const b=t?.current&&!a;b&&t.current.getByteFrequencyData(m),l.current.forEach((S,_)=>{if(!S)return;let j;if(b){const C=Math.floor(_*(m.length/p));j=m[C]/255*92,j=Math.max(j,3+Math.sin(y*2+_*.4)*2)}else{const C=g[_];j=(Math.sin(y*C.speed+C.phase)*.5+.5)*C.amp*68+4}const R=u.current[_],A=j>R?.22:.08;u.current[_]=R+(j-R)*A,S.style.height=`${Math.max(u.current[_],3)}%`}),c.current=requestAnimationFrame(x)};return c.current=requestAnimationFrame(x),()=>cancelAnimationFrame(c.current)},[t,a]),h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:24,position:"relative"},children:[h.jsx("button",{onClick:r,title:a?"Unmute":"Mute",style:{position:"absolute",top:16,right:16,background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,padding:"5px 9px",cursor:"pointer",color:a?"#f87171":"var(--muted)",fontSize:"0.75rem",display:"flex",alignItems:"center",gap:4},children:a?"Unmute":"Mute"}),h.jsx("div",{style:{display:"flex",gap:3,alignItems:"center",height:72,width:"100%",maxWidth:260,justifyContent:"center"},children:Array.from({length:p},(m,g)=>h.jsx("div",{ref:y=>l.current[g]=y,style:{flex:1,maxWidth:8,height:"8%",borderRadius:3,minHeight:3,background:"linear-gradient(to top, var(--accent-1, #c084fc), var(--accent-2, #f472b6))"}},g))}),h.jsx("p",{style:{color:"var(--muted, #888)",fontSize:"0.875rem",fontWeight:300,letterSpacing:"0.05em",maxWidth:280,textAlign:"center"},children:n})]})}function ER({log:n,queue:t,queueInput:a,setQueueInput:r,onQueue:l,onStop:c,isGenerating:u,buildPhase:p}){const m=T.useRef(null),[g,y]=T.useState({});T.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[n]);const x=p==="planning"?"Planning":p==="building"?"Building":p==="updating"?"Updating":p==="done"?"Done":null;return h.jsxs("div",{style:{width:248,minWidth:248,display:"flex",flexDirection:"column",height:"100%",borderRight:"1px solid var(--border, rgba(255,255,255,0.08))"},children:[h.jsxs("div",{style:{padding:"10px 14px 8px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",gap:8},children:[h.jsx("div",{style:{width:6,height:6,borderRadius:3,background:u?"#4ade80":"var(--muted)",boxShadow:u?"0 0 8px #4ade80":"none",transition:"all 0.3s"}}),h.jsx("span",{style:{fontSize:"0.65rem",fontWeight:600,letterSpacing:"0.12em",color:"var(--muted)",textTransform:"uppercase"},children:"Activity"}),x&&h.jsx("span",{style:{fontSize:"0.6rem",fontWeight:700,color:p==="planning"?"#60a5fa":p==="building"?"#a78bfa":p==="updating"?"#fbbf24":"#4ade80",marginLeft:"auto"},children:x})]}),h.jsx("div",{ref:m,style:{flex:1,overflowY:"auto",padding:"6px 0",minHeight:0},children:n.length===0?h.jsx("p",{style:{padding:"8px 14px",fontSize:"0.72rem",color:"var(--muted)",fontStyle:"italic"},children:"Ready to build"}):n.map(b=>h.jsx("div",{children:h.jsxs("div",{onClick:()=>b.thinking&&y(S=>({...S,[b.id]:!S[b.id]})),style:{display:"flex",alignItems:"flex-start",gap:8,padding:"5px 14px",opacity:b.status==="done"?.6:1,cursor:b.thinking?"pointer":"default",borderRadius:6,transition:"background 0.1s",background:b.thinking&&g[b.id]?"rgba(96,165,250,0.06)":"transparent"},onMouseEnter:S=>{b.thinking&&(S.currentTarget.style.background="rgba(255,255,255,0.04)")},onMouseLeave:S=>{b.thinking&&(S.currentTarget.style.background=b.thinking&&g[b.id]?"rgba(96,165,250,0.06)":"transparent")},children:[h.jsx("div",{style:{width:6,height:6,borderRadius:3,flexShrink:0,marginTop:5,background:b.status==="error"?"#f87171":b.status==="active"?"#a78bfa":"#4ade80",boxShadow:b.status==="active"?"0 0 8px #a78bfa":"none"}}),h.jsxs("div",{style:{flex:1,minWidth:0},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[h.jsx("span",{style:{fontSize:"0.72rem",color:b.status==="error"?"#fca5a5":"var(--text)",lineHeight:1.45},children:b.text}),b.thinking&&h.jsx("span",{style:{fontSize:"0.58rem",color:"#93c5fd",opacity:.7,flexShrink:0},children:g[b.id]?"":""})]}),b.thinking&&g[b.id]&&h.jsx("div",{style:{marginTop:6,padding:"8px 10px",background:"rgba(96,165,250,0.05)",border:"1px solid rgba(96,165,250,0.15)",borderRadius:6,fontSize:"0.65rem",color:"#93c5fd",lineHeight:1.5,whiteSpace:"pre-wrap",maxHeight:200,overflowY:"auto"},children:b.thinking})]})]})},b.id))}),h.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.05)",padding:"8px 14px 4px"},children:h.jsx("span",{style:{fontSize:"0.65rem",fontWeight:600,letterSpacing:"0.12em",color:"var(--muted)",textTransform:"uppercase"},children:"Queue"})}),h.jsx("div",{style:{maxHeight:100,overflowY:"auto",padding:"0 8px"},children:t.length===0?h.jsx("p",{style:{padding:"2px 6px 6px",fontSize:"0.68rem",color:"var(--muted)",fontStyle:"italic"},children:"No messages queued"}):t.map(b=>h.jsxs("div",{style:{fontSize:"0.68rem",padding:"3px 8px",marginBottom:3,background:b.status==="sent"?"rgba(74,222,128,0.08)":"rgba(167,139,250,0.1)",borderRadius:6,color:b.status==="sent"?"#86efac":"var(--text)",display:"flex",alignItems:"center",gap:5},children:[h.jsx("span",{style:{opacity:.6,fontSize:"0.58rem"},children:b.status==="sent"?"done":"queued"})," ",b.text]},b.id))}),h.jsxs("div",{style:{padding:"6px 8px 8px",display:"flex",gap:5},children:[h.jsx("input",{value:a,onChange:b=>r(b.target.value),onKeyDown:b=>b.key==="Enter"&&a.trim()&&l(),placeholder:p==="done"?"Send a change...":"Queue a follow-up...",style:{flex:1,background:"rgba(255,255,255,0.04)",border:`1px solid ${p==="done"?"rgba(167,139,250,0.3)":"var(--border)"}`,borderRadius:8,padding:"5px 8px",fontSize:"0.7rem",color:"var(--text)",outline:"none",fontFamily:"inherit"}}),h.jsx("button",{onClick:()=>a.trim()&&l(),style:{background:p==="done"?"rgba(167,139,250,0.25)":"rgba(167,139,250,0.15)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:8,padding:"4px 8px",cursor:"pointer",color:"#a78bfa",fontSize:"0.85rem",fontWeight:700},children:p==="done"?"":"+"})]}),u&&h.jsxs("button",{onClick:c,style:{margin:"4px 8px 10px",display:"flex",alignItems:"center",justifyContent:"center",gap:6,background:"rgba(248,113,113,0.1)",border:"1px solid rgba(248,113,113,0.25)",borderRadius:10,padding:"8px",cursor:"pointer",color:"#fca5a5",fontSize:"0.78rem",fontWeight:600,fontFamily:"inherit"},children:[h.jsx(UE,{size:13})," Stop"]})]})}function CR({files:n}){const t=Object.keys(n),[a,r]=T.useState(null);return T.useEffect(()=>{t.length&&(!a||!n[a])&&r(t[0])},[JSON.stringify(t)]),t.length?h.jsxs("div",{style:{display:"flex",height:"100%",overflow:"hidden"},children:[h.jsx("div",{style:{width:168,minWidth:168,borderRight:"1px solid rgba(255,255,255,0.06)",overflowY:"auto",padding:"6px 0"},children:t.map(l=>h.jsx("button",{onClick:()=>r(l),style:{display:"block",width:"100%",textAlign:"left",padding:"5px 10px",fontSize:"0.68rem",fontFamily:"monospace",background:a===l?"rgba(167,139,250,0.1)":"transparent",border:"none",borderLeft:`2px solid ${a===l?"#a78bfa":"transparent"}`,color:a===l?"#ddd6fe":"var(--muted)",cursor:"pointer",wordBreak:"break-all",transition:"all 0.12s"},children:l},l))}),h.jsx("div",{style:{flex:1,overflow:"auto",padding:16},children:h.jsx("pre",{style:{margin:0,fontSize:"0.78rem",lineHeight:1.65,fontFamily:"monospace",color:"#e2e8f0",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:a&&n[a]||""})})]}):h.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:"var(--muted)",fontSize:"0.875rem"},children:"No files yet"})}function RR({database:n,language:t,files:a}){const r=Ks.find(p=>p.id===n),l=Ys.find(p=>p.id===t),c=a["database/schema.sql"]||a["database/schema.js"]||"";if(n==="none")return h.jsx("div",{style:{padding:24,color:"var(--muted)",fontSize:"0.875rem"},children:"No database selected. Open Settings to add one."});const u=[];return r?.docker&&u.push({label:"Start database (Docker)",cmd:r.docker,color:"#60a5fa"}),c&&u.push({label:"Apply schema",cmd:r?.cmd||"",color:"#a78bfa"}),l?.setup&&u.push({label:"Install deps",cmd:l.setup,color:"#86efac"}),u.push({label:"Run server",cmd:l?.run||"node server.js",color:"#86efac",highlight:!0}),h.jsxs("div",{style:{padding:20,overflowY:"auto",height:"100%"},children:[h.jsxs("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,fontSize:"1rem",marginBottom:16},children:[r?.label," Setup"]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10,marginBottom:24},children:u.map((p,m)=>h.jsx(hc,{label:`${m+1}. ${p.label}`,cmd:p.cmd,color:p.color},m))}),c&&h.jsxs(h.Fragment,{children:[h.jsx("p",{style:{fontSize:"0.7rem",fontWeight:600,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:8},children:"Schema"}),h.jsx("pre",{style:{background:"rgba(0,0,0,0.35)",borderRadius:10,padding:"12px 16px",fontSize:"0.75rem",fontFamily:"monospace",color:"#e2e8f0",overflowX:"auto",whiteSpace:"pre-wrap"},children:c})]})]})}function hc({label:n,cmd:t,color:a}){const[r,l]=T.useState(!1);return t?h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:10,padding:"10px 14px",border:"1px solid rgba(255,255,255,0.07)"},children:[h.jsx("p",{style:{fontSize:"0.65rem",fontWeight:600,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:5},children:n}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[h.jsx("code",{style:{flex:1,fontSize:"0.75rem",fontFamily:"monospace",color:a||"#a78bfa",wordBreak:"break-all"},children:t}),h.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t),l(!0),setTimeout(()=>l(!1),2e3)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"0.65rem",flexShrink:0},children:r?"":"Copy"})]})]}):null}function OR({onBack:n,audioMuted:t,toggleMute:a,analyserRef:r,quickBuild:l}){const[c,u]=T.useState(""),[p,m]=T.useState("html"),[g,y]=T.useState("none"),[x,b]=T.useState({read:!0,write:!0,delete:!1,admin:!1}),[S,_]=T.useState("openrouter"),[j,R]=T.useState("deepseek/deepseek-chat-v3-0324"),[A,C]=T.useState(""),[k,L]=T.useState(""),[V,Y]=T.useState(""),[F,q]=T.useState(!1),[te,he]=T.useState(""),[ke,ye]=T.useState(!1),[ot,vt]=T.useState(!1),[Ie,P]=T.useState(!1),[K,J]=T.useState([]),[ge,ve]=T.useState([]),[O,H]=T.useState(""),[X,Z]=T.useState({}),[de,Q]=T.useState("preview"),[le,St]=T.useState(0),[st,be]=T.useState("Building your project..."),[se,Ke]=T.useState(!1),[Jt,Lt]=T.useState({files:0,cost:0}),[ht,Ze]=T.useState("idle"),[Zt,ca]=T.useState("build"),[an,sn]=T.useState(null),[Ln,Ai]=T.useState(""),[Wa,Ut]=T.useState(()=>{try{return JSON.parse(localStorage.getItem("vibe_saved_plans")||"[]")}catch{return[]}}),[ua,Ei]=T.useState(()=>{try{return JSON.parse(localStorage.getItem("vibe_builds_history")||"[]")}catch{return[]}}),[Ci,Yn]=T.useState(!1),[Ya,Ri]=T.useState(!1),Kn=T.useRef(null),da=T.useRef(0),Xn=T.useRef(0),jt=T.useRef([]),ce=T.useRef([]),Ee=T.useRef({}),Ce=T.useRef("idle"),Ge=T.useRef(!1),ft=T.useRef(0);T.useEffect(()=>{const B=Object.keys(X).length;B>0&&ft.current===0&&Q("code"),ft.current=B},[X]),T.useEffect(()=>{Ee.current=X},[X]),T.useEffect(()=>{Ce.current=ht},[ht]),T.useEffect(()=>{Ge.current=Ie},[Ie]),T.useEffect(()=>{if(!l)return;const B="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",ee=`Build a beautiful landing page for "${l.title}"  ${l.hook}

Include:
- Hero section: app name "${l.title}", catchy tagline, CTA button
- Features section: 3-4 key benefits with inline SVG icons  
- Pricing section: Free ($0), Pro ($19/mo), Enterprise ($99/mo) tiers with feature lists
- Footer with links
Use modern CSS: gradient backgrounds, glassmorphism cards, smooth hover effects. Self-contained single HTML file.`;u(ee),_("groq"),Y(B),R("llama-3.3-70b-versatile"),Ri(!0)},[l]);const pt=T.useRef(!1);T.useEffect(()=>{if(!Ya||pt.current)return;pt.current=!0;const B=setTimeout(()=>fa(),200);return()=>clearTimeout(B)},[Ya]),T.useEffect(()=>{const B=localStorage.getItem(`vibe_key_${S}`);B&&Y(B);const ee=localStorage.getItem(`vibe_custom_model_${S}`),ne=localStorage.getItem(`vibe_model_${S}`);ee?C(ee):ne&&Ws.find(Se=>Se.id===S)?.models.find(Se=>Se.id===ne)&&R(ne)},[S]),T.useEffect(()=>{try{const B=JSON.parse(localStorage.getItem("vibe_builds_history")||"[]");if(B.length>0&&Object.keys(X).length===0){const ee=B[0];Z(ee.files||{}),u(ee.prompt||""),ee.language&&m(ee.language)}}catch{}},[]),T.useEffect(()=>{A.trim()?(localStorage.setItem(`vibe_custom_model_${S}`,A.trim()),localStorage.removeItem(`vibe_model_${S}`)):j&&(localStorage.setItem(`vibe_model_${S}`,j),localStorage.removeItem(`vibe_custom_model_${S}`))},[j,A,S]);const _e=T.useCallback((B,ee="active",ne=null)=>{const Oe=++da.current;return J(Se=>[...Se,{id:Oe,text:B,status:ee,thinking:ne}]),be(B),Oe},[]),Ct=T.useCallback(B=>{J(ee=>ee.map(ne=>ne.id===B?{...ne,status:"done"}:ne))},[]),Ht=T.useCallback((B,ee)=>{const ne=A.trim()||j;St(Oe=>Oe+kR(B,ee,S,ne))},[S,j,A]),Ka=T.useCallback(()=>Kn.current?.abort(),[]),ha=T.useCallback(()=>{Kn.current?.abort(),Z({}),J([]),St(0),ve([]),H(""),sn(null),Ai(""),Ke(!1),Ze("idle"),Ce.current="idle",P(!1),Ge.current=!1,jt.current=[],ce.current=[]},[]),Eo=T.useCallback(async B=>{if(!B.trim()||Ge.current)return;const ee=new AbortController;Kn.current=ee,P(!0),Ge.current=!0,Ze("updating"),Ce.current="updating";const ne=_e(`Applying: "${B.slice(0,60)}${B.length>60?"":""}"...`),Oe={...Ee.current},Se=Object.entries(Oe).map(([De,Xe])=>`### ${De}
\`\`\`
${(Xe||"").slice(0,3e3)}
\`\`\``).join(`

`),lt=`Apply this change to the web project: "${B}"

${Se}

Return ONLY JSON: {"updates": {"filename": "complete updated file content"}}
Only include files that need changing.`,mt="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",qt="groq",$e="llama-3.3-70b-versatile",xe=void 0,Fe=mt;try{const{content:De,thinking:Xe,inputTokens:bt,outputTokens:Ye}=await Zr({providerId:qt,model:$e,apiKey:Fe,messages:[{role:"user",content:lt}],signal:ee.signal,customEndpoint:xe});Ht(bt,Ye),Ct(ne),Xe&&J(Ve=>Ve.map(gt=>gt.id===ne?{...gt,thinking:Xe}:gt));const en={...Oe},je=De.match(/\{[\s\S]*\}/);if(je){const Ve=JSON.parse(je[0]),gt=Ve.updates||Ve;Object.entries(gt).forEach(([ct,Rt])=>{en[ct]=typeof Rt=="string"?Rt:JSON.stringify(Rt,null,2)}),Z(en),_e(`Applied: ${Object.keys(gt).join(", ")}`,"done")}ce.current.push({role:"user",content:lt},{role:"assistant",content:De})}catch(De){De.name!=="AbortError"&&_e(De.message||"Error applying update","error")}finally{P(!1),Ge.current=!1,Ze("done"),Ce.current="done"}},[S,V,k,j,A,_e,Ct,Ht]),Co=T.useCallback(()=>{if(!O.trim())return;const B=O.trim();if(H(""),Ce.current==="done"||Ce.current==="idle"){Eo(B);return}const ne={id:++Xn.current,text:B,status:"queued"};ve(Oe=>[...Oe,ne]),jt.current.push(B)},[O,Eo]),fa=T.useCallback(async()=>{if(!c.trim()||V.trim()===""&&S!=="custom"||Ie)return;localStorage.setItem(`vibe_key_${S}`,V);const B=A.trim()||j;let ee=null;const ne=($e,xe)=>{const Fe=`Rate limited  retrying in ${$e}s (attempt ${xe}/3)`;ee?J(De=>De.map(Xe=>Xe.id===ee?{...Xe,text:Fe}:Xe)):ee=_e(Fe,"active")};P(!0),Z({}),J([]),St(0),ve([]),sn(null),Ai(""),Ze("planning"),jt.current=[],ce.current=[];const Oe=new AbortController;Kn.current=Oe;const Se=Ys.find($e=>$e.id===p),lt=Ks.find($e=>$e.id===g),mt=Zt==="plan",qt=mt?`You are a senior ${Se?.label} architect. Think deeply before generating code.
Language: ${Se?.label} | Database: ${lt?.label||"None"}
${g!=="none"?`DB Permissions: read=${x.read} write=${x.write} delete=${x.delete} admin=${x.admin}`:""}
First plan thoroughly: consider architecture, edge cases, performance, security, and UX.
Wrap ALL code in proper \`\`\`language ... \`\`\` blocks.`:`You are an expert ${Se?.label} developer. Generate complete, production-ready code fast.
Language: ${Se?.label} | Database: ${lt?.label||"None"}
${g!=="none"?`DB Permissions: read=${x.read} write=${x.write} delete=${x.delete} admin=${x.admin}`:""}
Rules: Wrap ALL code in proper \`\`\`language ... \`\`\` blocks. Generate complete files, not fragments.`;try{const $e=_e(mt?"Deep planning architecture & structure...":"Analyzing prompt & planning structure..."),xe=mt?`Analyze this project request deeply: "${c}"

Think through: architecture, components, data flow, edge cases, security, and UX.
Return a JSON plan:
{"files": [{"name": "...", "desc": "..."}], "summary": "...", "architecture": "brief arch notes", "considerations": ["edge case 1", "..."]}
3-10 files. Be thorough.`:`Build this: "${c}"

Return ONLY a JSON plan:
{"files": [{"name": "index.html", "desc": "Main HTML"}, ...], "summary": "brief description"}
3-8 files max. Be practical.`,Fe=[{role:"system",content:qt},{role:"user",content:xe}],{content:De,thinking:Xe,inputTokens:bt,outputTokens:Ye}=await Zr({providerId:S,model:B,apiKey:V,messages:Fe,signal:Oe.signal,customEndpoint:k,onRetry:ne});ee&&(Ct(ee),ee=null),Ht(bt,Ye);const en=[...Fe,{role:"assistant",content:De}];Ct($e),Xe&&J(ct=>ct.map(Rt=>Rt.id===$e?{...Rt,thinking:Xe}:Rt));let je={files:[]};try{const ct=De.match(/\{[\s\S]*\}/);ct&&(je=JSON.parse(ct[0]))}catch{}je.files?.length||(je.files=jR(p,g)),_e(`Plan ready: ${je.files.length} files  ${je.files.map(ct=>ct.name).join(", ")}`,"done"),je.summary&&_e(je.summary,"done"),je.architecture&&_e(`Architecture: ${je.architecture}`,"done"),je.considerations?.length&&_e(`Considerations: ${je.considerations.slice(0,3).join("; ")}`,"done");const Ve=[`# Plan: ${c}`,"",je.summary?`## Summary
${je.summary}`:"",je.architecture?`
## Architecture
${je.architecture}`:"",je.considerations?.length?`
## Considerations
${je.considerations.map(ct=>`- ${ct}`).join(`
`)}`:"",`
## Files
${je.files.map(ct=>`- **${ct.name}**  ${ct.desc||""}`).join(`
`)}`].filter(Boolean).join(`
`),gt={id:Date.now(),prompt:c,summary:je.summary,architecture:je.architecture,considerations:je.considerations,files:je.files,content:Ve,createdAt:new Date().toISOString()};if(Ut(ct=>{const Rt=[gt,...ct].slice(0,20);return localStorage.setItem("vibe_saved_plans",JSON.stringify(Rt)),Rt}),mt){Z({"PLAN.md":Ve}),Q("code"),Ze("idle"),P(!1),sn({plan:je,planMd:Ve,planConversation:en,systemMsg:qt,effectiveModel:B}),_e('Plan ready  review above and click "Build it" when ready',"done");return}ce.current=en,Ze("building"),await Ro({plan:je,systemMsg:qt,effectiveModel:B,db:lt,controller:Oe,onRetry:ne})}catch($e){$e.name==="AbortError"?_e("Stopped by user","done"):_e($e.message,"error"),Ze("idle"),Ce.current="idle"}finally{P(!1),Ge.current=!1}},[c,p,g,x,S,j,A,k,V,Ie,Zt,_e,Ct,Ht]),Oi=T.useCallback(async B=>{if(!an||Ie)return;const{plan:ee,planConversation:ne,systemMsg:Oe,effectiveModel:Se}=an;localStorage.setItem(`vibe_key_${S}`,V);let lt=null;const mt=(xe,Fe)=>{const De=`Rate limited  retrying in ${xe}s (attempt ${Fe}/3)`;lt?J(Xe=>Xe.map(bt=>bt.id===lt?{...bt,text:De}:bt)):lt=_e(De,"active")};P(!0),sn(null),Ai(""),Ze("building");const qt=new AbortController;Kn.current=qt;const $e=Ks.find(xe=>xe.id===g);ce.current=B.trim()?[...ne,{role:"user",content:`Before you start building, note these changes/additions: ${B}`},{role:"assistant",content:"Understood. I will incorporate those changes as I build the files."}]:ne;try{B.trim()&&_e(`Incorporating feedback: "${B.slice(0,80)}${B.length>80?"":""}"`,"done"),await Ro({plan:ee,systemMsg:Oe,effectiveModel:Se,db:$e,controller:qt,onRetry:mt})}catch(xe){xe.name==="AbortError"?_e("Stopped by user","done"):_e(xe.message,"error"),Ze("idle"),Ce.current="idle"}finally{P(!1),Ge.current=!1}},[an,Ie,S,V,g,_e,Ct,Ht]),Ro=T.useCallback(async({plan:B,systemMsg:ee,effectiveModel:ne,db:Oe,controller:Se,onRetry:lt})=>{const mt={},qt=B.files.map((xe,Fe)=>`${Fe+1}. ${xe.name}${xe.desc?`  ${xe.desc}`:""}`).join(`
`);if(await Promise.all(B.files.map(async xe=>{if(Se.signal.aborted)return;const Fe=_e(`Writing ${xe.name}...`);let De=null;const Xe=(gt,ct)=>{const Rt=`Rate limited  retrying in ${gt}s (attempt ${ct}/3)`;De?J(Oo=>Oo.map(or=>or.id===De?{...or,text:Rt}:or)):De=_e(Rt,"active")},bt=`Generate the complete file: **${xe.name}**
${xe.desc?`Purpose: ${xe.desc}`:""}
All files in this project:
${qt}
Return ONLY the code in a fenced code block. Nothing else.`,{content:Ye,thinking:en,inputTokens:je,outputTokens:Ve}=await Zr({providerId:S,model:ne,apiKey:V,messages:[...ce.current,{role:"user",content:bt}],signal:Se.signal,customEndpoint:k,onRetry:Xe});De&&(Ct(De),De=null),mt[xe.name]=qv(Ye,xe.name),Ht(je,Ve),Ct(Fe),en&&J(gt=>gt.map(ct=>ct.id===Fe?{...ct,thinking:en}:ct)),Z(gt=>({...gt,[xe.name]:mt[xe.name]}))})),g!=="none"&&Oe&&!Se.signal.aborted){const xe=_e(`Generating ${Oe?.label} schema...`),Fe=`Generate a complete ${Oe?.label} database schema for: "${c}"
Include: tables with types, FK relations, indexes, sample seed data.
${x.admin?"Include admin user setup.":""}
Return ONLY the schema code in a code block.`,{content:De,thinking:Xe,inputTokens:bt,outputTokens:Ye}=await Zr({providerId:S,model:ne,apiKey:V,messages:[{role:"system",content:ee},{role:"user",content:Fe}],signal:Se.signal,customEndpoint:k,onRetry:_onRetry}),en=g==="mongodb"?"schema.js":"schema.sql";mt[`database/${en}`]=qv(De,en),Ht(bt,Ye),Ct(xe),Xe&&J(je=>je.map(Ve=>Ve.id===xe?{...Ve,thinking:Xe}:Ve)),Z({...mt})}_e("Build complete!","done"),Ze("done"),Ce.current="done",P(!1),Ge.current=!1,Q("preview"),Lt({files:Object.keys(mt).length,cost:0}),Ke(!0);try{const xe=K.map(({id:Xe,text:bt,status:Ye})=>({id:Xe,text:bt,status:Ye})),Fe={id:Date.now(),prompt:c,language:p,files:mt,activityLog:xe,conversation:ce.current.slice(-6),createdAt:new Date().toISOString()},De=JSON.parse(localStorage.getItem("vibe_builds_history")||"[]");localStorage.setItem("vibe_builds_history",JSON.stringify([Fe,...De].slice(0,10))),Ei([Fe,...De].slice(0,10)),_e("Build saved locally  reload anytime to restore","done")}catch{}const $e=[...jt.current];if(jt.current=[],$e.length>0&&!Se.signal.aborted){Ze("updating"),ve(xe=>xe.map(Fe=>({...Fe,status:"processing"})));for(const xe of $e){if(Se.signal.aborted)break;const Fe=_e(`Applying: "${xe.slice(0,60)}${xe.length>60?"":""}"...`),De=`The user wants this change to the existing project: "${xe}"
Current files: ${Object.keys(mt).join(", ")}
Return ONLY a JSON object with the files that need updating:
{"updates": {"filename": "full updated file content", ...}}`,{content:Xe,thinking:bt,inputTokens:Ye,outputTokens:en}=await Zr({providerId:S,model:ne,apiKey:V,messages:[...ce.current,{role:"user",content:De}],signal:Se.signal,customEndpoint:k});Ht(Ye,en),Ct(Fe),bt&&J(je=>je.map(Ve=>Ve.id===Fe?{...Ve,thinking:bt}:Ve));try{const je=Xe.match(/\{[\s\S]*\}/);if(je){const Ve=JSON.parse(je[0]),gt=Ve.updates||Ve;Object.entries(gt).forEach(([ct,Rt])=>{mt[ct]=typeof Rt=="string"?Rt:JSON.stringify(Rt,null,2)}),Z({...mt}),_e(`Applied: ${Object.keys(gt).join(", ")}`,"done")}}catch{_e("Changes applied","done")}ve(je=>je.map(Ve=>Ve.text===xe?{...Ve,status:"sent"}:Ve)),ce.current.push({role:"user",content:De},{role:"assistant",content:Xe})}Ze("done")}try{const{data:{user:xe}}=await Ne.auth.getUser();await Ne.from("vibe_builds").insert({user_id:xe?.id||null,prompt:c,language:p,database:g,files:mt,cost:le,model:ne,provider:S})}catch{}},[S,V,k,g,x,c,p,le,_e,Ct,Ht,Ei]),ir=T.useCallback(async()=>{if(!Object.keys(X).length)return;const B=(await rx(async()=>{const{default:$e}=await import("./chunk-D7KnG0-e.js").then(xe=>xe.j);return{default:$e}},[])).default,ee=new B,ne=Ys.find($e=>$e.id===p),Oe=Ks.find($e=>$e.id===g);Object.entries(X).forEach(([$e,xe])=>ee.file($e,xe));let Se=`# Generated Project

> Built with VibeBuild  VibeNow

**Prompt:** ${c}

## Run Locally

`;Oe?.docker&&(Se+=`\`\`\`bash
${Oe.docker}
${Oe.cmd||""}
\`\`\`

`),ne?.setup&&(Se+=`\`\`\`bash
${ne.setup}
\`\`\`

`),Se+=`\`\`\`bash
${ne?.run}
\`\`\`
`,ee.file("README.md",Se);const lt=await ee.generateAsync({type:"blob"}),mt=URL.createObjectURL(lt),qt=document.createElement("a");qt.href=mt,qt.download="vibeproject.zip",qt.click(),URL.revokeObjectURL(mt)},[X,p,g,c]),Di=Object.keys(X).length>0,ar=T.useMemo(()=>{const B=X["index.html"]||"";if(!B)return"";let ee=B;return ee=ee.replace(/<link\b[^>]*\bhref=["']([^"'#?]+\.css)["'][^>]*>/gi,(ne,Oe)=>{const Se=Oe.replace(/^\.\//,""),lt=X[Se]||X[`./${Se}`];return lt?`<style>
${lt}
</style>`:ne}),ee=ee.replace(/<script\b[^>]*\bsrc=["']([^"']+\.js)["'][^>]*><\/script>/gi,(ne,Oe)=>{const Se=Oe.replace(/^\.\//,""),lt=X[Se]||X[`./${Se}`];return lt?`<script>
${lt}
<\/script>`:ne}),ee.includes("<base")||(ee.match(/<head[^>]*>/i)?ee=ee.replace(/<head[^>]*>/i,ne=>ne+'<base target="_blank">'):ee='<base target="_blank">'+ee),ee},[X]),sr=Ys.find(B=>B.id===p)?.canPreview&&ar,Un=Ws.find(B=>B.id===S),rr=A.trim()||j,pa=Un?.models.find(B=>B.id===rr);return h.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:800,background:"rgba(4,4,4,0.97)",backdropFilter:"blur(20px)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[h.jsxs("div",{style:{height:52,minHeight:52,display:"flex",alignItems:"center",gap:12,padding:"0 18px",background:"rgba(8,8,8,0.95)",backdropFilter:"blur(12px)",borderBottom:"1px solid var(--border, rgba(255,255,255,0.08))",zIndex:20,flexShrink:0},children:[h.jsx("button",{onClick:n,style:{background:"none",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:"0.78rem",display:"flex",alignItems:"center",gap:4},children:" Close"}),h.jsx("div",{style:{width:1,height:18,background:"var(--border)"}}),h.jsxs("span",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"1rem",letterSpacing:"-0.02em"},children:[h.jsx("em",{style:{fontStyle:"italic",background:"linear-gradient(135deg,var(--accent-1),var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"vibe"}),h.jsx("span",{children:"build"})]}),Di&&!Ie&&h.jsx("button",{onClick:ha,style:{display:"flex",alignItems:"center",gap:5,padding:"4px 12px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border)",borderRadius:100,fontSize:"0.72rem",cursor:"pointer",color:"var(--muted)",fontFamily:"inherit",transition:"all 0.15s"},children:"+ New Build"}),h.jsx("div",{style:{flex:1}}),h.jsxs("button",{onClick:()=>vt(B=>!B),style:{display:"flex",alignItems:"center",gap:5,padding:"4px 12px",background:ot?"rgba(167,139,250,0.12)":"rgba(255,255,255,0.04)",border:`1px solid ${ot?"rgba(167,139,250,0.35)":"var(--border)"}`,borderRadius:100,fontSize:"0.72rem",cursor:"pointer",color:"var(--text)",transition:"all 0.2s"},children:[h.jsx(bC,{size:11}),Un?.name,"  ",A.trim()||pa?.label||rr.split("/").pop()]}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,padding:"4px 10px",background:"rgba(255,255,255,0.04)",border:"1px solid var(--border)",borderRadius:100,fontSize:"0.72rem",color:le>.005?"#fbbf24":"var(--muted)"},children:[h.jsx(Bc,{size:11})," $",le.toFixed(4)]}),a&&h.jsx("button",{onClick:a,title:t?"Unmute":"Mute",style:{display:"flex",alignItems:"center",padding:"4px 8px",background:t?"rgba(248,113,113,0.1)":"rgba(255,255,255,0.04)",border:`1px solid ${t?"rgba(248,113,113,0.3)":"var(--border)"}`,borderRadius:100,cursor:"pointer",color:t?"#f87171":"var(--muted)",fontSize:"0.85rem"},children:t?"":""}),Di&&h.jsxs("button",{onClick:ir,style:{display:"flex",alignItems:"center",gap:5,padding:"4px 12px",background:"rgba(167,139,250,0.12)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:100,fontSize:"0.72rem",cursor:"pointer",color:"#a78bfa",fontWeight:500},children:[h.jsx(If,{size:11})," ZIP"]})]}),h.jsx(cn,{children:ot&&h.jsxs(Re.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},style:{position:"absolute",top:56,right:16,zIndex:50,background:"rgba(12,12,12,0.98)",backdropFilter:"blur(20px)",border:"1px solid var(--border)",borderRadius:16,padding:20,width:420,boxShadow:"0 20px 60px rgba(0,0,0,0.6)",maxHeight:"calc(100vh - 80px)",overflowY:"auto"},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h.jsx("span",{style:{fontWeight:700,fontSize:"0.875rem"},children:"Build Settings"}),h.jsx("button",{onClick:()=>vt(!1),style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)"},children:h.jsx(Nc,{size:14})})]}),h.jsxs("div",{style:{marginBottom:10},children:[h.jsx("label",{style:La,children:"Provider"}),h.jsx("select",{value:S,onChange:B=>{_(B.target.value),R(Ws.find(ee=>ee.id===B.target.value)?.models[0]?.id||""),C(""),he(""),ye(!1)},style:{width:"100%",boxSizing:"border-box",...Is},children:Ws.map(B=>h.jsxs("option",{value:B.id,children:[B.name,B.badge?`  ${B.badge}`:""]},B.id))})]}),S!=="custom"&&Un?.models.length>0&&h.jsxs("div",{style:{marginBottom:10},children:[h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[h.jsx("label",{style:La,children:"Model"}),h.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,cursor:"pointer",fontSize:"0.7rem",color:F?"#4ade80":"var(--muted)",userSelect:"none"},children:[h.jsx("input",{type:"checkbox",checked:F,onChange:B=>q(B.target.checked),style:{accentColor:"#4ade80",width:12,height:12,cursor:"pointer"}}),"Free only"]})]}),h.jsxs("div",{style:{position:"relative"},children:[h.jsx("input",{value:te,onChange:B=>{he(B.target.value),ye(!0)},onFocus:()=>ye(!0),placeholder:"Search models...",style:{...Is,width:"100%",boxSizing:"border-box",paddingRight:28}}),h.jsx("span",{style:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",color:"var(--muted)",fontSize:10,pointerEvents:"none"},children:""}),ke&&h.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,zIndex:200,background:"rgba(16,16,20,0.98)",backdropFilter:"blur(12px)",border:"1px solid var(--border)",borderRadius:10,marginTop:4,maxHeight:260,overflowY:"auto",boxShadow:"0 12px 40px rgba(0,0,0,0.7)"},children:(()=>{const B=te.toLowerCase(),ee=(F?Un.models.filter(ne=>ne.costIn===0&&ne.costOut===0):Un.models).filter(ne=>!B||ne.label.toLowerCase().includes(B)||ne.id.toLowerCase().includes(B));return ee.length?ee.map(ne=>{const Oe=ne.costIn===0&&ne.costOut===0,Se=(A||j)===ne.id;return h.jsxs("div",{onClick:()=>{R(ne.id),C(""),he(""),ye(!1)},style:{padding:"8px 12px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",background:Se?"rgba(167,139,250,0.12)":"transparent",borderLeft:Se?"2px solid #a78bfa":"2px solid transparent",transition:"background 0.1s"},onMouseEnter:lt=>lt.currentTarget.style.background=Se?"rgba(167,139,250,0.18)":"rgba(255,255,255,0.04)",onMouseLeave:lt=>lt.currentTarget.style.background=Se?"rgba(167,139,250,0.12)":"transparent",children:[h.jsxs("div",{children:[h.jsx("div",{style:{fontSize:"0.78rem",fontWeight:Se?600:400,color:Se?"#e2e8f0":"var(--text)"},children:ne.label}),h.jsx("div",{style:{fontSize:"0.62rem",color:"var(--muted)",marginTop:1},children:ne.id})]}),h.jsx("div",{style:{textAlign:"right",flexShrink:0,marginLeft:8},children:Oe?h.jsx("span",{style:{fontSize:"0.65rem",fontWeight:700,color:"#4ade80",background:"rgba(74,222,128,0.12)",border:"1px solid rgba(74,222,128,0.3)",borderRadius:4,padding:"1px 5px"},children:"FREE"}):h.jsxs("span",{style:{fontSize:"0.62rem",color:"var(--muted)"},children:["$",ne.costIn,"/M in"]})})]},ne.id)}):h.jsx("div",{style:{padding:"10px 12px",color:"var(--muted)",fontSize:"0.75rem"},children:"No models found"})})()})]}),(A||j)&&h.jsxs("div",{style:{marginTop:5,fontSize:"0.65rem",color:"var(--muted)"},children:["Selected: ",h.jsx("span",{style:{color:"#a78bfa"},children:Un.models.find(B=>B.id===(A||j))?.label||A||j})]})]}),h.jsxs("div",{style:{marginBottom:10},children:[h.jsxs("label",{style:La,children:["Custom Model ID ",h.jsx("span",{style:{color:"var(--muted)",fontWeight:400},children:"(optional override)"})]}),h.jsx("input",{value:A,onChange:B=>C(B.target.value),placeholder:S==="custom"?"e.g. llama3 or my-model":"Override: type any model ID",style:{...Is,width:"100%",boxSizing:"border-box"}}),h.jsx("p",{style:{fontSize:"0.62rem",color:"var(--muted)",marginTop:3},children:"Leave blank to use dropdown. Type any model ID for latest/custom models."})]}),S==="custom"&&h.jsxs("div",{style:{marginBottom:10},children:[h.jsx("label",{style:La,children:"Endpoint URL"}),h.jsx("input",{value:k,onChange:B=>L(B.target.value),placeholder:"http://localhost:11434/v1/chat/completions",style:{...Is,width:"100%",boxSizing:"border-box"}}),h.jsx("p",{style:{fontSize:"0.65rem",color:"var(--muted)",marginTop:4},children:"OpenAI-compatible endpoint (Ollama, LM Studio, vLLM, etc.)"})]}),h.jsxs("div",{style:{marginBottom:12},children:[h.jsxs("label",{style:La,children:["API Key ",S==="custom"?"(optional)":""]}),h.jsx("input",{type:"password",value:V,onChange:B=>Y(B.target.value),placeholder:S==="custom"?"Leave blank for local models":`Your ${Un?.name} API key`,style:{...Is,width:"100%",boxSizing:"border-box"}}),h.jsx("p",{style:{fontSize:"0.65rem",color:"var(--muted)",marginTop:4},children:"Saved locally in your browser only. Never sent to our servers."})]}),h.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:10,marginBottom:12},children:[h.jsx(Gv,{label:"Language",value:p,onChange:m,children:Ys.map(B=>h.jsx("option",{value:B.id,children:B.label},B.id))}),h.jsx(Gv,{label:"Database",value:g,onChange:y,children:Ks.map(B=>h.jsx("option",{value:B.id,children:B.label},B.id))})]}),g!=="none"&&h.jsxs("div",{children:[h.jsx("label",{style:La,children:"DB Permissions"}),h.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["read","write","delete","admin"].map(B=>h.jsx("button",{onClick:()=>b(ee=>({...ee,[B]:!ee[B]})),style:{padding:"3px 10px",borderRadius:100,fontSize:"0.68rem",fontWeight:500,cursor:"pointer",background:x[B]?"rgba(167,139,250,0.15)":"rgba(255,255,255,0.04)",border:`1px solid ${x[B]?"rgba(167,139,250,0.4)":"var(--border)"}`,color:x[B]?"#c4b5fd":"var(--muted)",textTransform:"capitalize"},children:B},B))})]}),pa&&!A.trim()&&h.jsxs("p",{style:{fontSize:"0.65rem",color:"var(--muted)",marginTop:12,textAlign:"right"},children:["~$",pa.costIn,"/M in  $",pa.costOut,"/M out tokens"]})]})}),h.jsx(cn,{children:se&&h.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{position:"fixed",inset:0,zIndex:900,background:"rgba(0,0,0,0.65)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",padding:20},onClick:()=>Ke(!1),children:h.jsxs(Re.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95},transition:{type:"spring",stiffness:320,damping:26},onClick:B=>B.stopPropagation(),style:{background:"rgba(10,10,10,0.99)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:20,padding:"28px 24px",maxWidth:360,width:"100%",boxShadow:"0 0 60px rgba(167,139,250,0.15), 0 20px 40px rgba(0,0,0,0.6)",textAlign:"center"},children:[h.jsx("div",{style:{fontSize:"2.5rem",marginBottom:10},children:""}),h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"1.4rem",margin:"0 0 6px",background:"linear-gradient(135deg, var(--accent-1), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Build Complete!"}),h.jsxs("p",{style:{color:"var(--muted)",fontSize:"0.85rem",margin:"0 0 6px"},children:[Object.keys(X).length," file",Object.keys(X).length!==1?"s":""," generated",le>0?`  $${le.toFixed(4)} spent`:"  free"]}),h.jsx("p",{style:{color:"rgba(167,139,250,0.5)",fontSize:"0.68rem",margin:"0 0 16px"},children:'Saved locally in your browser. Use "Builds" tab to restore anytime.'}),h.jsxs("div",{style:{display:"flex",gap:8},children:[h.jsx("button",{onClick:ir,style:{flex:1,padding:"9px 0",borderRadius:10,background:"linear-gradient(135deg, var(--accent-1), var(--accent-2))",border:"none",color:"#fff",fontWeight:700,fontSize:"0.85rem",cursor:"pointer"},children:" Download ZIP"}),h.jsx("button",{onClick:()=>Ke(!1),style:{flex:1,padding:"9px 0",borderRadius:10,background:"rgba(255,255,255,0.06)",border:"1px solid var(--border)",color:"var(--text)",fontWeight:600,fontSize:"0.85rem",cursor:"pointer"},children:"View Code"})]})]})})}),h.jsxs("div",{style:{flex:1,display:"flex",overflow:"hidden",minHeight:0},children:[h.jsx(ER,{log:K,queue:ge,queueInput:O,setQueueInput:H,onQueue:Co,onStop:Ka,isGenerating:Ie,buildPhase:ht}),h.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",minWidth:0},children:[!Di&&!Ie&&!an&&h.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid var(--border)",flexShrink:0},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[h.jsx("span",{style:{fontSize:"0.65rem",color:"var(--muted)",fontWeight:500},children:"Mode:"}),h.jsx("div",{style:{display:"flex",background:"rgba(255,255,255,0.05)",border:"1px solid var(--border)",borderRadius:100,padding:3,gap:2},children:[{id:"build",label:"Build",desc:"Fast, direct generation"},{id:"plan",label:"Plan",desc:"Deep thinking, thorough architecture"}].map(B=>h.jsx("button",{onClick:()=>ca(B.id),title:B.desc,style:{padding:"4px 14px",borderRadius:100,fontSize:"0.72rem",fontWeight:600,cursor:"pointer",fontFamily:"inherit",transition:"all 0.15s",border:"none",background:Zt===B.id?B.id==="plan"?"rgba(96,165,250,0.2)":"rgba(167,139,250,0.2)":"transparent",color:Zt===B.id?B.id==="plan"?"#93c5fd":"#c4b5fd":"var(--muted)",boxShadow:Zt===B.id?`0 0 0 1px ${B.id==="plan"?"rgba(96,165,250,0.3)":"rgba(167,139,250,0.3)"}`:"none"},children:B.label},B.id))}),h.jsx("span",{style:{fontSize:"0.62rem",color:"var(--muted)",fontStyle:"italic"},children:Zt==="plan"?"Deep analysis, architecture notes, edge cases":"Fast generation, straight to code"})]}),h.jsxs("div",{style:{display:"flex",gap:10,maxWidth:860},children:[h.jsx("textarea",{value:c,onChange:B=>u(B.target.value),onKeyDown:B=>{(B.metaKey||B.ctrlKey)&&B.key==="Enter"&&fa()},placeholder:"Describe what you want to build (+Enter to build)",rows:3,style:{flex:1,background:"rgba(255,255,255,0.04)",border:"1px solid var(--border)",borderRadius:12,padding:"10px 14px",fontSize:"0.875rem",color:"var(--text)",outline:"none",fontFamily:"inherit",resize:"vertical",lineHeight:1.5}}),h.jsxs("button",{onClick:fa,disabled:!c.trim()||!V.trim()||Ie,style:{alignSelf:"flex-end",display:"flex",alignItems:"center",gap:6,padding:"10px 18px",background:c.trim()&&V.trim()?"linear-gradient(135deg,#7c3aed,#ec4899)":"rgba(255,255,255,0.04)",border:"none",borderRadius:12,cursor:c.trim()&&V.trim()?"pointer":"not-allowed",color:"white",fontWeight:600,fontSize:"0.85rem",fontFamily:"inherit",opacity:c.trim()&&V.trim()?1:.45,transition:"all 0.2s"},children:[h.jsx(Nv,{size:14})," ",Zt==="plan"?"Plan":"Build"]})]}),!V&&h.jsx("p",{style:{fontSize:"0.72rem",color:"#fbbf24",marginTop:8},children:"Enter your API key in Settings"})]}),an&&!Ie&&h.jsxs("div",{style:{padding:"14px 20px",borderBottom:"1px solid var(--border)",flexShrink:0,background:"rgba(96,165,250,0.04)",borderTop:"2px solid rgba(96,165,250,0.2)"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:10},children:[h.jsx("div",{style:{width:7,height:7,borderRadius:50,background:"#60a5fa"}}),h.jsxs("span",{style:{fontSize:"0.78rem",fontWeight:700,color:"#93c5fd"},children:["Plan ready  ",an.plan.files.length," files"]}),h.jsx("span",{style:{fontSize:"0.72rem",color:"var(--muted)"},children:Ci?"Editing plan  save changes":"Review PLAN.md above, add changes below, then build"}),h.jsx("button",{onClick:()=>Yn(B=>!B),style:{marginLeft:"auto",background:"none",border:"1px solid rgba(255,255,255,0.1)",borderRadius:6,cursor:"pointer",color:"var(--muted)",fontSize:"0.68rem",padding:"2px 8px"},children:Ci?"Close editor":"Edit plan"}),h.jsx("button",{onClick:()=>{sn(null),Z({}),Ze("idle"),Yn(!1)},style:{background:"none",border:"none",cursor:"pointer",color:"var(--muted)",fontSize:"0.7rem",padding:"2px 6px"},children:"Discard"})]}),Ci&&h.jsx("div",{style:{marginBottom:10},children:h.jsx("textarea",{value:an.planMd,onChange:B=>{const ee=B.target.value;sn(ne=>({...ne,planMd:ee})),Z(ne=>({...ne,"PLAN.md":ee}))},rows:12,style:{width:"100%",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(96,165,250,0.3)",borderRadius:10,padding:"10px 14px",fontSize:"0.78rem",color:"#e2e8f0",outline:"none",fontFamily:"monospace",resize:"vertical",lineHeight:1.6,boxSizing:"border-box"}})}),h.jsxs("div",{style:{display:"flex",gap:10,maxWidth:860},children:[h.jsx("textarea",{value:Ln,onChange:B=>Ai(B.target.value),onKeyDown:B=>{(B.metaKey||B.ctrlKey)&&B.key==="Enter"&&Oi(Ln)},placeholder:"Any changes to the plan? (optional  leave blank to build as-is)",rows:2,style:{flex:1,background:"rgba(255,255,255,0.04)",border:"1px solid rgba(96,165,250,0.25)",borderRadius:12,padding:"9px 14px",fontSize:"0.85rem",color:"var(--text)",outline:"none",fontFamily:"inherit",resize:"vertical",lineHeight:1.5}}),h.jsxs("button",{onClick:()=>Oi(Ln),style:{alignSelf:"flex-end",display:"flex",alignItems:"center",gap:6,padding:"10px 18px",background:"linear-gradient(135deg,#2563eb,#7c3aed)",border:"none",borderRadius:12,cursor:"pointer",color:"white",fontWeight:700,fontSize:"0.85rem",fontFamily:"inherit",transition:"all 0.2s"},children:[h.jsx(Nv,{size:14})," Build it"]})]})]}),(Di||Ie||an)&&h.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"6px 16px 0",borderBottom:"1px solid var(--border)",background:"rgba(0,0,0,0.3)",flexShrink:0},children:[[{id:"preview",icon:h.jsx(KE,{size:12}),label:"Preview"},{id:"code",icon:h.jsx(zv,{size:12}),label:"Code"},{id:"plans",icon:h.jsx(QE,{size:12}),label:"Plans",hide:Wa.length===0},{id:"builds",icon:h.jsx(zv,{size:12}),label:"Builds",hide:ua.length===0},{id:"database",icon:h.jsx(HE,{size:12}),label:"Database",hide:g==="none"}].filter(B=>!B.hide).map(B=>h.jsxs("button",{onClick:()=>Q(B.id),style:{display:"flex",alignItems:"center",gap:5,padding:"5px 12px 9px",background:"none",border:"none",borderBottom:`2px solid ${de===B.id?"#a78bfa":"transparent"}`,color:de===B.id?"#a78bfa":"var(--muted)",cursor:"pointer",fontSize:"0.78rem",fontWeight:500,fontFamily:"inherit",transition:"all 0.12s"},children:[B.icon," ",B.label]},B.id)),h.jsx("div",{style:{flex:1}})]}),h.jsxs("div",{style:{flex:1,overflow:"hidden",minHeight:0},children:[de==="preview"&&h.jsx("div",{style:{height:"100%"},children:Ie?h.jsx(AR,{label:st,analyserRef:r,muted:t,onToggleMute:a}):sr?h.jsx("iframe",{srcDoc:ar,sandbox:"allow-scripts allow-same-origin",style:{width:"100%",height:"100%",border:"none",background:"white"},title:"Preview"}):Di?h.jsx(NR,{language:p,database:g}):h.jsx(zR,{hasKey:!!V})}),de==="code"&&h.jsx(CR,{files:X}),de==="plans"&&h.jsx(DR,{plans:Wa,onUpdatePlans:B=>{Ut(B),localStorage.setItem("vibe_saved_plans",JSON.stringify(B))},onClear:()=>{Ut([]),localStorage.removeItem("vibe_saved_plans")}}),de==="builds"&&h.jsx(MR,{builds:ua,onLoad:B=>{Z(B.files||{}),u(B.prompt||""),B.language&&m(B.language),B.activityLog&&J(B.activityLog),B.conversation&&(ce.current=B.conversation),Q("preview"),Ze("done")},onClear:()=>{Ei([]),localStorage.removeItem("vibe_builds_history")}}),de==="database"&&h.jsx(RR,{database:g,language:p,files:X})]})]})]})]})}const La={display:"block",fontSize:"0.65rem",fontWeight:600,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:5},Is={background:"rgba(255,255,255,0.06)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:8,padding:"6px 10px",color:"#e2e8f0",fontSize:"0.8rem",outline:"none",fontFamily:"inherit"};function Gv({label:n,value:t,onChange:a,children:r}){return h.jsxs("div",{children:[h.jsx("label",{style:La,children:n}),h.jsx("select",{value:t,onChange:l=>a(l.target.value),style:{...Is,width:"100%"},children:r})]})}function DR({plans:n,onUpdatePlans:t,onClear:a}){const[r,l]=T.useState(n[0]?.id||null),[c,u]=T.useState(null),[p,m]=T.useState(""),[g,y]=T.useState(!1),[x,b]=T.useState(""),S=n.find(A=>A.id===r),_=A=>{const C=n.map(k=>k.id===A?{...k,prompt:p}:k);t(C),u(null)},j=()=>{b(S.content||S.summary||""),y(!0)},R=()=>{const A=n.map(C=>C.id===r?{...C,content:x}:C);t(A),y(!1)};return h.jsxs("div",{style:{display:"flex",height:"100%",overflow:"hidden"},children:[h.jsxs("div",{style:{width:200,minWidth:200,borderRight:"1px solid var(--border)",overflowY:"auto",padding:"8px 0"},children:[h.jsxs("div",{style:{padding:"6px 12px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("span",{style:{fontSize:"0.6rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)"},children:"Saved Plans"}),n.length>0&&h.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.6rem",color:"var(--muted)",padding:0},children:"Clear all"})]}),n.map(A=>h.jsxs("div",{onClick:()=>{l(A.id),y(!1)},style:{padding:"6px 12px",cursor:"pointer",borderRadius:6,margin:"1px 4px",background:r===A.id?"rgba(167,139,250,0.12)":"transparent",borderLeft:`2px solid ${r===A.id?"#a78bfa":"transparent"}`,transition:"background 0.1s"},children:[c===A.id?h.jsx("input",{value:p,onChange:C=>m(C.target.value),onKeyDown:C=>{C.key==="Enter"&&_(A.id),C.key==="Escape"&&u(null)},onBlur:()=>_(A.id),autoFocus:!0,onClick:C=>C.stopPropagation(),style:{width:"100%",background:"rgba(255,255,255,0.08)",border:"1px solid rgba(167,139,250,0.4)",borderRadius:4,padding:"2px 5px",fontSize:"0.72rem",color:"var(--text)",outline:"none",fontFamily:"inherit",boxSizing:"border-box"}}):h.jsx("p",{style:{fontSize:"0.72rem",fontWeight:600,color:r===A.id?"#c4b5fd":"var(--text)",margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},onDoubleClick:C=>{C.stopPropagation(),m(A.prompt),u(A.id)},title:"Double-click to rename",children:A.prompt}),h.jsx("p",{style:{fontSize:"0.6rem",color:"var(--muted)",margin:"2px 0 0"},children:new Date(A.createdAt).toLocaleDateString()})]},A.id))]}),h.jsx("div",{style:{flex:1,overflowY:"auto",padding:20},children:S?h.jsxs("div",{children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[h.jsx("h3",{style:{fontWeight:700,fontSize:"0.95rem",color:"var(--text)",margin:0},children:S.prompt}),h.jsx("button",{onClick:g?R:j,style:{background:"rgba(255,255,255,0.06)",border:"1px solid var(--border)",borderRadius:6,cursor:"pointer",color:"var(--muted)",fontSize:"0.68rem",padding:"3px 10px",fontFamily:"inherit"},children:g?"Save":"Edit"})]}),g?h.jsx("textarea",{value:x,onChange:A=>b(A.target.value),rows:18,style:{width:"100%",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(167,139,250,0.3)",borderRadius:10,padding:"10px 14px",fontSize:"0.78rem",color:"#e2e8f0",outline:"none",fontFamily:"monospace",resize:"vertical",lineHeight:1.6,boxSizing:"border-box"}}):h.jsxs(h.Fragment,{children:[S.summary&&h.jsx("p",{style:{fontSize:"0.8rem",color:"var(--muted)",marginBottom:16,lineHeight:1.6},children:S.summary}),S.architecture&&h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("p",{style:{fontSize:"0.65rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:6},children:"Architecture"}),h.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text)",lineHeight:1.6,background:"rgba(255,255,255,0.03)",borderRadius:8,padding:"10px 12px",border:"1px solid var(--border)"},children:S.architecture})]}),S.considerations?.length>0&&h.jsxs("div",{style:{marginBottom:16},children:[h.jsx("p",{style:{fontSize:"0.65rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:6},children:"Considerations"}),h.jsx("ul",{style:{margin:0,paddingLeft:16},children:S.considerations.map((A,C)=>h.jsx("li",{style:{fontSize:"0.78rem",color:"var(--text)",lineHeight:1.6,marginBottom:4},children:A},C))})]}),S.files?.length>0&&h.jsxs("div",{children:[h.jsxs("p",{style:{fontSize:"0.65rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:6},children:["Files (",S.files.length,")"]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:4},children:S.files.map((A,C)=>h.jsxs("div",{style:{display:"flex",gap:10,padding:"6px 10px",background:"rgba(255,255,255,0.03)",borderRadius:6,border:"1px solid var(--border)"},children:[h.jsx("span",{style:{fontSize:"0.75rem",fontFamily:"monospace",color:"#a78bfa",fontWeight:600,flexShrink:0},children:A.name}),A.desc&&h.jsx("span",{style:{fontSize:"0.72rem",color:"var(--muted)"},children:A.desc})]},C))})]})]})]}):h.jsx("p",{style:{color:"var(--muted)",fontSize:"0.8rem"},children:"Select a plan"})})]})}function MR({builds:n,onLoad:t,onClear:a}){const[r,l]=T.useState(n[0]?.id||null),c=n.find(u=>u.id===r);return h.jsxs("div",{style:{display:"flex",height:"100%",overflow:"hidden"},children:[h.jsxs("div",{style:{width:200,minWidth:200,borderRight:"1px solid var(--border)",overflowY:"auto",padding:"8px 0"},children:[h.jsxs("div",{style:{padding:"6px 12px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[h.jsx("span",{style:{fontSize:"0.6rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)"},children:"Build History"}),n.length>0&&h.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",fontSize:"0.6rem",color:"var(--muted)",padding:0},children:"Clear"})]}),h.jsx("p",{style:{padding:"0 12px 8px",fontSize:"0.58rem",color:"rgba(167,139,250,0.45)",lineHeight:1.4},children:"Saved locally in your browser only. Clearing browser data will remove these."}),n.map(u=>h.jsxs("div",{onClick:()=>l(u.id),style:{padding:"6px 12px",cursor:"pointer",borderRadius:6,margin:"1px 4px",background:r===u.id?"rgba(167,139,250,0.12)":"transparent",borderLeft:`2px solid ${r===u.id?"#a78bfa":"transparent"}`,transition:"background 0.1s"},children:[h.jsx("p",{style:{fontSize:"0.72rem",fontWeight:600,color:r===u.id?"#c4b5fd":"var(--text)",margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:u.prompt}),h.jsxs("p",{style:{fontSize:"0.6rem",color:"var(--muted)",margin:"2px 0 0"},children:[new Date(u.createdAt).toLocaleDateString(),"  ",Object.keys(u.files||{}).length," files"]})]},u.id))]}),h.jsx("div",{style:{flex:1,overflowY:"auto",padding:20},children:c?h.jsxs(h.Fragment,{children:[h.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:16,gap:12},children:[h.jsxs("div",{children:[h.jsx("h3",{style:{fontWeight:700,fontSize:"0.95rem",color:"var(--text)",margin:"0 0 4px"},children:c.prompt}),h.jsxs("p",{style:{fontSize:"0.72rem",color:"var(--muted)",margin:0},children:[new Date(c.createdAt).toLocaleString(),"  ",c.language]})]}),h.jsx("button",{onClick:()=>t(c),style:{flexShrink:0,background:"linear-gradient(135deg,#7c3aed,#ec4899)",border:"none",borderRadius:8,padding:"7px 16px",cursor:"pointer",color:"#fff",fontWeight:700,fontSize:"0.78rem",fontFamily:"inherit"},children:"Load build"})]}),h.jsxs("p",{style:{fontSize:"0.65rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--muted)",marginBottom:8},children:["Files (",Object.keys(c.files||{}).length,")"]}),h.jsx("div",{style:{display:"flex",flexDirection:"column",gap:3},children:Object.keys(c.files||{}).map(u=>h.jsx("div",{style:{padding:"5px 10px",background:"rgba(255,255,255,0.03)",borderRadius:6,border:"1px solid var(--border)",fontSize:"0.75rem",fontFamily:"monospace",color:"#a78bfa"},children:u},u))})]}):h.jsx("p",{style:{color:"var(--muted)",fontSize:"0.8rem"},children:"Select a build to load it"})})]})}function zR({hasKey:n}){return h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100%",gap:12},children:[h.jsx("div",{style:{fontSize:"2.5rem",opacity:.3},children:h.jsx(Bc,{size:36})}),h.jsx("p",{style:{color:"var(--muted)",fontSize:"0.875rem",textAlign:"center",maxWidth:300,lineHeight:1.6},children:n?"Describe what you want to build above and hit Build":"Open Settings (top right)  enter your API key  describe what to build"})]})}function NR({language:n,database:t}){const a=Ys.find(l=>l.id===n),r=Ks.find(l=>l.id===t);return h.jsx("div",{style:{padding:32,maxWidth:560},children:h.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:16,padding:24,border:"1px solid var(--border)"},children:[h.jsx("h3",{style:{fontFamily:"var(--font-display)",fontWeight:700,marginBottom:8},children:"Project Ready"}),h.jsx("p",{style:{color:"var(--muted)",fontSize:"0.825rem",marginBottom:20},children:"Download the ZIP and run locally:"}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[r?.docker&&h.jsx(hc,{label:"1. Start database",cmd:r.docker,color:"#60a5fa"}),a?.setup&&h.jsx(hc,{label:`${r?.docker?"2":"1"}. Install dependencies`,cmd:a.setup,color:"#a78bfa"}),h.jsx(hc,{label:"Run",cmd:a?.run||"node server.js",color:"#86efac"})]})]})})}const BR=[{title:"AI Email Ghostwriter",category:"SaaS",hook:"Write professional emails in your voice  never stare at a blank composer again."},{title:"Micro SaaS Blueprint",category:"DevTool",hook:"Full code boilerplate to go from idea to paid product in a single weekend."},{title:"Sleep ROI Tracker",category:"Health",hook:"Correlate your sleep patterns with productivity, mood, and revenue data."},{title:"Cold Outreach Machine",category:"B2B",hook:"AI personalizes 100 cold emails per day using LinkedIn scraping, with auto follow-ups."},{title:"Niche Report Club",category:"B2B",hook:"Weekly AI-generated market intelligence for specific industries, delivered by email."},{title:"Creator Revenue OS",category:"Creator",hook:"One dashboard to track Substack, YouTube, courses, merch  every revenue stream."},{title:"AI Therapist for Founders",category:"Health",hook:"CBT-based journaling prompts tuned specifically for founder burnout and stress."},{title:"Solo CRM",category:"B2B",hook:"The relationship tracker built for founders who hate Salesforce."},{title:"Legal Templates AI",category:"SaaS",hook:"Generate startup-grade legal documents (NDAs, SOWs, SaaS agreements) in seconds."},{title:"App Idea Validator",category:"DevTool",hook:"Scrapes Reddit, App Store, and Product Hunt to auto-validate your idea before you build."},{title:"Remote Team Vibes",category:"B2B",hook:"Weekly 5-minute pulse surveys that predict team burnout before it happens."},{title:"Competitor Alert Bot",category:"SaaS",hook:"Get Slack notifications when competitors update pricing, launch features, or post jobs."},{title:"Shopify Exit Intent Suite",category:"Marketplace",hook:"AI-powered popups that know exactly when and why a shopper is about to leave."},{title:"API Monetization Toolkit",category:"DevTool",hook:"Turn any internal API into a paid product in under an hour  billing included."},{title:"Virtual Interior Stager",category:"Marketplace",hook:"Upload an empty room photo  AI fills it with shoppable, on-brand furniture."},{title:"Micro-Influencer Matchmaker",category:"Creator",hook:"Brands find creators under 50K followers with insane engagement rates."},{title:"AI-Powered Flashcard Tutor",category:"Education",hook:"Turn any PDF or lecture into adaptive flashcards that know what you keep forgetting."},{title:"Freelance Pricing Oracle",category:"SaaS",hook:"Tell it your skills and location  it tells you exactly what to charge, backed by real data."},{title:"Domain Flip Intelligence",category:"Finance",hook:"AI scans expiring domains daily and scores them for flip-worthiness."},{title:"Startup Job Board AI",category:"Marketplace",hook:"AI matches candidates to early-stage startups based on culture, not just keywords."},{title:"Podcast Clip Factory",category:"Creator",hook:"Upload a podcast episode  get 10 viral-ready short clips with captions in minutes."},{title:"Indie Dev Analytics",category:"DevTool",hook:"Revenue, churn, and growth analytics tuned for one-person SaaS businesses."},{title:"AI Plant Doctor",category:"Consumer",hook:"Snap a photo of a sick plant  get an instant diagnosis and care plan."},{title:"Debt Payoff Gamifier",category:"Finance",hook:"Turn your debt repayment into an RPG  earn XP, level up, unlock rewards."},{title:"Ghost Kitchen Optimizer",category:"Marketplace",hook:"AI predicts demand and optimizes menu pricing for delivery-only restaurant kitchens."},{title:"LinkedIn Outreach OS",category:"B2B",hook:"AI writes hyper-personalized connection requests that actually get accepted."},{title:"No-Code AI App Builder",category:"DevTool",hook:"Describe your app in plain English  ship a working version before lunch."},{title:"Fitness Accountability Pods",category:"Health",hook:"Get matched with 3 strangers at the same fitness level  weekly check-ins keep you honest."},{title:"Smart Receipt Splitter",category:"Consumer",hook:"Photo-scan a restaurant bill  it splits costs, calculates tip, and sends payment requests instantly."},{title:"Micro Agency Toolkit",category:"B2B",hook:"Everything a 2-person agency needs: proposals, invoices, client portals, and reporting."}],Fv=["AI-powered productivity tool for remote workers","Marketplace for freelance creative services","SaaS for small business financial management","Developer tool that automates repetitive coding tasks","Health and fitness app with personalization","B2B analytics platform for e-commerce stores","Creator monetization platform","Education tool that adapts to learning style","Finance app for freelancers and contractors","AI writing assistant for content creators"];function LR(){return Fv[Math.floor(Math.random()*Fv.length)]}function UR(){const n=T.useRef(null),t=T.useRef([]),a=T.useRef("scroll"),r=T.useRef(null),l=T.useRef(0);return T.useEffect(()=>{const c=n.current;if(!c)return;const u=52;c.innerHTML="",t.current=[];for(let _=0;_<u;_++){const j=document.createElement("div");j.className="side-bar",j.addEventListener("click",()=>{window.scrollTo({top:_/(u-1)*(document.documentElement.scrollHeight-window.innerHeight),behavior:"smooth"})}),c.appendChild(j),t.current.push(j)}function p(){return t.current.map((_,j)=>{const R=j/(u-1);let A=.12;return[0,1].forEach((C,k)=>{const L=(k+.5)/2;A=Math.max(A,Math.exp(-Math.pow((R-L)*5,2))*.72)}),A})}const m=p();function g(){if(a.current!=="scroll")return;const _=window.scrollY,j=document.documentElement.scrollHeight-window.innerHeight,A=(j>0?Math.min(_/j,1):0)*(u-1);t.current.forEach((C,k)=>{const L=Math.abs(k-A),V=Math.exp(-L*L/18);C.style.width=m[k]*28+V*20+"px",C.style.opacity=Math.min(.18+V*.72+m[k]*.1,.95)})}function y(){a.current="pulse",cancelAnimationFrame(r.current);function _(){l.current+=.015;const j=(u-1)/2,R=Math.sin(l.current)*5,A=j+R;t.current.forEach((C,k)=>{const L=Math.abs(k-A),V=(k/(u-1)-.5)*2,Y=Math.exp(-V*V*2.4)*.8+.1,F=Math.exp(-L*L/30);C.style.width=Y*18+F*28+"px",C.style.opacity=Math.min(.15+Y*.2+F*.65,.95)}),r.current=requestAnimationFrame(_)}_()}function x(){a.current="scroll",cancelAnimationFrame(r.current),g()}window.addEventListener("scroll",g,{passive:!0}),g();let b=!1;function S(_){const j=c.getBoundingClientRect(),R=Math.max(0,Math.min(1,(_-j.top)/j.height));window.scrollTo(0,R*(document.documentElement.scrollHeight-window.innerHeight))}return c.addEventListener("mousedown",_=>{b=!0,S(_.clientY),_.preventDefault()}),window.addEventListener("mousemove",_=>{b&&S(_.clientY)}),window.addEventListener("mouseup",()=>{b=!1}),c.addEventListener("mouseenter",y),c.addEventListener("mouseleave",x),()=>{window.removeEventListener("scroll",g),cancelAnimationFrame(r.current)}},[]),h.jsx("div",{className:"side-wave",ref:n,children:h.jsx("div",{className:"side-note",children:h.jsxs("svg",{width:"18",height:"20",viewBox:"0 0 18 20",fill:"none",children:[h.jsx("path",{d:"M6 15V4.5L16 2.5V13",stroke:"url(#ng)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("circle",{cx:"4",cy:"15",r:"2.5",stroke:"url(#ng)",strokeWidth:"1.5"}),h.jsx("circle",{cx:"14",cy:"13",r:"2.5",stroke:"url(#ng)",strokeWidth:"1.5"}),h.jsx("defs",{children:h.jsxs("linearGradient",{id:"ng",x1:"0",y1:"0",x2:"16",y2:"20",gradientUnits:"userSpaceOnUse",children:[h.jsx("stop",{stopColor:"#c084fc"}),h.jsx("stop",{offset:"1",stopColor:"#f472b6"})]})})]})})})}function PR({onBack:n}){const[t,a]=T.useState(null),r=()=>{a("Not added yet  future update! "),setTimeout(()=>a(null),3e3)},l=[{name:"Drift",tagline:"Dip your toes in. No card needed.",price:null,label:"Free",features:["3 idea generations / month","AI startup analysis & roadmap","Marketing plan","Launch checklist","App icon generator"],cta:"Start drifting",popular:!1},{name:"Chillin'",tagline:"Top AI models. All the features.",price:"4.99",label:"Most popular",features:["30 idea generations / month","Premium AI models (Claude, GPT-4o)","Real AI-generated app icons","Full 30-day monetization roadmap","Investor pitch deck generation","Priority queue & faster outputs","More features dropping soon "],cta:"Start chillin'",popular:!0},{name:"Vibin'",tagline:"Unlimited. Unfiltered. All in.",price:"16.99",label:null,features:["Unlimited idea generations","All Chillin' features included","Market sizing & TAM analysis","Competitor deep-dive reports","Early access to everything new"],cta:"Start vibin'",popular:!1}];return h.jsxs(Re.div,{className:"screen",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{minHeight:"100vh",padding:"100px 24px 80px",display:"flex",flexDirection:"column",alignItems:"center"},children:[t&&h.jsx("div",{style:{position:"fixed",top:80,left:"50%",transform:"translateX(-50%)",background:"rgba(192,132,252,0.12)",border:"1px solid rgba(192,132,252,0.3)",borderRadius:100,padding:"10px 22px",fontSize:"0.85rem",color:"var(--accent-1)",zIndex:600,backdropFilter:"blur(12px)"},children:t}),h.jsxs("div",{className:"section-eyebrow",style:{marginBottom:8},children:[h.jsx("span",{className:"el l"}),h.jsx("span",{children:"PRICING"}),h.jsx("span",{className:"el r"})]}),h.jsxs("h1",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"clamp(36px,7vw,64px)",letterSpacing:"-0.03em",lineHeight:1,marginBottom:16,textAlign:"center"},children:["Find your ",h.jsx("em",{style:{fontStyle:"italic",background:"linear-gradient(135deg,var(--accent-1),var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"frequency."})]}),h.jsx("p",{style:{color:"var(--muted)",fontSize:"1rem",fontWeight:300,marginBottom:56,textAlign:"center"},children:"Start free. Upgrade when you're ready to go deeper."}),h.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(260px,1fr))",gap:16,maxWidth:900,width:"100%"},children:l.map(c=>h.jsxs("div",{style:{position:"relative",background:c.popular?"rgba(192,132,252,0.06)":"rgba(255,255,255,0.03)",border:c.popular?"1px solid rgba(192,132,252,0.25)":"1px solid var(--border)",borderRadius:22,padding:"28px 24px",display:"flex",flexDirection:"column"},children:[c.popular&&h.jsx("div",{style:{position:"absolute",top:-12,left:"50%",transform:"translateX(-50%)",background:"linear-gradient(135deg,#a855f7,#ec4899)",borderRadius:100,padding:"4px 14px",fontSize:"11px",fontWeight:500,letterSpacing:"0.1em",color:"white",whiteSpace:"nowrap"},children:"Most popular"}),h.jsxs("div",{style:{marginBottom:20},children:[h.jsx("h2",{style:{fontFamily:"var(--font-display)",fontWeight:900,fontSize:"1.5rem",marginBottom:4},children:c.name}),h.jsx("p",{style:{color:"var(--muted)",fontSize:"0.82rem",fontWeight:300},children:c.tagline})]}),h.jsx("div",{style:{marginBottom:24},children:c.price?h.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:4},children:[h.jsxs("span",{style:{fontSize:"2.2rem",fontWeight:700,fontFamily:"var(--font-display)",lineHeight:1},children:[h.jsx("span",{style:{fontSize:"1rem",verticalAlign:"super",marginRight:1},children:"$"}),c.price]}),h.jsx("span",{style:{color:"var(--muted)",fontSize:"0.8rem",fontWeight:300,paddingBottom:4},children:"/ mo"})]}):h.jsx("div",{style:{fontSize:"2rem",fontWeight:700,fontFamily:"var(--font-display)",lineHeight:1},children:"Free"})}),h.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:28,display:"flex",flexDirection:"column",gap:10,flex:1},children:c.features.map((u,p)=>h.jsxs("li",{style:{display:"flex",alignItems:"flex-start",gap:9,fontSize:"0.84rem",fontWeight:300,color:"rgba(255,255,255,0.7)"},children:[h.jsx("span",{style:{color:"var(--accent-1)",fontSize:"0.7rem",marginTop:4,flexShrink:0},children:""}),u]},p))}),h.jsx("button",{onClick:c.price?r:n,style:{width:"100%",padding:"12px",borderRadius:100,fontSize:"0.88rem",fontWeight:500,cursor:c.price?"not-allowed":"pointer",background:c.popular?"linear-gradient(135deg,#a855f7,#ec4899)":"rgba(255,255,255,0.05)",border:c.popular?"none":"1px solid var(--border)",color:c.popular?"white":"rgba(255,255,255,0.5)",opacity:c.price?.45:1,transition:"opacity 0.2s"},children:c.cta}),c.price&&h.jsx("p",{style:{textAlign:"center",fontSize:"0.72rem",color:"var(--muted)",marginTop:10},children:"Coming soon"})]},c.name))}),h.jsx("button",{onClick:n,className:"btn-ghost",style:{marginTop:48},children:" Back"})]})}function IR(){const{user:n,profile:t,loading:a,signOut:r,refreshProfile:l}=Q1(),[c,u]=T.useState("home"),[p,m]=T.useState(!1),[g,y]=T.useState(null),[x,b]=T.useState(""),[S,_]=T.useState([]),[j,R]=T.useState(null),[A,C]=T.useState(null),[k,L]=T.useState([]),[V,Y]=T.useState(!1),[F,q]=T.useState(!1),[te,he]=T.useState(!1),[ke,ye]=T.useState(!1),ot=T.useRef(null),vt=T.useRef(null),Ie=T.useRef(null),P=T.useRef(null),K=T.useRef(null),J=T.useRef(null),[ge,ve]=T.useState(!1);T.useEffect(()=>{const be=()=>{if(!Ie.current){try{const se=new(window.AudioContext||window.webkitAudioContext);Ie.current=se;const Ke=85,Jt=60/Ke,Lt=Jt/2,ht=se.createGain();ht.gain.setValueAtTime(0,se.currentTime),ht.gain.linearRampToValueAtTime(.55,se.currentTime+1.5),P.current=ht;const Ze=se.createBiquadFilter();Ze.type="lowpass",Ze.frequency.value=3200,Ze.Q.value=.8;const Zt=se.createAnalyser();Zt.fftSize=64,J.current=Zt,ht.connect(Ze),Ze.connect(se.destination),ht.connect(Zt);const ca=se.createBuffer(1,se.sampleRate*2,se.sampleRate),an=ca.getChannelData(0);for(let ce=0;ce<an.length;ce++)an[ce]=(Math.random()-.5)*(Math.random()<.003?1:0);const sn=se.createBufferSource();sn.buffer=ca,sn.loop=!0;const Ln=se.createGain();Ln.gain.value=.04,sn.connect(Ln),Ln.connect(ht),sn.start();const Ai=ce=>{const Ee=se.createOscillator(),Ce=se.createGain();Ee.frequency.setValueAtTime(160,ce),Ee.frequency.exponentialRampToValueAtTime(40,ce+.12),Ce.gain.setValueAtTime(.9,ce),Ce.gain.exponentialRampToValueAtTime(.001,ce+.25),Ee.connect(Ce),Ce.connect(ht),Ee.start(ce),Ee.stop(ce+.3)},Wa=ce=>{const Ee=se.createBufferSource(),Ce=se.createBuffer(1,se.sampleRate*.2,se.sampleRate),Ge=Ce.getChannelData(0);for(let _e=0;_e<Ge.length;_e++)Ge[_e]=Math.random()*2-1;Ee.buffer=Ce;const ft=se.createBiquadFilter();ft.type="bandpass",ft.frequency.value=1800;const pt=se.createGain();pt.gain.setValueAtTime(.45,ce),pt.gain.exponentialRampToValueAtTime(.001,ce+.18),Ee.connect(ft),ft.connect(pt),pt.connect(ht),Ee.start(ce),Ee.stop(ce+.2)},Ut=(ce,Ee=!1)=>{const Ce=se.createBufferSource(),Ge=se.createBuffer(1,se.sampleRate*.08,se.sampleRate),ft=Ge.getChannelData(0);for(let Ct=0;Ct<ft.length;Ct++)ft[Ct]=Math.random()*2-1;Ce.buffer=Ge;const pt=se.createBiquadFilter();pt.type="highpass",pt.frequency.value=8e3;const _e=se.createGain();_e.gain.setValueAtTime(Ee?.18:.12,ce),_e.gain.exponentialRampToValueAtTime(.001,ce+(Ee?.1:.035)),Ce.connect(pt),pt.connect(_e),_e.connect(ht),Ce.start(ce),Ce.stop(ce+.12)},ua=(ce,Ee,Ce)=>{const Ge=se.createOscillator(),ft=se.createGain();Ge.frequency.value=Ee,ft.gain.setValueAtTime(.5,ce),ft.gain.setValueAtTime(.35,ce+Ce*.6),ft.gain.exponentialRampToValueAtTime(.001,ce+Ce),Ge.connect(ft),ft.connect(ht),Ge.start(ce),Ge.stop(ce+Ce+.02)},Ei=(ce,Ee,Ce)=>{Ee.forEach(Ge=>{const ft=se.createOscillator();ft.type="triangle",ft.frequency.value=Ge;const pt=se.createGain();pt.gain.setValueAtTime(0,ce),pt.gain.linearRampToValueAtTime(.12,ce+.3),pt.gain.setValueAtTime(.12,ce+Ce-.4),pt.gain.linearRampToValueAtTime(0,ce+Ce),ft.connect(pt),pt.connect(ht),ft.start(ce),ft.stop(ce+Ce+.05)})},Ci=[[220,261.63,329.63,392],[174.61,220,261.63,349.23],[261.63,329.63,392,493.88],[196,246.94,293.66,369.99]],Yn=[110,87.31,130.81,98],Ya=["K","H","H","H","K","H","S","H","K","H","H","H","K","H","S","H","K","H","H","H","K","H","S","H","K","H","KH","H","K","H","S","H"],Ri=Jt*4,Kn=Ri*4;let da=se.currentTime+.1;const Xn=ce=>{Ya.forEach((Ee,Ce)=>{const Ge=ce+Ce*Lt;Ee.includes("K")&&Ai(Ge),Ee.includes("S")&&Wa(Ge),Ee.includes("H")&&Ut(Ge,Ce%4===2)}),Ci.forEach((Ee,Ce)=>{const Ge=ce+Ce*Ri;Ei(Ge,Ee,Ri-.1),ua(Ge,Yn[Ce],Jt*.85),ua(Ge+Jt*2,Yn[Ce]*(Ce%2===0?1.125:1),Jt*.85)})};Xn(da);const jt=setInterval(()=>{da+=Kn,Xn(da)},Kn*1e3-50);K.current=()=>{clearInterval(jt);try{se.close()}catch{}}}catch{}document.removeEventListener("click",be)}};return document.addEventListener("click",be,{once:!0}),()=>document.removeEventListener("click",be)},[]);const O=()=>{const be=!ge;if(ve(be),P.current){const se=Ie.current;P.current.gain.cancelScheduledValues(se.currentTime),P.current.gain.linearRampToValueAtTime(be?0:.55,se.currentTime+.3)}},H=T.useCallback(()=>{if(!t)return{left:1,resetLabel:""};const se=Math.max(0,1-(t.requests_this_week||0))+(t.extra_requests||0);let Ke="";if(se<=0&&t.week_started_at){const Lt=new Date(new Date(t.week_started_at).getTime()+6048e5)-Date.now();if(Lt>0){const ht=Math.floor(Lt/864e5),Ze=Math.floor(Lt%864e5/36e5),Zt=Math.floor(Lt%36e5/6e4);Ke=ht>0?`${ht}d ${Ze}h`:Ze>0?`${Ze}h ${Zt}m`:`${Zt}m`}}return{left:se,resetLabel:Ke}},[t]);T.useEffect(()=>{n&&za&&(af(n.id).then(L).catch(()=>L([])),gE(n.id).then(Y).catch(()=>Y(!0)))},[n]),T.useEffect(()=>{c==="results"&&(ot.current=Date.now())},[c]),T.useEffect(()=>{if(c==="results"&&ke){const be=Date.now()-(ot.current||Date.now()),se=Math.max(5e4-be,5e3),Ke=setTimeout(()=>{he(!0),ye(!1)},se);return()=>clearTimeout(Ke)}},[c,ke]),T.useEffect(()=>{if(!vt.current)return;const be=[.4,.75,1,.82,.55,.9,.62];vt.current.innerHTML="",be.forEach((se,Ke)=>{const Jt=document.createElement("div");Jt.className="nav-logo-bar";const Lt=Math.round(se*14),ht=Math.max(2,Math.round(se*5));Jt.style.cssText=`height:${Lt}px;--min:${ht/Lt};--max:1;--dur:${.6+Ke*.11}s`,vt.current.appendChild(Jt)})},[]);const X=T.useCallback(async(be,se=!1)=>{if(b(be),C(null),n&&za)try{if(!(await dE(n.id)).allowed){const{resetLabel:Jt}=H();C(`Oh no! You're out of generations. Check back in ${Jt||"a bit"} or redeem a promo code for more.`);return}}catch(Ke){console.error("Rate limit check failed:",Ke),C("Failed to check usage limit. Please try again.");return}u("generating");try{const Ke=se?await YC(be):await GC(be);n&&za&&(await mE(n.id,be,Ke),af(n.id).then(L).catch(()=>{}),se&&(await yE(n.id),Y(!1),q(!1),ye(!0))),R(Ke),u("results"),l()}catch(Ke){console.error(Ke),C("Generation failed. Please try again."),u("home")}},[n,l,H]),Z=T.useCallback(be=>{if(n&&za){const{left:se,resetLabel:Ke}=H();if(se<=0){C(`Oh no! You're out of generations. Check back in ${Ke||"a bit"} or redeem a promo code for more.`);return}}X(be,F)},[X,n,H,F]),de=T.useCallback(async()=>{if(n&&za){const{left:se,resetLabel:Ke}=H();if(se<=0){C(`Oh no! You're out of generations. Check back in ${Ke||"a bit"} or redeem a promo code for more.`);return}}const be=LR();b(be),C(null),u("loading_swipe");try{const se=await HC(be);_(se),u("swipe")}catch{_(BR),u("swipe")}},[n,H]),Q=T.useCallback(be=>{const se=`${be.title}: ${be.hook||be.description}`;X(se,F)},[X,F]),le=T.useCallback(()=>{u("home"),b(""),_([]),R(null),C(null)},[]),St=T.useCallback(be=>{b(be.idea),R(be.results),u("results")},[]);if(a)return h.jsx("div",{className:"app-wrapper",style:{justifyContent:"center",alignItems:"center"},children:h.jsxs("div",{className:"loading-dots",children:[h.jsx("span",{}),h.jsx("span",{}),h.jsx("span",{})]})});if(!n&&za)return h.jsx("div",{className:"app-wrapper",children:h.jsx(RC,{})});if(c==="account")return h.jsx("div",{className:"app-wrapper",children:h.jsx(DC,{onBack:()=>u("home"),onViewPast:St})});const st=c==="loading_swipe"||c==="generating";return h.jsxs("div",{className:"app-wrapper",children:[h.jsx("div",{className:"blob blob-1"}),h.jsx("div",{className:"blob blob-2"}),h.jsx("div",{className:"blob blob-3"}),h.jsx("div",{className:"corner-tl"}),!st&&h.jsx(UR,{}),!st&&h.jsxs("nav",{className:"nav",children:[h.jsxs("button",{className:"nav-logo",onClick:()=>u("home"),children:[h.jsx("div",{className:"nav-logo-wave",ref:vt}),"VIBEnow"]}),h.jsxs("div",{className:"nav-right",children:[h.jsx("button",{onClick:O,title:ge?"Unmute music":"Mute music",style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",lineHeight:1,padding:"4px 6px",opacity:ge?.35:.7,position:"relative",display:"flex",alignItems:"center"},children:h.jsxs("span",{style:{position:"relative",display:"inline-block"},children:["",ge&&h.jsx("span",{style:{position:"absolute",left:-1,right:-1,top:"50%",height:"1.5px",background:"rgba(255,255,255,0.8)",transform:"rotate(-30deg)",transformOrigin:"center",borderRadius:2}})]})}),h.jsx("button",{className:"btn-ghost",onClick:()=>u("pricing"),children:"Pricing"}),h.jsx("button",{className:"btn-ghost",onClick:()=>m(!0),style:{background:"rgba(167,139,252,0.08)",border:"1px solid rgba(167,139,252,0.2)"},children:" Build"}),n?h.jsx("button",{className:"btn-ghost",onClick:()=>u("account"),children:"Account"}):h.jsx("button",{className:"btn-filled",onClick:()=>u("account"),children:h.jsx("span",{children:"Sign in"})})]})]}),A&&h.jsx("div",{style:{position:"fixed",top:16,left:"50%",transform:"translateX(-50%)",zIndex:600,background:"rgba(239,68,68,0.15)",border:"1px solid rgba(239,68,68,0.35)",color:"#fca5a5",padding:"10px 20px",borderRadius:12,fontSize:"0.85rem",maxWidth:420,textAlign:"center"},children:A}),h.jsxs(cn,{mode:"wait",children:[c==="home"&&h.jsx(zC,{onSubmit:Z,onRandom:de,onAccount:()=>u("account"),onViewPast:St,profile:t,premiumMode:F,premiumBanner:n&&za&&V?h.jsx(SR,{onTryPremium:()=>q(!0),onDismiss:()=>{}}):null,history:k.filter(be=>be.results).map(be=>({id:be.id,idea:be.idea,results:be.results,createdAt:be.created_at}))},"home"),(c==="loading_swipe"||c==="generating")&&h.jsx(vR,{screen:c,isPremium:F},c),c==="swipe"&&h.jsx(BC,{ideas:S,onChoose:Q,onStartOver:le,onQuickBuild:be=>{y(be),m(!0)}},"swipe"),c==="results"&&j&&h.jsx(gR,{idea:x,results:j,onStartOver:le,isPremium:j?.isPremium||F,onOpenBuilder:()=>m(!0)},"results"),c==="pricing"&&h.jsx(PR,{onBack:()=>u("home")},"pricing")]}),h.jsx(cn,{children:p&&h.jsx(OR,{onBack:()=>{m(!1),y(null)},audioMuted:ge,toggleMute:O,analyserRef:J,quickBuild:g})}),h.jsx(xR,{}),h.jsx(cn,{children:te&&h.jsx(TR,{onSubmit:async be=>{n&&await vE(n.id,be),he(!1)},onSkip:()=>he(!1)})})]})}Dw.createRoot(document.getElementById("root")).render(h.jsx(T.StrictMode,{children:h.jsx(TE,{children:h.jsx(IR,{})})}));
